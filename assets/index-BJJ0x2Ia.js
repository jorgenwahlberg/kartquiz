(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function u(){return this instanceof u?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(u){var c=Object.getOwnPropertyDescriptor(e,u);Object.defineProperty(s,u,c.get?c:{enumerable:!0,get:function(){return e[u]}})}),s}var Og={exports:{}},gl={},Mg={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),Pv=Symbol.for("react.portal"),Ov=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),Av=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),zv=Symbol.for("react.forward_ref"),Fv=Symbol.for("react.suspense"),bv=Symbol.for("react.memo"),Bv=Symbol.for("react.lazy"),$f=Symbol.iterator;function Gv(e){return e===null||typeof e!="object"?null:(e=$f&&e[$f]||e["@@iterator"],typeof e=="function"?e:null)}var Rg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,Dg={};function Qs(e,t,s){this.props=e,this.context=t,this.refs=Dg,this.updater=s||Rg}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zg(){}zg.prototype=Qs.prototype;function Dh(e,t,s){this.props=e,this.context=t,this.refs=Dg,this.updater=s||Rg}var zh=Dh.prototype=new zg;zh.constructor=Dh;Ag(zh,Qs.prototype);zh.isPureReactComponent=!0;var Qf=Array.isArray,Fg=Object.prototype.hasOwnProperty,Fh={current:null},bg={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,t,s){var u,c={},d=null,m=null;if(t!=null)for(u in t.ref!==void 0&&(m=t.ref),t.key!==void 0&&(d=""+t.key),t)Fg.call(t,u)&&!bg.hasOwnProperty(u)&&(c[u]=t[u]);var p=arguments.length-2;if(p===1)c.children=s;else if(1<p){for(var k=Array(p),N=0;N<p;N++)k[N]=arguments[N+2];c.children=k}if(e&&e.defaultProps)for(u in p=e.defaultProps,p)c[u]===void 0&&(c[u]=p[u]);return{$$typeof:Ea,type:e,key:d,ref:m,props:c,_owner:Fh.current}}function Zv(e,t){return{$$typeof:Ea,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ea}function Uv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Kf=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uv(""+e.key):t.toString(36)}function ku(e,t,s,u,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var m=!1;if(e===null)m=!0;else switch(d){case"string":case"number":m=!0;break;case"object":switch(e.$$typeof){case Ea:case Pv:m=!0}}if(m)return m=e,c=c(m),e=u===""?"."+Ql(m,0):u,Qf(c)?(s="",e!=null&&(s=e.replace(Kf,"$&/")+"/"),ku(c,t,s,"",function(N){return N})):c!=null&&(bh(c)&&(c=Zv(c,s+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(Kf,"$&/")+"/")+e)),t.push(c)),1;if(m=0,u=u===""?".":u+":",Qf(e))for(var p=0;p<e.length;p++){d=e[p];var k=u+Ql(d,p);m+=ku(d,t,s,k,c)}else if(k=Gv(e),typeof k=="function")for(e=k.call(e),p=0;!(d=e.next()).done;)d=d.value,k=u+Ql(d,p++),m+=ku(d,t,s,k,c);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return m}function Wa(e,t,s){if(e==null)return e;var u=[],c=0;return ku(e,u,"","",function(d){return t.call(s,d,c++)}),u}function Yv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},wu={transition:null},qv={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Fh};function Gg(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Wa,forEach:function(e,t,s){Wa(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Wa(e,function(){t++}),t},toArray:function(e){return Wa(e,function(t){return t})||[]},only:function(e){if(!bh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Qs;Ye.Fragment=Ov;Ye.Profiler=Rv;Ye.PureComponent=Dh;Ye.StrictMode=Mv;Ye.Suspense=Fv;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qv;Ye.act=Gg;Ye.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var u=Ag({},e.props),c=e.key,d=e.ref,m=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,m=Fh.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(k in t)Fg.call(t,k)&&!bg.hasOwnProperty(k)&&(u[k]=t[k]===void 0&&p!==void 0?p[k]:t[k])}var k=arguments.length-2;if(k===1)u.children=s;else if(1<k){p=Array(k);for(var N=0;N<k;N++)p[N]=arguments[N+2];u.children=p}return{$$typeof:Ea,type:e.type,key:c,ref:d,props:u,_owner:m}};Ye.createContext=function(e){return e={$$typeof:Dv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Av,_context:e},e.Consumer=e};Ye.createElement=Bg;Ye.createFactory=function(e){var t=Bg.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:zv,render:e}};Ye.isValidElement=bh;Ye.lazy=function(e){return{$$typeof:Bv,_payload:{_status:-1,_result:e},_init:Yv}};Ye.memo=function(e,t){return{$$typeof:bv,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=wu.transition;wu.transition={};try{e()}finally{wu.transition=t}};Ye.unstable_act=Gg;Ye.useCallback=function(e,t){return tn.current.useCallback(e,t)};Ye.useContext=function(e){return tn.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return tn.current.useEffect(e,t)};Ye.useId=function(){return tn.current.useId()};Ye.useImperativeHandle=function(e,t,s){return tn.current.useImperativeHandle(e,t,s)};Ye.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return tn.current.useMemo(e,t)};Ye.useReducer=function(e,t,s){return tn.current.useReducer(e,t,s)};Ye.useRef=function(e){return tn.current.useRef(e)};Ye.useState=function(e){return tn.current.useState(e)};Ye.useSyncExternalStore=function(e,t,s){return tn.current.useSyncExternalStore(e,t,s)};Ye.useTransition=function(){return tn.current.useTransition()};Ye.version="18.3.1";Mg.exports=Ye;var ue=Mg.exports;const pi=dl(ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv=ue,Vv=Symbol.for("react.element"),Hv=Symbol.for("react.fragment"),Xv=Object.prototype.hasOwnProperty,Wv=jv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$v={key:!0,ref:!0,__self:!0,__source:!0};function Zg(e,t,s){var u,c={},d=null,m=null;s!==void 0&&(d=""+s),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(m=t.ref);for(u in t)Xv.call(t,u)&&!$v.hasOwnProperty(u)&&(c[u]=t[u]);if(e&&e.defaultProps)for(u in t=e.defaultProps,t)c[u]===void 0&&(c[u]=t[u]);return{$$typeof:Vv,type:e,key:d,ref:m,props:c,_owner:Wv.current}}gl.Fragment=Hv;gl.jsx=Zg;gl.jsxs=Zg;Og.exports=gl;var ee=Og.exports,Mc={},Ug={exports:{}},wn={},Yg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,ae){var B=W.length;W.push(ae);e:for(;0<B;){var ne=B-1>>>1,fe=W[ne];if(0<c(fe,ae))W[ne]=ae,W[B]=fe,B=ne;else break e}}function s(W){return W.length===0?null:W[0]}function u(W){if(W.length===0)return null;var ae=W[0],B=W.pop();if(B!==ae){W[0]=B;e:for(var ne=0,fe=W.length,Ie=fe>>>1;ne<Ie;){var se=2*(ne+1)-1,ke=W[se],de=se+1,Ge=W[de];if(0>c(ke,B))de<fe&&0>c(Ge,ke)?(W[ne]=Ge,W[de]=B,ne=de):(W[ne]=ke,W[se]=B,ne=se);else if(de<fe&&0>c(Ge,B))W[ne]=Ge,W[de]=B,ne=de;else break e}}return ae}function c(W,ae){var B=W.sortIndex-ae.sortIndex;return B!==0?B:W.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();e.unstable_now=function(){return m.now()-p}}var k=[],N=[],C=1,w=null,T=3,D=!1,M=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(W){for(var ae=s(N);ae!==null;){if(ae.callback===null)u(N);else if(ae.startTime<=W)u(N),ae.sortIndex=ae.expirationTime,t(k,ae);else break;ae=s(N)}}function F(W){if(G=!1,P(W),!M)if(s(k)!==null)M=!0,xe(b);else{var ae=s(N);ae!==null&&Te(F,ae.startTime-W)}}function b(W,ae){M=!1,G&&(G=!1,R(H),H=-1),D=!0;var B=T;try{for(P(ae),w=s(k);w!==null&&(!(w.expirationTime>ae)||W&&!ge());){var ne=w.callback;if(typeof ne=="function"){w.callback=null,T=w.priorityLevel;var fe=ne(w.expirationTime<=ae);ae=e.unstable_now(),typeof fe=="function"?w.callback=fe:w===s(k)&&u(k),P(ae)}else u(k);w=s(k)}if(w!==null)var Ie=!0;else{var se=s(N);se!==null&&Te(F,se.startTime-ae),Ie=!1}return Ie}finally{w=null,T=B,D=!1}}var j=!1,V=null,H=-1,Q=5,le=-1;function ge(){return!(e.unstable_now()-le<Q)}function ye(){if(V!==null){var W=e.unstable_now();le=W;var ae=!0;try{ae=V(!0,W)}finally{ae?be():(j=!1,V=null)}}else j=!1}var be;if(typeof I=="function")be=function(){I(ye)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Ne=re.port2;re.port1.onmessage=ye,be=function(){Ne.postMessage(null)}}else be=function(){$(ye,0)};function xe(W){V=W,j||(j=!0,be())}function Te(W,ae){H=$(function(){W(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){M||D||(M=!0,xe(b))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return s(k)},e.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var B=T;T=ae;try{return W()}finally{T=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var B=T;T=W;try{return ae()}finally{T=B}},e.unstable_scheduleCallback=function(W,ae,B){var ne=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ne+B:ne):B=ne,W){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=B+fe,W={id:C++,callback:ae,priorityLevel:W,startTime:B,expirationTime:fe,sortIndex:-1},B>ne?(W.sortIndex=B,t(N,W),s(k)===null&&W===s(N)&&(G?(R(H),H=-1):G=!0,Te(F,B-ne))):(W.sortIndex=fe,t(k,W),M||D||(M=!0,xe(b))),W},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(W){var ae=T;return function(){var B=T;T=ae;try{return W.apply(this,arguments)}finally{T=B}}}})(qg);Yg.exports=qg;var Qv=Yg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=ue,kn=Qv;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jg=new Set,sa={};function jr(e,t){Zs(e,t),Zs(e+"Capture",t)}function Zs(e,t){for(sa[e]=t,e=0;e<t.length;e++)jg.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=Object.prototype.hasOwnProperty,Jv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jf={},ed={};function e_(e){return Rc.call(ed,e)?!0:Rc.call(Jf,e)?!1:Jv.test(e)?ed[e]=!0:(Jf[e]=!0,!1)}function t_(e,t,s,u){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n_(e,t,s,u){if(t===null||typeof t>"u"||t_(e,t,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,s,u,c,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bh=/[\-:]([a-z])/g;function Gh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bh,Gh);Ut[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bh,Gh);Ut[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bh,Gh);Ut[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zh(e,t,s,u){var c=Ut.hasOwnProperty(t)?Ut[t]:null;(c!==null?c.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n_(t,s,c,u)&&(s=null),u||c===null?e_(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,u=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,u?e.setAttributeNS(u,t,s):e.setAttribute(t,s))))}var Di=Kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$a=Symbol.for("react.element"),ws=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),Ac=Symbol.for("react.profiler"),Vg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),Dc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),Xg=Symbol.for("react.offscreen"),td=Symbol.iterator;function Mo(e){return e===null||typeof e!="object"?null:(e=td&&e[td]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,Kl;function Zo(e){if(Kl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||""}return`
`+Kl+e}var Jl=!1;function ec(e,t){if(!e||Jl)return"";Jl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var u=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){u=N}e.call(t.prototype)}else{try{throw Error()}catch(N){u=N}e()}}catch(N){if(N&&u&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),d=u.stack.split(`
`),m=c.length-1,p=d.length-1;1<=m&&0<=p&&c[m]!==d[p];)p--;for(;1<=m&&0<=p;m--,p--)if(c[m]!==d[p]){if(m!==1||p!==1)do if(m--,p--,0>p||c[m]!==d[p]){var k=`
`+c[m].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=m&&0<=p);break}}}finally{Jl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Zo(e):""}function i_(e){switch(e.tag){case 5:return Zo(e.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return e=ec(e.type,!1),e;case 11:return e=ec(e.type.render,!1),e;case 1:return e=ec(e.type,!0),e;default:return""}}function Fc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Es:return"Fragment";case ws:return"Portal";case Ac:return"Profiler";case Uh:return"StrictMode";case Dc:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hg:return(e.displayName||"Context")+".Consumer";case Vg:return(e._context.displayName||"Context")+".Provider";case Yh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qh:return t=e.displayName||null,t!==null?t:Fc(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return Fc(e(t))}catch{}}return null}function r_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(t);case 8:return t===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s_(e){var t=Wg(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){u=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(m){u=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){e._valueTracker||(e._valueTracker=s_(e))}function $g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),u="";return e&&(u=Wg(e)?e.checked?"true":"false":e.value),e=u,e!==s?(t.setValue(e),!0):!1}function Fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bc(e,t){var s=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function nd(e,t){var s=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;s=cr(t.value!=null?t.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qg(e,t){t=t.checked,t!=null&&Zh(e,"checked",t,!1)}function Bc(e,t){Qg(e,t);var s=cr(t.value),u=t.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gc(e,t.type,s):t.hasOwnProperty("defaultValue")&&Gc(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function id(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Gc(e,t,s){(t!=="number"||Fu(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Uo=Array.isArray;function Ds(e,t,s,u){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&u&&(e[s].defaultSelected=!0)}else{for(s=""+cr(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Zc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rd(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(oe(92));if(Uo(s)){if(1<s.length)throw Error(oe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:cr(s)}}function Kg(e,t){var s=cr(t.value),u=cr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function sd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ka,em=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,u,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,u,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oa(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o_=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){o_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});function tm(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function nm(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var u=s.indexOf("--")===0,c=tm(s,t[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,c):e[s]=c}}var a_=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yc(e,t){if(t){if(a_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vc=null,zs=null,Fs=null;function od(e){if(e=Ia(e)){if(typeof Vc!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=yl(t),Vc(e.stateNode,e.type,t))}}function im(e){zs?Fs?Fs.push(e):Fs=[e]:zs=e}function rm(){if(zs){var e=zs,t=Fs;if(Fs=zs=null,od(e),t)for(e=0;e<t.length;e++)od(t[e])}}function sm(e,t){return e(t)}function om(){}var tc=!1;function am(e,t,s){if(tc)return e(t,s);tc=!0;try{return sm(e,t,s)}finally{tc=!1,(zs!==null||Fs!==null)&&(om(),rm())}}function aa(e,t){var s=e.stateNode;if(s===null)return null;var u=yl(s);if(u===null)return null;s=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(oe(231,t,typeof s));return s}var Hc=!1;if(Oi)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Hc=!1}function u_(e,t,s,u,c,d,m,p,k){var N=Array.prototype.slice.call(arguments,3);try{t.apply(s,N)}catch(C){this.onError(C)}}var $o=!1,bu=null,Bu=!1,Xc=null,l_={onError:function(e){$o=!0,bu=e}};function c_(e,t,s,u,c,d,m,p,k){$o=!1,bu=null,u_.apply(l_,arguments)}function h_(e,t,s,u,c,d,m,p,k){if(c_.apply(this,arguments),$o){if($o){var N=bu;$o=!1,bu=null}else throw Error(oe(198));Bu||(Bu=!0,Xc=N)}}function Vr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ad(e){if(Vr(e)!==e)throw Error(oe(188))}function f_(e){var t=e.alternate;if(!t){if(t=Vr(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var s=e,u=t;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(u=c.return,u!==null){s=u;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return ad(c),e;if(d===u)return ad(c),t;d=d.sibling}throw Error(oe(188))}if(s.return!==u.return)s=c,u=d;else{for(var m=!1,p=c.child;p;){if(p===s){m=!0,s=c,u=d;break}if(p===u){m=!0,u=c,s=d;break}p=p.sibling}if(!m){for(p=d.child;p;){if(p===s){m=!0,s=d,u=c;break}if(p===u){m=!0,u=d,s=c;break}p=p.sibling}if(!m)throw Error(oe(189))}}if(s.alternate!==u)throw Error(oe(190))}if(s.tag!==3)throw Error(oe(188));return s.stateNode.current===s?e:t}function lm(e){return e=f_(e),e!==null?cm(e):null}function cm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cm(e);if(t!==null)return t;e=e.sibling}return null}var hm=kn.unstable_scheduleCallback,ud=kn.unstable_cancelCallback,d_=kn.unstable_shouldYield,g_=kn.unstable_requestPaint,xt=kn.unstable_now,m_=kn.unstable_getCurrentPriorityLevel,Vh=kn.unstable_ImmediatePriority,fm=kn.unstable_UserBlockingPriority,Gu=kn.unstable_NormalPriority,p_=kn.unstable_LowPriority,dm=kn.unstable_IdlePriority,ml=null,gi=null;function v_(e){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:x_,__=Math.log,y_=Math.LN2;function x_(e){return e>>>=0,e===0?32:31-(__(e)/y_|0)|0}var Ja=64,eu=4194304;function Yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zu(e,t){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes,m=s&268435455;if(m!==0){var p=m&~c;p!==0?u=Yo(p):(d&=m,d!==0&&(u=Yo(d)))}else m=s&~c,m!==0?u=Yo(m):d!==0&&(u=Yo(d));if(u===0)return 0;if(t!==0&&t!==u&&!(t&c)&&(c=u&-u,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if(u&4&&(u|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)s=31-Kn(t),c=1<<s,u|=e[s],t&=~c;return u}function k_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w_(e,t){for(var s=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-Kn(d),p=1<<m,k=c[m];k===-1?(!(p&s)||p&u)&&(c[m]=k_(p,t)):k<=t&&(e.expiredLanes|=p),d&=~p}}function Wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gm(){var e=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),e}function nc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Sa(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=s}function E_(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Kn(s),d=1<<c;t[c]=0,u[c]=-1,e[c]=-1,s&=~d}}function Hh(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var u=31-Kn(s),c=1<<u;c&t|e[u]&t&&(e[u]|=t),s&=~c}}var et=0;function mm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pm,Xh,vm,_m,ym,$c=!1,tu=[],nr=null,ir=null,rr=null,ua=new Map,la=new Map,Ki=[],S_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(t.pointerId)}}function Ao(e,t,s,u,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Ia(t),t!==null&&Xh(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function N_(e,t,s,u,c){switch(t){case"focusin":return nr=Ao(nr,e,t,s,u,c),!0;case"dragenter":return ir=Ao(ir,e,t,s,u,c),!0;case"mouseover":return rr=Ao(rr,e,t,s,u,c),!0;case"pointerover":var d=c.pointerId;return ua.set(d,Ao(ua.get(d)||null,e,t,s,u,c)),!0;case"gotpointercapture":return d=c.pointerId,la.set(d,Ao(la.get(d)||null,e,t,s,u,c)),!0}return!1}function xm(e){var t=Ar(e.target);if(t!==null){var s=Vr(t);if(s!==null){if(t=s.tag,t===13){if(t=um(s),t!==null){e.blockedOn=t,ym(e.priority,function(){vm(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);jc=u,s.target.dispatchEvent(u),jc=null}else return t=Ia(s),t!==null&&Xh(t),e.blockedOn=s,!1;t.shift()}return!0}function cd(e,t,s){Eu(e)&&s.delete(t)}function I_(){$c=!1,nr!==null&&Eu(nr)&&(nr=null),ir!==null&&Eu(ir)&&(ir=null),rr!==null&&Eu(rr)&&(rr=null),ua.forEach(cd),la.forEach(cd)}function Do(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,I_)))}function ca(e){function t(c){return Do(c,e)}if(0<tu.length){Do(tu[0],e);for(var s=1;s<tu.length;s++){var u=tu[s];u.blockedOn===e&&(u.blockedOn=null)}}for(nr!==null&&Do(nr,e),ir!==null&&Do(ir,e),rr!==null&&Do(rr,e),ua.forEach(t),la.forEach(t),s=0;s<Ki.length;s++)u=Ki[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<Ki.length&&(s=Ki[0],s.blockedOn===null);)xm(s),s.blockedOn===null&&Ki.shift()}var bs=Di.ReactCurrentBatchConfig,Uu=!0;function L_(e,t,s,u){var c=et,d=bs.transition;bs.transition=null;try{et=1,Wh(e,t,s,u)}finally{et=c,bs.transition=d}}function C_(e,t,s,u){var c=et,d=bs.transition;bs.transition=null;try{et=4,Wh(e,t,s,u)}finally{et=c,bs.transition=d}}function Wh(e,t,s,u){if(Uu){var c=Qc(e,t,s,u);if(c===null)fc(e,t,u,Yu,s),ld(e,u);else if(N_(c,e,t,s,u))u.stopPropagation();else if(ld(e,u),t&4&&-1<S_.indexOf(e)){for(;c!==null;){var d=Ia(c);if(d!==null&&pm(d),d=Qc(e,t,s,u),d===null&&fc(e,t,u,Yu,s),d===c)break;c=d}c!==null&&u.stopPropagation()}else fc(e,t,u,null,s)}}var Yu=null;function Qc(e,t,s,u){if(Yu=null,e=jh(u),e=Ar(e),e!==null)if(t=Vr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=um(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yu=e,null}function km(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m_()){case Vh:return 1;case fm:return 4;case Gu:case p_:return 16;case dm:return 536870912;default:return 16}default:return 16}}var er=null,$h=null,Su=null;function wm(){if(Su)return Su;var e,t=$h,s=t.length,u,c="value"in er?er.value:er.textContent,d=c.length;for(e=0;e<s&&t[e]===c[e];e++);var m=s-e;for(u=1;u<=m&&t[s-u]===c[d-u];u++);return Su=c.slice(e,1<u?1-u:void 0)}function Nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function hd(){return!1}function En(e){function t(s,u,c,d,m){this._reactName=s,this._targetInst=c,this.type=u,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(s=e[p],this[p]=s?s(d):d[p]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nu:hd,this.isPropagationStopped=hd,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=En(Ks),Na=mt({},Ks,{view:0,detail:0}),T_=En(Na),ic,rc,zo,pl=mt({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(ic=e.screenX-zo.screenX,rc=e.screenY-zo.screenY):rc=ic=0,zo=e),ic)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),fd=En(pl),P_=mt({},pl,{dataTransfer:0}),O_=En(P_),M_=mt({},Na,{relatedTarget:0}),sc=En(M_),R_=mt({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),A_=En(R_),D_=mt({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z_=En(D_),F_=mt({},Ks,{data:0}),dd=En(F_),b_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G_[e])?!!t[e]:!1}function Kh(){return Z_}var U_=mt({},Na,{key:function(e){if(e.key){var t=b_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(e){return e.type==="keypress"?Nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y_=En(U_),q_=mt({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=En(q_),j_=mt({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),V_=En(j_),H_=mt({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),X_=En(H_),W_=mt({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$_=En(W_),Q_=[9,13,27,32],Jh=Oi&&"CompositionEvent"in window,Qo=null;Oi&&"documentMode"in document&&(Qo=document.documentMode);var K_=Oi&&"TextEvent"in window&&!Qo,Em=Oi&&(!Jh||Qo&&8<Qo&&11>=Qo),md=" ",pd=!1;function Sm(e,t){switch(e){case"keyup":return Q_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function J_(e,t){switch(e){case"compositionend":return Nm(t);case"keypress":return t.which!==32?null:(pd=!0,md);case"textInput":return e=t.data,e===md&&pd?null:e;default:return null}}function ey(e,t){if(Ss)return e==="compositionend"||!Jh&&Sm(e,t)?(e=wm(),Su=$h=er=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ty[e.type]:t==="textarea"}function Im(e,t,s,u){im(u),t=qu(t,"onChange"),0<t.length&&(s=new Qh("onChange","change",null,s,u),e.push({event:s,listeners:t}))}var Ko=null,ha=null;function ny(e){Fm(e,0)}function vl(e){var t=Ls(e);if($g(t))return e}function iy(e,t){if(e==="change")return t}var Lm=!1;if(Oi){var oc;if(Oi){var ac="oninput"in document;if(!ac){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),ac=typeof _d.oninput=="function"}oc=ac}else oc=!1;Lm=oc&&(!document.documentMode||9<document.documentMode)}function yd(){Ko&&(Ko.detachEvent("onpropertychange",Cm),ha=Ko=null)}function Cm(e){if(e.propertyName==="value"&&vl(ha)){var t=[];Im(t,ha,e,jh(e)),am(ny,t)}}function ry(e,t,s){e==="focusin"?(yd(),Ko=t,ha=s,Ko.attachEvent("onpropertychange",Cm)):e==="focusout"&&yd()}function sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(ha)}function oy(e,t){if(e==="click")return vl(t)}function ay(e,t){if(e==="input"||e==="change")return vl(t)}function uy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ei=typeof Object.is=="function"?Object.is:uy;function fa(e,t){if(ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var c=s[u];if(!Rc.call(t,c)||!ei(e[c],t[c]))return!1}return!0}function xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,t){var s=xd(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=t&&u>=t)return{node:s,offset:t-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xd(s)}}function Tm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pm(){for(var e=window,t=Fu();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Fu(e.document)}return t}function ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ly(e){var t=Pm(),s=e.focusedElem,u=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Tm(s.ownerDocument.documentElement,s)){if(u!==null&&ef(s)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,d=Math.min(u.start,c);u=u.end===void 0?d:Math.min(u.end,c),!e.extend&&d>u&&(c=u,u=d,d=c),c=kd(s,d);var m=kd(s,u);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>u?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cy=Oi&&"documentMode"in document&&11>=document.documentMode,Ns=null,Kc=null,Jo=null,Jc=!1;function wd(e,t,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jc||Ns==null||Ns!==Fu(u)||(u=Ns,"selectionStart"in u&&ef(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Jo&&fa(Jo,u)||(Jo=u,u=qu(Kc,"onSelect"),0<u.length&&(t=new Qh("onSelect","select",null,t,s),e.push({event:t,listeners:u}),t.target=Ns)))}function iu(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Is={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},uc={},Om={};Oi&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function _l(e){if(uc[e])return uc[e];if(!Is[e])return e;var t=Is[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Om)return uc[e]=t[s];return e}var Mm=_l("animationend"),Rm=_l("animationiteration"),Am=_l("animationstart"),Dm=_l("transitionend"),zm=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){zm.set(e,t),jr(t,[e])}for(var lc=0;lc<Ed.length;lc++){var cc=Ed[lc],hy=cc.toLowerCase(),fy=cc[0].toUpperCase()+cc.slice(1);fr(hy,"on"+fy)}fr(Mm,"onAnimationEnd");fr(Rm,"onAnimationIteration");fr(Am,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Dm,"onTransitionEnd");Zs("onMouseEnter",["mouseout","mouseover"]);Zs("onMouseLeave",["mouseout","mouseover"]);Zs("onPointerEnter",["pointerout","pointerover"]);Zs("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Sd(e,t,s){var u=e.type||"unknown-event";e.currentTarget=s,h_(u,t,void 0,e),e.currentTarget=null}function Fm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],c=u.event;u=u.listeners;e:{var d=void 0;if(t)for(var m=u.length-1;0<=m;m--){var p=u[m],k=p.instance,N=p.currentTarget;if(p=p.listener,k!==d&&c.isPropagationStopped())break e;Sd(c,p,N),d=k}else for(m=0;m<u.length;m++){if(p=u[m],k=p.instance,N=p.currentTarget,p=p.listener,k!==d&&c.isPropagationStopped())break e;Sd(c,p,N),d=k}}}if(Bu)throw e=Xc,Bu=!1,Xc=null,e}function st(e,t){var s=t[rh];s===void 0&&(s=t[rh]=new Set);var u=e+"__bubble";s.has(u)||(bm(t,e,2,!1),s.add(u))}function hc(e,t,s){var u=0;t&&(u|=4),bm(s,e,u,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function da(e){if(!e[ru]){e[ru]=!0,jg.forEach(function(s){s!=="selectionchange"&&(dy.has(s)||hc(s,!1,e),hc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ru]||(t[ru]=!0,hc("selectionchange",!1,t))}}function bm(e,t,s,u){switch(km(t)){case 1:var c=L_;break;case 4:c=C_;break;default:c=Wh}s=c.bind(null,t,s,e),c=void 0,!Hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function fc(e,t,s,u,c){var d=u;if(!(t&1)&&!(t&2)&&u!==null)e:for(;;){if(u===null)return;var m=u.tag;if(m===3||m===4){var p=u.stateNode.containerInfo;if(p===c||p.nodeType===8&&p.parentNode===c)break;if(m===4)for(m=u.return;m!==null;){var k=m.tag;if((k===3||k===4)&&(k=m.stateNode.containerInfo,k===c||k.nodeType===8&&k.parentNode===c))return;m=m.return}for(;p!==null;){if(m=Ar(p),m===null)return;if(k=m.tag,k===5||k===6){u=d=m;continue e}p=p.parentNode}}u=u.return}am(function(){var N=d,C=jh(s),w=[];e:{var T=zm.get(e);if(T!==void 0){var D=Qh,M=e;switch(e){case"keypress":if(Nu(s)===0)break e;case"keydown":case"keyup":D=Y_;break;case"focusin":M="focus",D=sc;break;case"focusout":M="blur",D=sc;break;case"beforeblur":case"afterblur":D=sc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=V_;break;case Mm:case Rm:case Am:D=A_;break;case Dm:D=X_;break;case"scroll":D=T_;break;case"wheel":D=$_;break;case"copy":case"cut":case"paste":D=z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=gd}var G=(t&4)!==0,$=!G&&e==="scroll",R=G?T!==null?T+"Capture":null:T;G=[];for(var I=N,P;I!==null;){P=I;var F=P.stateNode;if(P.tag===5&&F!==null&&(P=F,R!==null&&(F=aa(I,R),F!=null&&G.push(ga(I,F,P)))),$)break;I=I.return}0<G.length&&(T=new D(T,M,null,s,C),w.push({event:T,listeners:G}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",T&&s!==jc&&(M=s.relatedTarget||s.fromElement)&&(Ar(M)||M[Mi]))break e;if((D||T)&&(T=C.window===C?C:(T=C.ownerDocument)?T.defaultView||T.parentWindow:window,D?(M=s.relatedTarget||s.toElement,D=N,M=M?Ar(M):null,M!==null&&($=Vr(M),M!==$||M.tag!==5&&M.tag!==6)&&(M=null)):(D=null,M=N),D!==M)){if(G=fd,F="onMouseLeave",R="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(G=gd,F="onPointerLeave",R="onPointerEnter",I="pointer"),$=D==null?T:Ls(D),P=M==null?T:Ls(M),T=new G(F,I+"leave",D,s,C),T.target=$,T.relatedTarget=P,F=null,Ar(C)===N&&(G=new G(R,I+"enter",M,s,C),G.target=P,G.relatedTarget=$,F=G),$=F,D&&M)t:{for(G=D,R=M,I=0,P=G;P;P=ys(P))I++;for(P=0,F=R;F;F=ys(F))P++;for(;0<I-P;)G=ys(G),I--;for(;0<P-I;)R=ys(R),P--;for(;I--;){if(G===R||R!==null&&G===R.alternate)break t;G=ys(G),R=ys(R)}G=null}else G=null;D!==null&&Nd(w,T,D,G,!1),M!==null&&$!==null&&Nd(w,$,M,G,!0)}}e:{if(T=N?Ls(N):window,D=T.nodeName&&T.nodeName.toLowerCase(),D==="select"||D==="input"&&T.type==="file")var b=iy;else if(vd(T))if(Lm)b=ay;else{b=sy;var j=ry}else(D=T.nodeName)&&D.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(b=oy);if(b&&(b=b(e,N))){Im(w,b,s,C);break e}j&&j(e,T,N),e==="focusout"&&(j=T._wrapperState)&&j.controlled&&T.type==="number"&&Gc(T,"number",T.value)}switch(j=N?Ls(N):window,e){case"focusin":(vd(j)||j.contentEditable==="true")&&(Ns=j,Kc=N,Jo=null);break;case"focusout":Jo=Kc=Ns=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,wd(w,s,C);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":wd(w,s,C)}var V;if(Jh)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Ss?Sm(e,s)&&(H="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(H="onCompositionStart");H&&(Em&&s.locale!=="ko"&&(Ss||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ss&&(V=wm()):(er=C,$h="value"in er?er.value:er.textContent,Ss=!0)),j=qu(N,H),0<j.length&&(H=new dd(H,e,null,s,C),w.push({event:H,listeners:j}),V?H.data=V:(V=Nm(s),V!==null&&(H.data=V)))),(V=K_?J_(e,s):ey(e,s))&&(N=qu(N,"onBeforeInput"),0<N.length&&(C=new dd("onBeforeInput","beforeinput",null,s,C),w.push({event:C,listeners:N}),C.data=V))}Fm(w,t)})}function ga(e,t,s){return{instance:e,listener:t,currentTarget:s}}function qu(e,t){for(var s=t+"Capture",u=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=aa(e,s),d!=null&&u.unshift(ga(e,d,c)),d=aa(e,t),d!=null&&u.push(ga(e,d,c))),e=e.return}return u}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nd(e,t,s,u,c){for(var d=t._reactName,m=[];s!==null&&s!==u;){var p=s,k=p.alternate,N=p.stateNode;if(k!==null&&k===u)break;p.tag===5&&N!==null&&(p=N,c?(k=aa(s,d),k!=null&&m.unshift(ga(s,k,p))):c||(k=aa(s,d),k!=null&&m.push(ga(s,k,p)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var gy=/\r\n?/g,my=/\u0000|\uFFFD/g;function Id(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(my,"")}function su(e,t,s){if(t=Id(t),Id(e)!==t&&s)throw Error(oe(425))}function ju(){}var eh=null,th=null;function nh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,py=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(e){return Ld.resolve(null).then(e).catch(_y)}:ih;function _y(e){setTimeout(function(){throw e})}function dc(e,t){var s=t,u=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(u===0){e.removeChild(c),ca(t);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=c}while(s);ca(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Js=Math.random().toString(36).slice(2),fi="__reactFiber$"+Js,ma="__reactProps$"+Js,Mi="__reactContainer$"+Js,rh="__reactEvents$"+Js,yy="__reactListeners$"+Js,xy="__reactHandles$"+Js;function Ar(e){var t=e[fi];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Mi]||s[fi]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Cd(e);e!==null;){if(s=e[fi])return s;e=Cd(e)}return t}e=s,s=e.parentNode}return null}function Ia(e){return e=e[fi]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function yl(e){return e[ma]||null}var sh=[],Cs=-1;function dr(e){return{current:e}}function ot(e){0>Cs||(e.current=sh[Cs],sh[Cs]=null,Cs--)}function it(e,t){Cs++,sh[Cs]=e.current,e.current=t}var hr={},Xt=dr(hr),cn=dr(!1),Br=hr;function Us(e,t){var s=e.type.contextTypes;if(!s)return hr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=t[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function hn(e){return e=e.childContextTypes,e!=null}function Vu(){ot(cn),ot(Xt)}function Td(e,t,s){if(Xt.current!==hr)throw Error(oe(168));it(Xt,t),it(cn,s)}function Bm(e,t,s){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var c in u)if(!(c in t))throw Error(oe(108,r_(e)||"Unknown",c));return mt({},s,u)}function Hu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,Br=Xt.current,it(Xt,e),it(cn,cn.current),!0}function Pd(e,t,s){var u=e.stateNode;if(!u)throw Error(oe(169));s?(e=Bm(e,t,Br),u.__reactInternalMemoizedMergedChildContext=e,ot(cn),ot(Xt),it(Xt,e)):ot(cn),it(cn,s)}var Li=null,xl=!1,gc=!1;function Gm(e){Li===null?Li=[e]:Li.push(e)}function ky(e){xl=!0,Gm(e)}function gr(){if(!gc&&Li!==null){gc=!0;var e=0,t=et;try{var s=Li;for(et=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Li=null,xl=!1}catch(c){throw Li!==null&&(Li=Li.slice(e+1)),hm(Vh,gr),c}finally{et=t,gc=!1}}return null}var Ts=[],Ps=0,Xu=null,Wu=0,bn=[],Bn=0,Gr=null,Ci=1,Ti="";function Mr(e,t){Ts[Ps++]=Wu,Ts[Ps++]=Xu,Xu=e,Wu=t}function Zm(e,t,s){bn[Bn++]=Ci,bn[Bn++]=Ti,bn[Bn++]=Gr,Gr=e;var u=Ci;e=Ti;var c=32-Kn(u)-1;u&=~(1<<c),s+=1;var d=32-Kn(t)+c;if(30<d){var m=c-c%5;d=(u&(1<<m)-1).toString(32),u>>=m,c-=m,Ci=1<<32-Kn(t)+c|s<<c|u,Ti=d+e}else Ci=1<<d|s<<c|u,Ti=e}function tf(e){e.return!==null&&(Mr(e,1),Zm(e,1,0))}function nf(e){for(;e===Xu;)Xu=Ts[--Ps],Ts[Ps]=null,Wu=Ts[--Ps],Ts[Ps]=null;for(;e===Gr;)Gr=bn[--Bn],bn[Bn]=null,Ti=bn[--Bn],bn[Bn]=null,Ci=bn[--Bn],bn[Bn]=null}var xn=null,yn=null,ut=!1,Qn=null;function Um(e,t){var s=Gn(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Od(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,yn=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Gr!==null?{id:Ci,overflow:Ti}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Gn(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,xn=e,yn=null,!0):!1;default:return!1}}function oh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ah(e){if(ut){var t=yn;if(t){var s=t;if(!Od(e,t)){if(oh(e))throw Error(oe(418));t=sr(s.nextSibling);var u=xn;t&&Od(e,t)?Um(u,s):(e.flags=e.flags&-4097|2,ut=!1,xn=e)}}else{if(oh(e))throw Error(oe(418));e.flags=e.flags&-4097|2,ut=!1,xn=e}}}function Md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function ou(e){if(e!==xn)return!1;if(!ut)return Md(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nh(e.type,e.memoizedProps)),t&&(t=yn)){if(oh(e))throw Ym(),Error(oe(418));for(;t;)Um(e,t),t=sr(t.nextSibling)}if(Md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){yn=sr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=xn?sr(e.stateNode.nextSibling):null;return!0}function Ym(){for(var e=yn;e;)e=sr(e.nextSibling)}function Ys(){yn=xn=null,ut=!1}function rf(e){Qn===null?Qn=[e]:Qn.push(e)}var wy=Di.ReactCurrentBatchConfig;function Fo(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(oe(309));var u=s.stateNode}if(!u)throw Error(oe(147,e));var c=u,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var p=c.refs;m===null?delete p[d]:p[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(oe(284));if(!s._owner)throw Error(oe(290,e))}return e}function au(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rd(e){var t=e._init;return t(e._payload)}function qm(e){function t(R,I){if(e){var P=R.deletions;P===null?(R.deletions=[I],R.flags|=16):P.push(I)}}function s(R,I){if(!e)return null;for(;I!==null;)t(R,I),I=I.sibling;return null}function u(R,I){for(R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function c(R,I){return R=lr(R,I),R.index=0,R.sibling=null,R}function d(R,I,P){return R.index=P,e?(P=R.alternate,P!==null?(P=P.index,P<I?(R.flags|=2,I):P):(R.flags|=2,I)):(R.flags|=1048576,I)}function m(R){return e&&R.alternate===null&&(R.flags|=2),R}function p(R,I,P,F){return I===null||I.tag!==6?(I=kc(P,R.mode,F),I.return=R,I):(I=c(I,P),I.return=R,I)}function k(R,I,P,F){var b=P.type;return b===Es?C(R,I,P.props.children,F,P.key):I!==null&&(I.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wi&&Rd(b)===I.type)?(F=c(I,P.props),F.ref=Fo(R,I,P),F.return=R,F):(F=Mu(P.type,P.key,P.props,null,R.mode,F),F.ref=Fo(R,I,P),F.return=R,F)}function N(R,I,P,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=wc(P,R.mode,F),I.return=R,I):(I=c(I,P.children||[]),I.return=R,I)}function C(R,I,P,F,b){return I===null||I.tag!==7?(I=br(P,R.mode,F,b),I.return=R,I):(I=c(I,P),I.return=R,I)}function w(R,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return I=kc(""+I,R.mode,P),I.return=R,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $a:return P=Mu(I.type,I.key,I.props,null,R.mode,P),P.ref=Fo(R,null,I),P.return=R,P;case ws:return I=wc(I,R.mode,P),I.return=R,I;case Wi:var F=I._init;return w(R,F(I._payload),P)}if(Uo(I)||Mo(I))return I=br(I,R.mode,P,null),I.return=R,I;au(R,I)}return null}function T(R,I,P,F){var b=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return b!==null?null:p(R,I,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $a:return P.key===b?k(R,I,P,F):null;case ws:return P.key===b?N(R,I,P,F):null;case Wi:return b=P._init,T(R,I,b(P._payload),F)}if(Uo(P)||Mo(P))return b!==null?null:C(R,I,P,F,null);au(R,P)}return null}function D(R,I,P,F,b){if(typeof F=="string"&&F!==""||typeof F=="number")return R=R.get(P)||null,p(I,R,""+F,b);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $a:return R=R.get(F.key===null?P:F.key)||null,k(I,R,F,b);case ws:return R=R.get(F.key===null?P:F.key)||null,N(I,R,F,b);case Wi:var j=F._init;return D(R,I,P,j(F._payload),b)}if(Uo(F)||Mo(F))return R=R.get(P)||null,C(I,R,F,b,null);au(I,F)}return null}function M(R,I,P,F){for(var b=null,j=null,V=I,H=I=0,Q=null;V!==null&&H<P.length;H++){V.index>H?(Q=V,V=null):Q=V.sibling;var le=T(R,V,P[H],F);if(le===null){V===null&&(V=Q);break}e&&V&&le.alternate===null&&t(R,V),I=d(le,I,H),j===null?b=le:j.sibling=le,j=le,V=Q}if(H===P.length)return s(R,V),ut&&Mr(R,H),b;if(V===null){for(;H<P.length;H++)V=w(R,P[H],F),V!==null&&(I=d(V,I,H),j===null?b=V:j.sibling=V,j=V);return ut&&Mr(R,H),b}for(V=u(R,V);H<P.length;H++)Q=D(V,R,H,P[H],F),Q!==null&&(e&&Q.alternate!==null&&V.delete(Q.key===null?H:Q.key),I=d(Q,I,H),j===null?b=Q:j.sibling=Q,j=Q);return e&&V.forEach(function(ge){return t(R,ge)}),ut&&Mr(R,H),b}function G(R,I,P,F){var b=Mo(P);if(typeof b!="function")throw Error(oe(150));if(P=b.call(P),P==null)throw Error(oe(151));for(var j=b=null,V=I,H=I=0,Q=null,le=P.next();V!==null&&!le.done;H++,le=P.next()){V.index>H?(Q=V,V=null):Q=V.sibling;var ge=T(R,V,le.value,F);if(ge===null){V===null&&(V=Q);break}e&&V&&ge.alternate===null&&t(R,V),I=d(ge,I,H),j===null?b=ge:j.sibling=ge,j=ge,V=Q}if(le.done)return s(R,V),ut&&Mr(R,H),b;if(V===null){for(;!le.done;H++,le=P.next())le=w(R,le.value,F),le!==null&&(I=d(le,I,H),j===null?b=le:j.sibling=le,j=le);return ut&&Mr(R,H),b}for(V=u(R,V);!le.done;H++,le=P.next())le=D(V,R,H,le.value,F),le!==null&&(e&&le.alternate!==null&&V.delete(le.key===null?H:le.key),I=d(le,I,H),j===null?b=le:j.sibling=le,j=le);return e&&V.forEach(function(ye){return t(R,ye)}),ut&&Mr(R,H),b}function $(R,I,P,F){if(typeof P=="object"&&P!==null&&P.type===Es&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case $a:e:{for(var b=P.key,j=I;j!==null;){if(j.key===b){if(b=P.type,b===Es){if(j.tag===7){s(R,j.sibling),I=c(j,P.props.children),I.return=R,R=I;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wi&&Rd(b)===j.type){s(R,j.sibling),I=c(j,P.props),I.ref=Fo(R,j,P),I.return=R,R=I;break e}s(R,j);break}else t(R,j);j=j.sibling}P.type===Es?(I=br(P.props.children,R.mode,F,P.key),I.return=R,R=I):(F=Mu(P.type,P.key,P.props,null,R.mode,F),F.ref=Fo(R,I,P),F.return=R,R=F)}return m(R);case ws:e:{for(j=P.key;I!==null;){if(I.key===j)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){s(R,I.sibling),I=c(I,P.children||[]),I.return=R,R=I;break e}else{s(R,I);break}else t(R,I);I=I.sibling}I=wc(P,R.mode,F),I.return=R,R=I}return m(R);case Wi:return j=P._init,$(R,I,j(P._payload),F)}if(Uo(P))return M(R,I,P,F);if(Mo(P))return G(R,I,P,F);au(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,I!==null&&I.tag===6?(s(R,I.sibling),I=c(I,P),I.return=R,R=I):(s(R,I),I=kc(P,R.mode,F),I.return=R,R=I),m(R)):s(R,I)}return $}var qs=qm(!0),jm=qm(!1),$u=dr(null),Qu=null,Os=null,sf=null;function of(){sf=Os=Qu=null}function af(e){var t=$u.current;ot($u),e._currentValue=t}function uh(e,t,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===s)break;e=e.return}}function Bs(e,t){Qu=e,sf=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(sf!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(Qu===null)throw Error(oe(308));Os=e,Qu.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Dr=null;function uf(e){Dr===null?Dr=[e]:Dr.push(e)}function Vm(e,t,s,u){var c=t.interleaved;return c===null?(s.next=s,uf(t)):(s.next=c.next,c.next=s),t.interleaved=s,Ri(e,u)}function Ri(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $i=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,He&2){var c=u.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),u.pending=t,Ri(e,s)}return c=u.interleaved,c===null?(t.next=t,uf(u)):(t.next=c.next,c.next=t),u.interleaved=t,Ri(e,s)}function Iu(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,Hh(e,s)}}function Ad(e,t){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=m:d=d.next=m,s=s.next}while(s!==null);d===null?c=d=t:d=d.next=t}else c=d=t;s={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ku(e,t,s,u){var c=e.updateQueue;$i=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,p=c.shared.pending;if(p!==null){c.shared.pending=null;var k=p,N=k.next;k.next=null,m===null?d=N:m.next=N,m=k;var C=e.alternate;C!==null&&(C=C.updateQueue,p=C.lastBaseUpdate,p!==m&&(p===null?C.firstBaseUpdate=N:p.next=N,C.lastBaseUpdate=k))}if(d!==null){var w=c.baseState;m=0,C=N=k=null,p=d;do{var T=p.lane,D=p.eventTime;if((u&T)===T){C!==null&&(C=C.next={eventTime:D,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var M=e,G=p;switch(T=t,D=s,G.tag){case 1:if(M=G.payload,typeof M=="function"){w=M.call(D,w,T);break e}w=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=G.payload,T=typeof M=="function"?M.call(D,w,T):M,T==null)break e;w=mt({},w,T);break e;case 2:$i=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,T=c.effects,T===null?c.effects=[p]:T.push(p))}else D={eventTime:D,lane:T,tag:p.tag,payload:p.payload,callback:p.callback,next:null},C===null?(N=C=D,k=w):C=C.next=D,m|=T;if(p=p.next,p===null){if(p=c.shared.pending,p===null)break;T=p,p=T.next,T.next=null,c.lastBaseUpdate=T,c.shared.pending=null}}while(!0);if(C===null&&(k=w),c.baseState=k,c.firstBaseUpdate=N,c.lastBaseUpdate=C,t=c.shared.interleaved,t!==null){c=t;do m|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);Ur|=m,e.lanes=m,e.memoizedState=w}}function Dd(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],c=u.callback;if(c!==null){if(u.callback=null,u=s,typeof c!="function")throw Error(oe(191,c));c.call(u)}}}var La={},mi=dr(La),pa=dr(La),va=dr(La);function zr(e){if(e===La)throw Error(oe(174));return e}function cf(e,t){switch(it(va,t),it(pa,e),it(mi,La),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uc(t,e)}ot(mi),it(mi,t)}function js(){ot(mi),ot(pa),ot(va)}function Xm(e){zr(va.current);var t=zr(mi.current),s=Uc(t,e.type);t!==s&&(it(pa,e),it(mi,s))}function hf(e){pa.current===e&&(ot(mi),ot(pa))}var ht=dr(0);function Ju(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mc=[];function ff(){for(var e=0;e<mc.length;e++)mc[e]._workInProgressVersionPrimary=null;mc.length=0}var Lu=Di.ReactCurrentDispatcher,pc=Di.ReactCurrentBatchConfig,Zr=0,gt=null,It=null,Rt=null,el=!1,ea=!1,_a=0,Ey=0;function jt(){throw Error(oe(321))}function df(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ei(e[s],t[s]))return!1;return!0}function gf(e,t,s,u,c,d){if(Zr=d,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lu.current=e===null||e.memoizedState===null?Ly:Cy,e=s(u,c),ea){d=0;do{if(ea=!1,_a=0,25<=d)throw Error(oe(301));d+=1,Rt=It=null,t.updateQueue=null,Lu.current=Ty,e=s(u,c)}while(ea)}if(Lu.current=tl,t=It!==null&&It.next!==null,Zr=0,Rt=It=gt=null,el=!1,t)throw Error(oe(300));return e}function mf(){var e=_a!==0;return _a=0,e}function hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?gt.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Yn(){if(It===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Rt===null?gt.memoizedState:Rt.next;if(t!==null)Rt=t,It=e;else{if(e===null)throw Error(oe(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Rt===null?gt.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function ya(e,t){return typeof t=="function"?t(e):t}function vc(e){var t=Yn(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var u=It,c=u.baseQueue,d=s.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}u.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,u=u.baseState;var p=m=null,k=null,N=d;do{var C=N.lane;if((Zr&C)===C)k!==null&&(k=k.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),u=N.hasEagerState?N.eagerState:e(u,N.action);else{var w={lane:C,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};k===null?(p=k=w,m=u):k=k.next=w,gt.lanes|=C,Ur|=C}N=N.next}while(N!==null&&N!==d);k===null?m=u:k.next=p,ei(u,t.memoizedState)||(ln=!0),t.memoizedState=u,t.baseState=m,t.baseQueue=k,s.lastRenderedState=u}if(e=s.interleaved,e!==null){c=e;do d=c.lane,gt.lanes|=d,Ur|=d,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function _c(e){var t=Yn(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var u=s.dispatch,c=s.pending,d=t.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do d=e(d,m.action),m=m.next;while(m!==c);ei(d,t.memoizedState)||(ln=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,u]}function Wm(){}function $m(e,t){var s=gt,u=Yn(),c=t(),d=!ei(u.memoizedState,c);if(d&&(u.memoizedState=c,ln=!0),u=u.queue,pf(Jm.bind(null,s,u,e),[e]),u.getSnapshot!==t||d||Rt!==null&&Rt.memoizedState.tag&1){if(s.flags|=2048,xa(9,Km.bind(null,s,u,c,t),void 0,null),Dt===null)throw Error(oe(349));Zr&30||Qm(s,t,c)}return c}function Qm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Km(e,t,s,u){t.value=s,t.getSnapshot=u,ep(t)&&tp(e)}function Jm(e,t,s){return s(function(){ep(t)&&tp(e)})}function ep(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ei(e,s)}catch{return!0}}function tp(e){var t=Ri(e,1);t!==null&&Jn(t,e,1,-1)}function zd(e){var t=hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=Iy.bind(null,gt,e),[t.memoizedState,e]}function xa(e,t,s,u){return e={tag:e,create:t,destroy:s,deps:u,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,t.lastEffect=e)),e}function np(){return Yn().memoizedState}function Cu(e,t,s,u){var c=hi();gt.flags|=e,c.memoizedState=xa(1|t,s,void 0,u===void 0?null:u)}function kl(e,t,s,u){var c=Yn();u=u===void 0?null:u;var d=void 0;if(It!==null){var m=It.memoizedState;if(d=m.destroy,u!==null&&df(u,m.deps)){c.memoizedState=xa(t,s,d,u);return}}gt.flags|=e,c.memoizedState=xa(1|t,s,d,u)}function Fd(e,t){return Cu(8390656,8,e,t)}function pf(e,t){return kl(2048,8,e,t)}function ip(e,t){return kl(4,2,e,t)}function rp(e,t){return kl(4,4,e,t)}function sp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function op(e,t,s){return s=s!=null?s.concat([e]):null,kl(4,4,sp.bind(null,t,e),s)}function vf(){}function ap(e,t){var s=Yn();t=t===void 0?null:t;var u=s.memoizedState;return u!==null&&t!==null&&df(t,u[1])?u[0]:(s.memoizedState=[e,t],e)}function up(e,t){var s=Yn();t=t===void 0?null:t;var u=s.memoizedState;return u!==null&&t!==null&&df(t,u[1])?u[0]:(e=e(),s.memoizedState=[e,t],e)}function lp(e,t,s){return Zr&21?(ei(s,t)||(s=gm(),gt.lanes|=s,Ur|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=s)}function Sy(e,t){var s=et;et=s!==0&&4>s?s:4,e(!0);var u=pc.transition;pc.transition={};try{e(!1),t()}finally{et=s,pc.transition=u}}function cp(){return Yn().memoizedState}function Ny(e,t,s){var u=ur(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},hp(e))fp(t,s);else if(s=Vm(e,t,s,u),s!==null){var c=en();Jn(s,e,u,c),dp(s,t,u)}}function Iy(e,t,s){var u=ur(e),c={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(hp(e))fp(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,p=d(m,s);if(c.hasEagerState=!0,c.eagerState=p,ei(p,m)){var k=t.interleaved;k===null?(c.next=c,uf(t)):(c.next=k.next,k.next=c),t.interleaved=c;return}}catch{}finally{}s=Vm(e,t,c,u),s!==null&&(c=en(),Jn(s,e,u,c),dp(s,t,u))}}function hp(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function fp(e,t){ea=el=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function dp(e,t,s){if(s&4194240){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,Hh(e,s)}}var tl={readContext:Un,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Ly={readContext:Un,useCallback:function(e,t){return hi().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:Fd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Cu(4194308,4,sp.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cu(4,2,e,t)},useMemo:function(e,t){var s=hi();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var u=hi();return t=s!==void 0?s(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Ny.bind(null,gt,e),[u.memoizedState,e]},useRef:function(e){var t=hi();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:vf,useDeferredValue:function(e){return hi().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=Sy.bind(null,e[1]),hi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var u=gt,c=hi();if(ut){if(s===void 0)throw Error(oe(407));s=s()}else{if(s=t(),Dt===null)throw Error(oe(349));Zr&30||Qm(u,t,s)}c.memoizedState=s;var d={value:s,getSnapshot:t};return c.queue=d,Fd(Jm.bind(null,u,d,e),[e]),u.flags|=2048,xa(9,Km.bind(null,u,d,s,t),void 0,null),s},useId:function(){var e=hi(),t=Dt.identifierPrefix;if(ut){var s=Ti,u=Ci;s=(u&~(1<<32-Kn(u)-1)).toString(32)+s,t=":"+t+"R"+s,s=_a++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Ey++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cy={readContext:Un,useCallback:ap,useContext:Un,useEffect:pf,useImperativeHandle:op,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:up,useReducer:vc,useRef:np,useState:function(){return vc(ya)},useDebugValue:vf,useDeferredValue:function(e){var t=Yn();return lp(t,It.memoizedState,e)},useTransition:function(){var e=vc(ya)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:Wm,useSyncExternalStore:$m,useId:cp,unstable_isNewReconciler:!1},Ty={readContext:Un,useCallback:ap,useContext:Un,useEffect:pf,useImperativeHandle:op,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:up,useReducer:_c,useRef:np,useState:function(){return _c(ya)},useDebugValue:vf,useDeferredValue:function(e){var t=Yn();return It===null?t.memoizedState=e:lp(t,It.memoizedState,e)},useTransition:function(){var e=_c(ya)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:Wm,useSyncExternalStore:$m,useId:cp,unstable_isNewReconciler:!1};function Wn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function lh(e,t,s,u){t=e.memoizedState,s=s(u,t),s=s==null?t:mt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wl={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var u=en(),c=ur(e),d=Pi(u,c);d.payload=t,s!=null&&(d.callback=s),t=or(e,d,c),t!==null&&(Jn(t,e,c,u),Iu(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var u=en(),c=ur(e),d=Pi(u,c);d.tag=1,d.payload=t,s!=null&&(d.callback=s),t=or(e,d,c),t!==null&&(Jn(t,e,c,u),Iu(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=en(),u=ur(e),c=Pi(s,u);c.tag=2,t!=null&&(c.callback=t),t=or(e,c,u),t!==null&&(Jn(t,e,u,s),Iu(t,e,u))}};function bd(e,t,s,u,c,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,m):t.prototype&&t.prototype.isPureReactComponent?!fa(s,u)||!fa(c,d):!0}function gp(e,t,s){var u=!1,c=hr,d=t.contextType;return typeof d=="object"&&d!==null?d=Un(d):(c=hn(t)?Br:Xt.current,u=t.contextTypes,d=(u=u!=null)?Us(e,c):hr),t=new t(s,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wl,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function Bd(e,t,s,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,u),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function ch(e,t,s,u){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},lf(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=Un(d):(d=hn(t)?Br:Xt.current,c.context=Us(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(lh(e,t,d,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&wl.enqueueReplaceState(c,c.state,null),Ku(e,s,c,u),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Vs(e,t){try{var s="",u=t;do s+=i_(u),u=u.return;while(u);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function yc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function hh(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Py=typeof WeakMap=="function"?WeakMap:Map;function mp(e,t,s){s=Pi(-1,s),s.tag=3,s.payload={element:null};var u=t.value;return s.callback=function(){il||(il=!0,kh=u),hh(e,t)},s}function pp(e,t,s){s=Pi(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var c=t.value;s.payload=function(){return u(c)},s.callback=function(){hh(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){hh(e,t),typeof u!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),s}function Gd(e,t,s){var u=e.pingCache;if(u===null){u=e.pingCache=new Py;var c=new Set;u.set(t,c)}else c=u.get(t),c===void 0&&(c=new Set,u.set(t,c));c.has(s)||(c.add(s),e=qy.bind(null,e,t,s),t.then(e,e))}function Zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ud(e,t,s,u,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Pi(-1,1),t.tag=2,or(s,t,1))),s.lanes|=1),e)}var Oy=Di.ReactCurrentOwner,ln=!1;function Jt(e,t,s,u){t.child=e===null?jm(t,null,s,u):qs(t,e.child,s,u)}function Yd(e,t,s,u,c){s=s.render;var d=t.ref;return Bs(t,c),u=gf(e,t,s,u,d,c),s=mf(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Ai(e,t,c)):(ut&&s&&tf(t),t.flags|=1,Jt(e,t,u,c),t.child)}function qd(e,t,s,u,c){if(e===null){var d=s.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=d,vp(e,t,d,u,c)):(e=Mu(s.type,null,u,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&c)){var m=d.memoizedProps;if(s=s.compare,s=s!==null?s:fa,s(m,u)&&e.ref===t.ref)return Ai(e,t,c)}return t.flags|=1,e=lr(d,u),e.ref=t.ref,e.return=t,t.child=e}function vp(e,t,s,u,c){if(e!==null){var d=e.memoizedProps;if(fa(d,u)&&e.ref===t.ref)if(ln=!1,t.pendingProps=u=d,(e.lanes&c)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,Ai(e,t,c)}return fh(e,t,s,u,c)}function _p(e,t,s){var u=t.pendingProps,c=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Rs,_n),_n|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Rs,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,it(Rs,_n),_n|=u}else d!==null?(u=d.baseLanes|s,t.memoizedState=null):u=s,it(Rs,_n),_n|=u;return Jt(e,t,c,s),t.child}function yp(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function fh(e,t,s,u,c){var d=hn(s)?Br:Xt.current;return d=Us(t,d),Bs(t,c),s=gf(e,t,s,u,d,c),u=mf(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Ai(e,t,c)):(ut&&u&&tf(t),t.flags|=1,Jt(e,t,s,c),t.child)}function jd(e,t,s,u,c){if(hn(s)){var d=!0;Hu(t)}else d=!1;if(Bs(t,c),t.stateNode===null)Tu(e,t),gp(t,s,u),ch(t,s,u,c),u=!0;else if(e===null){var m=t.stateNode,p=t.memoizedProps;m.props=p;var k=m.context,N=s.contextType;typeof N=="object"&&N!==null?N=Un(N):(N=hn(s)?Br:Xt.current,N=Us(t,N));var C=s.getDerivedStateFromProps,w=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function";w||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(p!==u||k!==N)&&Bd(t,m,u,N),$i=!1;var T=t.memoizedState;m.state=T,Ku(t,u,m,c),k=t.memoizedState,p!==u||T!==k||cn.current||$i?(typeof C=="function"&&(lh(t,s,C,u),k=t.memoizedState),(p=$i||bd(t,s,p,u,T,k,N))?(w||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=k),m.props=u,m.state=k,m.context=N,u=p):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{m=t.stateNode,Hm(e,t),p=t.memoizedProps,N=t.type===t.elementType?p:Wn(t.type,p),m.props=N,w=t.pendingProps,T=m.context,k=s.contextType,typeof k=="object"&&k!==null?k=Un(k):(k=hn(s)?Br:Xt.current,k=Us(t,k));var D=s.getDerivedStateFromProps;(C=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(p!==w||T!==k)&&Bd(t,m,u,k),$i=!1,T=t.memoizedState,m.state=T,Ku(t,u,m,c);var M=t.memoizedState;p!==w||T!==M||cn.current||$i?(typeof D=="function"&&(lh(t,s,D,u),M=t.memoizedState),(N=$i||bd(t,s,N,u,T,M,k)||!1)?(C||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,M,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,M,k)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=M),m.props=u,m.state=M,m.context=k,u=N):(typeof m.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),u=!1)}return dh(e,t,s,u,d,c)}function dh(e,t,s,u,c,d){yp(e,t);var m=(t.flags&128)!==0;if(!u&&!m)return c&&Pd(t,s,!1),Ai(e,t,d);u=t.stateNode,Oy.current=t;var p=m&&typeof s.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&m?(t.child=qs(t,e.child,null,d),t.child=qs(t,null,p,d)):Jt(e,t,p,d),t.memoizedState=u.state,c&&Pd(t,s,!0),t.child}function xp(e){var t=e.stateNode;t.pendingContext?Td(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Td(e,t.context,!1),cf(e,t.containerInfo)}function Vd(e,t,s,u,c){return Ys(),rf(c),t.flags|=256,Jt(e,t,s,u),t.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function mh(e){return{baseLanes:e,cachePool:null,transitions:null}}function kp(e,t,s){var u=t.pendingProps,c=ht.current,d=!1,m=(t.flags&128)!==0,p;if((p=m)||(p=e!==null&&e.memoizedState===null?!1:(c&2)!==0),p?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),it(ht,c&1),e===null)return ah(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(m=u.children,e=u.fallback,d?(u=t.mode,d=t.child,m={mode:"hidden",children:m},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=m):d=Nl(m,u,0,null),e=br(e,u,s,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=mh(s),t.memoizedState=gh,e):_f(t,m));if(c=e.memoizedState,c!==null&&(p=c.dehydrated,p!==null))return My(e,t,m,u,p,c,s);if(d){d=u.fallback,m=t.mode,c=e.child,p=c.sibling;var k={mode:"hidden",children:u.children};return!(m&1)&&t.child!==c?(u=t.child,u.childLanes=0,u.pendingProps=k,t.deletions=null):(u=lr(c,k),u.subtreeFlags=c.subtreeFlags&14680064),p!==null?d=lr(p,d):(d=br(d,m,s,null),d.flags|=2),d.return=t,u.return=t,u.sibling=d,t.child=u,u=d,d=t.child,m=e.child.memoizedState,m=m===null?mh(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~s,t.memoizedState=gh,u}return d=e.child,e=d.sibling,u=lr(d,{mode:"visible",children:u.children}),!(t.mode&1)&&(u.lanes=s),u.return=t,u.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=u,t.memoizedState=null,u}function _f(e,t){return t=Nl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uu(e,t,s,u){return u!==null&&rf(u),qs(t,e.child,null,s),e=_f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function My(e,t,s,u,c,d,m){if(s)return t.flags&256?(t.flags&=-257,u=yc(Error(oe(422))),uu(e,t,m,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=u.fallback,c=t.mode,u=Nl({mode:"visible",children:u.children},c,0,null),d=br(d,c,m,null),d.flags|=2,u.return=t,d.return=t,u.sibling=d,t.child=u,t.mode&1&&qs(t,e.child,null,m),t.child.memoizedState=mh(m),t.memoizedState=gh,d);if(!(t.mode&1))return uu(e,t,m,null);if(c.data==="$!"){if(u=c.nextSibling&&c.nextSibling.dataset,u)var p=u.dgst;return u=p,d=Error(oe(419)),u=yc(d,u,void 0),uu(e,t,m,u)}if(p=(m&e.childLanes)!==0,ln||p){if(u=Dt,u!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(u.suspendedLanes|m)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Ri(e,c),Jn(u,e,c,-1))}return Sf(),u=yc(Error(oe(421))),uu(e,t,m,u)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=jy.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,yn=sr(c.nextSibling),xn=t,ut=!0,Qn=null,e!==null&&(bn[Bn++]=Ci,bn[Bn++]=Ti,bn[Bn++]=Gr,Ci=e.id,Ti=e.overflow,Gr=t),t=_f(t,u.children),t.flags|=4096,t)}function Hd(e,t,s){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),uh(e.return,t,s)}function xc(e,t,s,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=c)}function wp(e,t,s){var u=t.pendingProps,c=u.revealOrder,d=u.tail;if(Jt(e,t,u.children,s),u=ht.current,u&2)u=u&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,s,t);else if(e.tag===19)Hd(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(it(ht,u),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&Ju(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),xc(t,!1,c,s,d);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ju(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}xc(t,!0,s,null,d);break;case"together":xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ai(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,s=lr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=lr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ry(e,t,s){switch(t.tag){case 3:xp(t),Ys();break;case 5:Xm(t);break;case 1:hn(t.type)&&Hu(t);break;case 4:cf(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,c=t.memoizedProps.value;it($u,u._currentValue),u._currentValue=c;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(it(ht,ht.current&1),t.flags|=128,null):s&t.child.childLanes?kp(e,t,s):(it(ht,ht.current&1),e=Ai(e,t,s),e!==null?e.sibling:null);it(ht,ht.current&1);break;case 19:if(u=(s&t.childLanes)!==0,e.flags&128){if(u)return wp(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(ht,ht.current),u)break;return null;case 22:case 23:return t.lanes=0,_p(e,t,s)}return Ai(e,t,s)}var Ep,ph,Sp,Np;Ep=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};ph=function(){};Sp=function(e,t,s,u){var c=e.memoizedProps;if(c!==u){e=t.stateNode,zr(mi.current);var d=null;switch(s){case"input":c=bc(e,c),u=bc(e,u),d=[];break;case"select":c=mt({},c,{value:void 0}),u=mt({},u,{value:void 0}),d=[];break;case"textarea":c=Zc(e,c),u=Zc(e,u),d=[];break;default:typeof c.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=ju)}Yc(s,u);var m;s=null;for(N in c)if(!u.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var p=c[N];for(m in p)p.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(sa.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in u){var k=u[N];if(p=c!=null?c[N]:void 0,u.hasOwnProperty(N)&&k!==p&&(k!=null||p!=null))if(N==="style")if(p){for(m in p)!p.hasOwnProperty(m)||k&&k.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in k)k.hasOwnProperty(m)&&p[m]!==k[m]&&(s||(s={}),s[m]=k[m])}else s||(d||(d=[]),d.push(N,s)),s=k;else N==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,p=p?p.__html:void 0,k!=null&&p!==k&&(d=d||[]).push(N,k)):N==="children"?typeof k!="string"&&typeof k!="number"||(d=d||[]).push(N,""+k):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(sa.hasOwnProperty(N)?(k!=null&&N==="onScroll"&&st("scroll",e),d||p===k||(d=[])):(d=d||[]).push(N,k))}s&&(d=d||[]).push("style",s);var N=d;(t.updateQueue=N)&&(t.flags|=4)}};Np=function(e,t,s,u){s!==u&&(t.flags|=4)};function bo(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags&14680064,u|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=s,t}function Ay(e,t,s){var u=t.pendingProps;switch(nf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return hn(t.type)&&Vu(),Vt(t),null;case 3:return u=t.stateNode,js(),ot(cn),ot(Xt),ff(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qn!==null&&(Sh(Qn),Qn=null))),ph(e,t),Vt(t),null;case 5:hf(t);var c=zr(va.current);if(s=t.type,e!==null&&t.stateNode!=null)Sp(e,t,s,u,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(oe(166));return Vt(t),null}if(e=zr(mi.current),ou(t)){u=t.stateNode,s=t.type;var d=t.memoizedProps;switch(u[fi]=t,u[ma]=d,e=(t.mode&1)!==0,s){case"dialog":st("cancel",u),st("close",u);break;case"iframe":case"object":case"embed":st("load",u);break;case"video":case"audio":for(c=0;c<qo.length;c++)st(qo[c],u);break;case"source":st("error",u);break;case"img":case"image":case"link":st("error",u),st("load",u);break;case"details":st("toggle",u);break;case"input":nd(u,d),st("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},st("invalid",u);break;case"textarea":rd(u,d),st("invalid",u)}Yc(s,d),c=null;for(var m in d)if(d.hasOwnProperty(m)){var p=d[m];m==="children"?typeof p=="string"?u.textContent!==p&&(d.suppressHydrationWarning!==!0&&su(u.textContent,p,e),c=["children",p]):typeof p=="number"&&u.textContent!==""+p&&(d.suppressHydrationWarning!==!0&&su(u.textContent,p,e),c=["children",""+p]):sa.hasOwnProperty(m)&&p!=null&&m==="onScroll"&&st("scroll",u)}switch(s){case"input":Qa(u),id(u,d,!0);break;case"textarea":Qa(u),sd(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=ju)}u=c,t.updateQueue=u,u!==null&&(t.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=m.createElement(s,{is:u.is}):(e=m.createElement(s),s==="select"&&(m=e,u.multiple?m.multiple=!0:u.size&&(m.size=u.size))):e=m.createElementNS(e,s),e[fi]=t,e[ma]=u,Ep(e,t,!1,!1),t.stateNode=e;e:{switch(m=qc(s,u),s){case"dialog":st("cancel",e),st("close",e),c=u;break;case"iframe":case"object":case"embed":st("load",e),c=u;break;case"video":case"audio":for(c=0;c<qo.length;c++)st(qo[c],e);c=u;break;case"source":st("error",e),c=u;break;case"img":case"image":case"link":st("error",e),st("load",e),c=u;break;case"details":st("toggle",e),c=u;break;case"input":nd(e,u),c=bc(e,u),st("invalid",e);break;case"option":c=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},c=mt({},u,{value:void 0}),st("invalid",e);break;case"textarea":rd(e,u),c=Zc(e,u),st("invalid",e);break;default:c=u}Yc(s,c),p=c;for(d in p)if(p.hasOwnProperty(d)){var k=p[d];d==="style"?nm(e,k):d==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&em(e,k)):d==="children"?typeof k=="string"?(s!=="textarea"||k!=="")&&oa(e,k):typeof k=="number"&&oa(e,""+k):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sa.hasOwnProperty(d)?k!=null&&d==="onScroll"&&st("scroll",e):k!=null&&Zh(e,d,k,m))}switch(s){case"input":Qa(e),id(e,u,!1);break;case"textarea":Qa(e),sd(e);break;case"option":u.value!=null&&e.setAttribute("value",""+cr(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?Ds(e,!!u.multiple,d,!1):u.defaultValue!=null&&Ds(e,!!u.multiple,u.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ju)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)Np(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(oe(166));if(s=zr(va.current),zr(mi.current),ou(t)){if(u=t.stateNode,s=t.memoizedProps,u[fi]=t,(d=u.nodeValue!==s)&&(e=xn,e!==null))switch(e.tag){case 3:su(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(u.nodeValue,s,(e.mode&1)!==0)}d&&(t.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[fi]=t,t.stateNode=u}return Vt(t),null;case 13:if(ot(ht),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&yn!==null&&t.mode&1&&!(t.flags&128))Ym(),Ys(),t.flags|=98560,d=!1;else if(d=ou(t),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(oe(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(oe(317));d[fi]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),d=!1}else Qn!==null&&(Sh(Qn),Qn=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Lt===0&&(Lt=3):Sf())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return js(),ph(e,t),e===null&&da(t.stateNode.containerInfo),Vt(t),null;case 10:return af(t.type._context),Vt(t),null;case 17:return hn(t.type)&&Vu(),Vt(t),null;case 19:if(ot(ht),d=t.memoizedState,d===null)return Vt(t),null;if(u=(t.flags&128)!==0,m=d.rendering,m===null)if(u)bo(d,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(m=Ju(e),m!==null){for(t.flags|=128,bo(d,!1),u=m.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=s,s=t.child;s!==null;)d=s,e=u,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return it(ht,ht.current&1|2),t.child}e=e.sibling}d.tail!==null&&xt()>Hs&&(t.flags|=128,u=!0,bo(d,!1),t.lanes=4194304)}else{if(!u)if(e=Ju(m),e!==null){if(t.flags|=128,u=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),bo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!ut)return Vt(t),null}else 2*xt()-d.renderingStartTime>Hs&&s!==1073741824&&(t.flags|=128,u=!0,bo(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(s=d.last,s!==null?s.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=xt(),t.sibling=null,s=ht.current,it(ht,u?s&1|2:s&1),t):(Vt(t),null);case 22:case 23:return Ef(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&t.mode&1?_n&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function Dy(e,t){switch(nf(t),t.tag){case 1:return hn(t.type)&&Vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return js(),ot(cn),ot(Xt),ff(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hf(t),null;case 13:if(ot(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ht),null;case 4:return js(),null;case 10:return af(t.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var lu=!1,Ht=!1,zy=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ms(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){_t(e,t,u)}else s.current=null}function vh(e,t,s){try{s()}catch(u){_t(e,t,u)}}var Xd=!1;function Fy(e,t){if(eh=Uu,e=Pm(),ef(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var m=0,p=-1,k=-1,N=0,C=0,w=e,T=null;t:for(;;){for(var D;w!==s||c!==0&&w.nodeType!==3||(p=m+c),w!==d||u!==0&&w.nodeType!==3||(k=m+u),w.nodeType===3&&(m+=w.nodeValue.length),(D=w.firstChild)!==null;)T=w,w=D;for(;;){if(w===e)break t;if(T===s&&++N===c&&(p=m),T===d&&++C===u&&(k=m),(D=w.nextSibling)!==null)break;w=T,T=w.parentNode}w=D}s=p===-1||k===-1?null:{start:p,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(th={focusedElem:e,selectionRange:s},Uu=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var M=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var G=M.memoizedProps,$=M.memoizedState,R=t.stateNode,I=R.getSnapshotBeforeUpdate(t.elementType===t.type?G:Wn(t.type,G),$);R.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(F){_t(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return M=Xd,Xd=!1,M}function ta(e,t,s){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var c=u=u.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&vh(t,s,d)}c=c.next}while(c!==u)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==t)}}function _h(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Ip(e){var t=e.alternate;t!==null&&(e.alternate=null,Ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fi],delete t[ma],delete t[rh],delete t[yy],delete t[xy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lp(e){return e.tag===5||e.tag===3||e.tag===4}function Wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yh(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ju));else if(u!==4&&(e=e.child,e!==null))for(yh(e,t,s),e=e.sibling;e!==null;)yh(e,t,s),e=e.sibling}function xh(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(xh(e,t,s),e=e.sibling;e!==null;)xh(e,t,s),e=e.sibling}var Gt=null,$n=!1;function Hi(e,t,s){for(s=s.child;s!==null;)Cp(e,t,s),s=s.sibling}function Cp(e,t,s){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(ml,s)}catch{}switch(s.tag){case 5:Ht||Ms(s,t);case 6:var u=Gt,c=$n;Gt=null,Hi(e,t,s),Gt=u,$n=c,Gt!==null&&($n?(e=Gt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Gt.removeChild(s.stateNode));break;case 18:Gt!==null&&($n?(e=Gt,s=s.stateNode,e.nodeType===8?dc(e.parentNode,s):e.nodeType===1&&dc(e,s),ca(e)):dc(Gt,s.stateNode));break;case 4:u=Gt,c=$n,Gt=s.stateNode.containerInfo,$n=!0,Hi(e,t,s),Gt=u,$n=c;break;case 0:case 11:case 14:case 15:if(!Ht&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){c=u=u.next;do{var d=c,m=d.destroy;d=d.tag,m!==void 0&&(d&2||d&4)&&vh(s,t,m),c=c.next}while(c!==u)}Hi(e,t,s);break;case 1:if(!Ht&&(Ms(s,t),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(p){_t(s,t,p)}Hi(e,t,s);break;case 21:Hi(e,t,s);break;case 22:s.mode&1?(Ht=(u=Ht)||s.memoizedState!==null,Hi(e,t,s),Ht=u):Hi(e,t,s);break;default:Hi(e,t,s)}}function $d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new zy),t.forEach(function(u){var c=Vy.bind(null,e,u);s.has(u)||(s.add(u),u.then(c,c))})}}function Xn(e,t){var s=t.deletions;if(s!==null)for(var u=0;u<s.length;u++){var c=s[u];try{var d=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 5:Gt=p.stateNode,$n=!1;break e;case 3:Gt=p.stateNode.containerInfo,$n=!0;break e;case 4:Gt=p.stateNode.containerInfo,$n=!0;break e}p=p.return}if(Gt===null)throw Error(oe(160));Cp(d,m,c),Gt=null,$n=!1;var k=c.alternate;k!==null&&(k.return=null),c.return=null}catch(N){_t(c,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tp(t,e),t=t.sibling}function Tp(e,t){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),ci(e),u&4){try{ta(3,e,e.return),El(3,e)}catch(G){_t(e,e.return,G)}try{ta(5,e,e.return)}catch(G){_t(e,e.return,G)}}break;case 1:Xn(t,e),ci(e),u&512&&s!==null&&Ms(s,s.return);break;case 5:if(Xn(t,e),ci(e),u&512&&s!==null&&Ms(s,s.return),e.flags&32){var c=e.stateNode;try{oa(c,"")}catch(G){_t(e,e.return,G)}}if(u&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,m=s!==null?s.memoizedProps:d,p=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{p==="input"&&d.type==="radio"&&d.name!=null&&Qg(c,d),qc(p,m);var N=qc(p,d);for(m=0;m<k.length;m+=2){var C=k[m],w=k[m+1];C==="style"?nm(c,w):C==="dangerouslySetInnerHTML"?em(c,w):C==="children"?oa(c,w):Zh(c,C,w,N)}switch(p){case"input":Bc(c,d);break;case"textarea":Kg(c,d);break;case"select":var T=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var D=d.value;D!=null?Ds(c,!!d.multiple,D,!1):T!==!!d.multiple&&(d.defaultValue!=null?Ds(c,!!d.multiple,d.defaultValue,!0):Ds(c,!!d.multiple,d.multiple?[]:"",!1))}c[ma]=d}catch(G){_t(e,e.return,G)}}break;case 6:if(Xn(t,e),ci(e),u&4){if(e.stateNode===null)throw Error(oe(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(G){_t(e,e.return,G)}}break;case 3:if(Xn(t,e),ci(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{ca(t.containerInfo)}catch(G){_t(e,e.return,G)}break;case 4:Xn(t,e),ci(e);break;case 13:Xn(t,e),ci(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(kf=xt())),u&4&&$d(e);break;case 22:if(C=s!==null&&s.memoizedState!==null,e.mode&1?(Ht=(N=Ht)||C,Xn(t,e),Ht=N):Xn(t,e),ci(e),u&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!C&&e.mode&1)for(ve=e,C=e.child;C!==null;){for(w=ve=C;ve!==null;){switch(T=ve,D=T.child,T.tag){case 0:case 11:case 14:case 15:ta(4,T,T.return);break;case 1:Ms(T,T.return);var M=T.stateNode;if(typeof M.componentWillUnmount=="function"){u=T,s=T.return;try{t=u,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(G){_t(u,s,G)}}break;case 5:Ms(T,T.return);break;case 22:if(T.memoizedState!==null){Kd(w);continue}}D!==null?(D.return=T,ve=D):Kd(w)}C=C.sibling}e:for(C=null,w=e;;){if(w.tag===5){if(C===null){C=w;try{c=w.stateNode,N?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(p=w.stateNode,k=w.memoizedProps.style,m=k!=null&&k.hasOwnProperty("display")?k.display:null,p.style.display=tm("display",m))}catch(G){_t(e,e.return,G)}}}else if(w.tag===6){if(C===null)try{w.stateNode.nodeValue=N?"":w.memoizedProps}catch(G){_t(e,e.return,G)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;C===w&&(C=null),w=w.return}C===w&&(C=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Xn(t,e),ci(e),u&4&&$d(e);break;case 21:break;default:Xn(t,e),ci(e)}}function ci(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Lp(s)){var u=s;break e}s=s.return}throw Error(oe(160))}switch(u.tag){case 5:var c=u.stateNode;u.flags&32&&(oa(c,""),u.flags&=-33);var d=Wd(e);xh(e,d,c);break;case 3:case 4:var m=u.stateNode.containerInfo,p=Wd(e);yh(e,p,m);break;default:throw Error(oe(161))}}catch(k){_t(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function by(e,t,s){ve=e,Pp(e)}function Pp(e,t,s){for(var u=(e.mode&1)!==0;ve!==null;){var c=ve,d=c.child;if(c.tag===22&&u){var m=c.memoizedState!==null||lu;if(!m){var p=c.alternate,k=p!==null&&p.memoizedState!==null||Ht;p=lu;var N=Ht;if(lu=m,(Ht=k)&&!N)for(ve=c;ve!==null;)m=ve,k=m.child,m.tag===22&&m.memoizedState!==null?Jd(c):k!==null?(k.return=m,ve=k):Jd(c);for(;d!==null;)ve=d,Pp(d),d=d.sibling;ve=c,lu=p,Ht=N}Qd(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,ve=d):Qd(e)}}function Qd(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ht||El(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!Ht)if(s===null)u.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:Wn(t.type,s.memoizedProps);u.componentDidUpdate(c,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Dd(t,d,u);break;case 3:var m=t.updateQueue;if(m!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Dd(t,m,s)}break;case 5:var p=t.stateNode;if(s===null&&t.flags&4){s=p;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&s.focus();break;case"img":k.src&&(s.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var C=N.memoizedState;if(C!==null){var w=C.dehydrated;w!==null&&ca(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Ht||t.flags&512&&_h(t)}catch(T){_t(t,t.return,T)}}if(t===e){ve=null;break}if(s=t.sibling,s!==null){s.return=t.return,ve=s;break}ve=t.return}}function Kd(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ve=s;break}ve=t.return}}function Jd(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{El(4,t)}catch(k){_t(t,s,k)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var c=t.return;try{u.componentDidMount()}catch(k){_t(t,c,k)}}var d=t.return;try{_h(t)}catch(k){_t(t,d,k)}break;case 5:var m=t.return;try{_h(t)}catch(k){_t(t,m,k)}}}catch(k){_t(t,t.return,k)}if(t===e){ve=null;break}var p=t.sibling;if(p!==null){p.return=t.return,ve=p;break}ve=t.return}}var By=Math.ceil,nl=Di.ReactCurrentDispatcher,yf=Di.ReactCurrentOwner,Zn=Di.ReactCurrentBatchConfig,He=0,Dt=null,Et=null,Zt=0,_n=0,Rs=dr(0),Lt=0,ka=null,Ur=0,Sl=0,xf=0,na=null,un=null,kf=0,Hs=1/0,Ii=null,il=!1,kh=null,ar=null,cu=!1,tr=null,rl=0,ia=0,wh=null,Pu=-1,Ou=0;function en(){return He&6?xt():Pu!==-1?Pu:Pu=xt()}function ur(e){return e.mode&1?He&2&&Zt!==0?Zt&-Zt:wy.transition!==null?(Ou===0&&(Ou=gm()),Ou):(e=et,e!==0||(e=window.event,e=e===void 0?16:km(e.type)),e):1}function Jn(e,t,s,u){if(50<ia)throw ia=0,wh=null,Error(oe(185));Sa(e,s,u),(!(He&2)||e!==Dt)&&(e===Dt&&(!(He&2)&&(Sl|=s),Lt===4&&Ji(e,Zt)),fn(e,u),s===1&&He===0&&!(t.mode&1)&&(Hs=xt()+500,xl&&gr()))}function fn(e,t){var s=e.callbackNode;w_(e,t);var u=Zu(e,e===Dt?Zt:0);if(u===0)s!==null&&ud(s),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(s!=null&&ud(s),t===1)e.tag===0?ky(eg.bind(null,e)):Gm(eg.bind(null,e)),vy(function(){!(He&6)&&gr()}),s=null;else{switch(mm(u)){case 1:s=Vh;break;case 4:s=fm;break;case 16:s=Gu;break;case 536870912:s=dm;break;default:s=Gu}s=bp(s,Op.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Op(e,t){if(Pu=-1,Ou=0,He&6)throw Error(oe(327));var s=e.callbackNode;if(Gs()&&e.callbackNode!==s)return null;var u=Zu(e,e===Dt?Zt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||t)t=sl(e,u);else{t=u;var c=He;He|=2;var d=Rp();(Dt!==e||Zt!==t)&&(Ii=null,Hs=xt()+500,Fr(e,t));do try{Uy();break}catch(p){Mp(e,p)}while(!0);of(),nl.current=d,He=c,Et!==null?t=0:(Dt=null,Zt=0,t=Lt)}if(t!==0){if(t===2&&(c=Wc(e),c!==0&&(u=c,t=Eh(e,c))),t===1)throw s=ka,Fr(e,0),Ji(e,u),fn(e,xt()),s;if(t===6)Ji(e,u);else{if(c=e.current.alternate,!(u&30)&&!Gy(c)&&(t=sl(e,u),t===2&&(d=Wc(e),d!==0&&(u=d,t=Eh(e,d))),t===1))throw s=ka,Fr(e,0),Ji(e,u),fn(e,xt()),s;switch(e.finishedWork=c,e.finishedLanes=u,t){case 0:case 1:throw Error(oe(345));case 2:Rr(e,un,Ii);break;case 3:if(Ji(e,u),(u&130023424)===u&&(t=kf+500-xt(),10<t)){if(Zu(e,0)!==0)break;if(c=e.suspendedLanes,(c&u)!==u){en(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ih(Rr.bind(null,e,un,Ii),t);break}Rr(e,un,Ii);break;case 4:if(Ji(e,u),(u&4194240)===u)break;for(t=e.eventTimes,c=-1;0<u;){var m=31-Kn(u);d=1<<m,m=t[m],m>c&&(c=m),u&=~d}if(u=c,u=xt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*By(u/1960))-u,10<u){e.timeoutHandle=ih(Rr.bind(null,e,un,Ii),u);break}Rr(e,un,Ii);break;case 5:Rr(e,un,Ii);break;default:throw Error(oe(329))}}}return fn(e,xt()),e.callbackNode===s?Op.bind(null,e):null}function Eh(e,t){var s=na;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=sl(e,t),e!==2&&(t=un,un=s,t!==null&&Sh(t)),e}function Sh(e){un===null?un=e:un.push.apply(un,e)}function Gy(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var c=s[u],d=c.getSnapshot;c=c.value;try{if(!ei(d(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t){for(t&=~xf,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Kn(t),u=1<<s;e[s]=-1,t&=~u}}function eg(e){if(He&6)throw Error(oe(327));Gs();var t=Zu(e,0);if(!(t&1))return fn(e,xt()),null;var s=sl(e,t);if(e.tag!==0&&s===2){var u=Wc(e);u!==0&&(t=u,s=Eh(e,u))}if(s===1)throw s=ka,Fr(e,0),Ji(e,t),fn(e,xt()),s;if(s===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,un,Ii),fn(e,xt()),null}function wf(e,t){var s=He;He|=1;try{return e(t)}finally{He=s,He===0&&(Hs=xt()+500,xl&&gr())}}function Yr(e){tr!==null&&tr.tag===0&&!(He&6)&&Gs();var t=He;He|=1;var s=Zn.transition,u=et;try{if(Zn.transition=null,et=1,e)return e()}finally{et=u,Zn.transition=s,He=t,!(He&6)&&gr()}}function Ef(){_n=Rs.current,ot(Rs)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,py(s)),Et!==null)for(s=Et.return;s!==null;){var u=s;switch(nf(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Vu();break;case 3:js(),ot(cn),ot(Xt),ff();break;case 5:hf(u);break;case 4:js();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:af(u.type._context);break;case 22:case 23:Ef()}s=s.return}if(Dt=e,Et=e=lr(e.current,null),Zt=_n=t,Lt=0,ka=null,xf=Sl=Ur=0,un=na=null,Dr!==null){for(t=0;t<Dr.length;t++)if(s=Dr[t],u=s.interleaved,u!==null){s.interleaved=null;var c=u.next,d=s.pending;if(d!==null){var m=d.next;d.next=c,u.next=m}s.pending=u}Dr=null}return e}function Mp(e,t){do{var s=Et;try{if(of(),Lu.current=tl,el){for(var u=gt.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}el=!1}if(Zr=0,Rt=It=gt=null,ea=!1,_a=0,yf.current=null,s===null||s.return===null){Lt=1,ka=t,Et=null;break}e:{var d=e,m=s.return,p=s,k=t;if(t=Zt,p.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var N=k,C=p,w=C.tag;if(!(C.mode&1)&&(w===0||w===11||w===15)){var T=C.alternate;T?(C.updateQueue=T.updateQueue,C.memoizedState=T.memoizedState,C.lanes=T.lanes):(C.updateQueue=null,C.memoizedState=null)}var D=Zd(m);if(D!==null){D.flags&=-257,Ud(D,m,p,d,t),D.mode&1&&Gd(d,N,t),t=D,k=N;var M=t.updateQueue;if(M===null){var G=new Set;G.add(k),t.updateQueue=G}else M.add(k);break e}else{if(!(t&1)){Gd(d,N,t),Sf();break e}k=Error(oe(426))}}else if(ut&&p.mode&1){var $=Zd(m);if($!==null){!($.flags&65536)&&($.flags|=256),Ud($,m,p,d,t),rf(Vs(k,p));break e}}d=k=Vs(k,p),Lt!==4&&(Lt=2),na===null?na=[d]:na.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var R=mp(d,k,t);Ad(d,R);break e;case 1:p=k;var I=d.type,P=d.stateNode;if(!(d.flags&128)&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ar===null||!ar.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var F=pp(d,p,t);Ad(d,F);break e}}d=d.return}while(d!==null)}Dp(s)}catch(b){t=b,Et===s&&s!==null&&(Et=s=s.return);continue}break}while(!0)}function Rp(){var e=nl.current;return nl.current=tl,e===null?tl:e}function Sf(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Dt===null||!(Ur&268435455)&&!(Sl&268435455)||Ji(Dt,Zt)}function sl(e,t){var s=He;He|=2;var u=Rp();(Dt!==e||Zt!==t)&&(Ii=null,Fr(e,t));do try{Zy();break}catch(c){Mp(e,c)}while(!0);if(of(),He=s,nl.current=u,Et!==null)throw Error(oe(261));return Dt=null,Zt=0,Lt}function Zy(){for(;Et!==null;)Ap(Et)}function Uy(){for(;Et!==null&&!d_();)Ap(Et)}function Ap(e){var t=Fp(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?Dp(e):Et=t,yf.current=null}function Dp(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Dy(s,t),s!==null){s.flags&=32767,Et=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Et=null;return}}else if(s=Ay(s,t,_n),s!==null){Et=s;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Lt===0&&(Lt=5)}function Rr(e,t,s){var u=et,c=Zn.transition;try{Zn.transition=null,et=1,Yy(e,t,s,u)}finally{Zn.transition=c,et=u}return null}function Yy(e,t,s,u){do Gs();while(tr!==null);if(He&6)throw Error(oe(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(E_(e,d),e===Dt&&(Et=Dt=null,Zt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||cu||(cu=!0,bp(Gu,function(){return Gs(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Zn.transition,Zn.transition=null;var m=et;et=1;var p=He;He|=4,yf.current=null,Fy(e,s),Tp(s,e),ly(th),Uu=!!eh,th=eh=null,e.current=s,by(s),g_(),He=p,et=m,Zn.transition=d}else e.current=s;if(cu&&(cu=!1,tr=e,rl=c),d=e.pendingLanes,d===0&&(ar=null),v_(s.stateNode),fn(e,xt()),t!==null)for(u=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],u(c.value,{componentStack:c.stack,digest:c.digest});if(il)throw il=!1,e=kh,kh=null,e;return rl&1&&e.tag!==0&&Gs(),d=e.pendingLanes,d&1?e===wh?ia++:(ia=0,wh=e):ia=0,gr(),null}function Gs(){if(tr!==null){var e=mm(rl),t=Zn.transition,s=et;try{if(Zn.transition=null,et=16>e?16:e,tr===null)var u=!1;else{if(e=tr,tr=null,rl=0,He&6)throw Error(oe(331));var c=He;for(He|=4,ve=e.current;ve!==null;){var d=ve,m=d.child;if(ve.flags&16){var p=d.deletions;if(p!==null){for(var k=0;k<p.length;k++){var N=p[k];for(ve=N;ve!==null;){var C=ve;switch(C.tag){case 0:case 11:case 15:ta(8,C,d)}var w=C.child;if(w!==null)w.return=C,ve=w;else for(;ve!==null;){C=ve;var T=C.sibling,D=C.return;if(Ip(C),C===N){ve=null;break}if(T!==null){T.return=D,ve=T;break}ve=D}}}var M=d.alternate;if(M!==null){var G=M.child;if(G!==null){M.child=null;do{var $=G.sibling;G.sibling=null,G=$}while(G!==null)}}ve=d}}if(d.subtreeFlags&2064&&m!==null)m.return=d,ve=m;else e:for(;ve!==null;){if(d=ve,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ta(9,d,d.return)}var R=d.sibling;if(R!==null){R.return=d.return,ve=R;break e}ve=d.return}}var I=e.current;for(ve=I;ve!==null;){m=ve;var P=m.child;if(m.subtreeFlags&2064&&P!==null)P.return=m,ve=P;else e:for(m=I;ve!==null;){if(p=ve,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:El(9,p)}}catch(b){_t(p,p.return,b)}if(p===m){ve=null;break e}var F=p.sibling;if(F!==null){F.return=p.return,ve=F;break e}ve=p.return}}if(He=c,gr(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(ml,e)}catch{}u=!0}return u}finally{et=s,Zn.transition=t}}return!1}function tg(e,t,s){t=Vs(s,t),t=mp(e,t,1),e=or(e,t,1),t=en(),e!==null&&(Sa(e,1,t),fn(e,t))}function _t(e,t,s){if(e.tag===3)tg(e,e,s);else for(;t!==null;){if(t.tag===3){tg(t,e,s);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ar===null||!ar.has(u))){e=Vs(s,e),e=pp(t,e,1),t=or(t,e,1),e=en(),t!==null&&(Sa(t,1,e),fn(t,e));break}}t=t.return}}function qy(e,t,s){var u=e.pingCache;u!==null&&u.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&s,Dt===e&&(Zt&s)===s&&(Lt===4||Lt===3&&(Zt&130023424)===Zt&&500>xt()-kf?Fr(e,0):xf|=s),fn(e,t)}function zp(e,t){t===0&&(e.mode&1?(t=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):t=1);var s=en();e=Ri(e,t),e!==null&&(Sa(e,t,s),fn(e,s))}function jy(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),zp(e,s)}function Vy(e,t){var s=0;switch(e.tag){case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(oe(314))}u!==null&&u.delete(t),zp(e,s)}var Fp;Fp=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)ln=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ln=!1,Ry(e,t,s);ln=!!(e.flags&131072)}else ln=!1,ut&&t.flags&1048576&&Zm(t,Wu,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Tu(e,t),e=t.pendingProps;var c=Us(t,Xt.current);Bs(t,s),c=gf(null,t,u,e,c,s);var d=mf();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hn(u)?(d=!0,Hu(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,lf(t),c.updater=wl,t.stateNode=c,c._reactInternals=t,ch(t,u,e,s),t=dh(null,t,u,!0,d,s)):(t.tag=0,ut&&d&&tf(t),Jt(null,t,c,s),t=t.child),t;case 16:u=t.elementType;e:{switch(Tu(e,t),e=t.pendingProps,c=u._init,u=c(u._payload),t.type=u,c=t.tag=Xy(u),e=Wn(u,e),c){case 0:t=fh(null,t,u,e,s);break e;case 1:t=jd(null,t,u,e,s);break e;case 11:t=Yd(null,t,u,e,s);break e;case 14:t=qd(null,t,u,Wn(u.type,e),s);break e}throw Error(oe(306,u,""))}return t;case 0:return u=t.type,c=t.pendingProps,c=t.elementType===u?c:Wn(u,c),fh(e,t,u,c,s);case 1:return u=t.type,c=t.pendingProps,c=t.elementType===u?c:Wn(u,c),jd(e,t,u,c,s);case 3:e:{if(xp(t),e===null)throw Error(oe(387));u=t.pendingProps,d=t.memoizedState,c=d.element,Hm(e,t),Ku(t,u,null,s);var m=t.memoizedState;if(u=m.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=Vs(Error(oe(423)),t),t=Vd(e,t,u,s,c);break e}else if(u!==c){c=Vs(Error(oe(424)),t),t=Vd(e,t,u,s,c);break e}else for(yn=sr(t.stateNode.containerInfo.firstChild),xn=t,ut=!0,Qn=null,s=jm(t,null,u,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ys(),u===c){t=Ai(e,t,s);break e}Jt(e,t,u,s)}t=t.child}return t;case 5:return Xm(t),e===null&&ah(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,m=c.children,nh(u,c)?m=null:d!==null&&nh(u,d)&&(t.flags|=32),yp(e,t),Jt(e,t,m,s),t.child;case 6:return e===null&&ah(t),null;case 13:return kp(e,t,s);case 4:return cf(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=qs(t,null,u,s):Jt(e,t,u,s),t.child;case 11:return u=t.type,c=t.pendingProps,c=t.elementType===u?c:Wn(u,c),Yd(e,t,u,c,s);case 7:return Jt(e,t,t.pendingProps,s),t.child;case 8:return Jt(e,t,t.pendingProps.children,s),t.child;case 12:return Jt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(u=t.type._context,c=t.pendingProps,d=t.memoizedProps,m=c.value,it($u,u._currentValue),u._currentValue=m,d!==null)if(ei(d.value,m)){if(d.children===c.children&&!cn.current){t=Ai(e,t,s);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){m=d.child;for(var k=p.firstContext;k!==null;){if(k.context===u){if(d.tag===1){k=Pi(-1,s&-s),k.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var C=N.pending;C===null?k.next=k:(k.next=C.next,C.next=k),N.pending=k}}d.lanes|=s,k=d.alternate,k!==null&&(k.lanes|=s),uh(d.return,s,t),p.lanes|=s;break}k=k.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(oe(341));m.lanes|=s,p=m.alternate,p!==null&&(p.lanes|=s),uh(m,s,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}Jt(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,u=t.pendingProps.children,Bs(t,s),c=Un(c),u=u(c),t.flags|=1,Jt(e,t,u,s),t.child;case 14:return u=t.type,c=Wn(u,t.pendingProps),c=Wn(u.type,c),qd(e,t,u,c,s);case 15:return vp(e,t,t.type,t.pendingProps,s);case 17:return u=t.type,c=t.pendingProps,c=t.elementType===u?c:Wn(u,c),Tu(e,t),t.tag=1,hn(u)?(e=!0,Hu(t)):e=!1,Bs(t,s),gp(t,u,c),ch(t,u,c,s),dh(null,t,u,!0,e,s);case 19:return wp(e,t,s);case 22:return _p(e,t,s)}throw Error(oe(156,t.tag))};function bp(e,t){return hm(e,t)}function Hy(e,t,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,s,u){return new Hy(e,t,s,u)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xy(e){if(typeof e=="function")return Nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yh)return 11;if(e===qh)return 14}return 2}function lr(e,t){var s=e.alternate;return s===null?(s=Gn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Mu(e,t,s,u,c,d){var m=2;if(u=e,typeof e=="function")Nf(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case Es:return br(s.children,c,d,t);case Uh:m=8,c|=8;break;case Ac:return e=Gn(12,s,t,c|2),e.elementType=Ac,e.lanes=d,e;case Dc:return e=Gn(13,s,t,c),e.elementType=Dc,e.lanes=d,e;case zc:return e=Gn(19,s,t,c),e.elementType=zc,e.lanes=d,e;case Xg:return Nl(s,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vg:m=10;break e;case Hg:m=9;break e;case Yh:m=11;break e;case qh:m=14;break e;case Wi:m=16,u=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Gn(m,s,t,c),t.elementType=e,t.type=u,t.lanes=d,t}function br(e,t,s,u){return e=Gn(7,e,u,t),e.lanes=s,e}function Nl(e,t,s,u){return e=Gn(22,e,u,t),e.elementType=Xg,e.lanes=s,e.stateNode={isHidden:!1},e}function kc(e,t,s){return e=Gn(6,e,null,t),e.lanes=s,e}function wc(e,t,s){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wy(e,t,s,u,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nc(0),this.expirationTimes=nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.identifierPrefix=u,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function If(e,t,s,u,c,d,m,p,k){return e=new Wy(e,t,s,p,k),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Gn(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(d),e}function $y(e,t,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:u==null?null:""+u,children:e,containerInfo:t,implementation:s}}function Bp(e){if(!e)return hr;e=e._reactInternals;e:{if(Vr(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var s=e.type;if(hn(s))return Bm(e,s,t)}return t}function Gp(e,t,s,u,c,d,m,p,k){return e=If(s,u,!0,e,c,d,m,p,k),e.context=Bp(null),s=e.current,u=en(),c=ur(s),d=Pi(u,c),d.callback=t??null,or(s,d,c),e.current.lanes=c,Sa(e,c,u),fn(e,u),e}function Il(e,t,s,u){var c=t.current,d=en(),m=ur(c);return s=Bp(s),t.context===null?t.context=s:t.pendingContext=s,t=Pi(d,m),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=or(c,t,m),e!==null&&(Jn(e,c,m,d),Iu(e,c,m)),m}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Lf(e,t){ng(e,t),(e=e.alternate)&&ng(e,t)}function Qy(){return null}var Zp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cf(e){this._internalRoot=e}Ll.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Il(e,t,null,null)};Ll.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Il(null,e,null,null)}),t[Mi]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=_m();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ki.length&&t!==0&&t<Ki[s].priority;s++);Ki.splice(s,0,e),s===0&&xm(e)}};function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ig(){}function Ky(e,t,s,u,c){if(c){if(typeof u=="function"){var d=u;u=function(){var N=ol(m);d.call(N)}}var m=Gp(t,u,e,0,null,!1,!1,"",ig);return e._reactRootContainer=m,e[Mi]=m.current,da(e.nodeType===8?e.parentNode:e),Yr(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof u=="function"){var p=u;u=function(){var N=ol(k);p.call(N)}}var k=If(e,0,!1,null,null,!1,!1,"",ig);return e._reactRootContainer=k,e[Mi]=k.current,da(e.nodeType===8?e.parentNode:e),Yr(function(){Il(t,k,s,u)}),k}function Tl(e,t,s,u,c){var d=s._reactRootContainer;if(d){var m=d;if(typeof c=="function"){var p=c;c=function(){var k=ol(m);p.call(k)}}Il(t,m,e,c)}else m=Ky(s,t,e,c,u);return ol(m)}pm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Yo(t.pendingLanes);s!==0&&(Hh(t,s|1),fn(t,xt()),!(He&6)&&(Hs=xt()+500,gr()))}break;case 13:Yr(function(){var u=Ri(e,1);if(u!==null){var c=en();Jn(u,e,1,c)}}),Lf(e,1)}};Xh=function(e){if(e.tag===13){var t=Ri(e,134217728);if(t!==null){var s=en();Jn(t,e,134217728,s)}Lf(e,134217728)}};vm=function(e){if(e.tag===13){var t=ur(e),s=Ri(e,t);if(s!==null){var u=en();Jn(s,e,t,u)}Lf(e,t)}};_m=function(){return et};ym=function(e,t){var s=et;try{return et=e,t()}finally{et=s}};Vc=function(e,t,s){switch(t){case"input":if(Bc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var u=s[t];if(u!==e&&u.form===e.form){var c=yl(u);if(!c)throw Error(oe(90));$g(u),Bc(u,c)}}}break;case"textarea":Kg(e,s);break;case"select":t=s.value,t!=null&&Ds(e,!!s.multiple,t,!1)}};sm=wf;om=Yr;var Jy={usingClientEntryPoint:!1,Events:[Ia,Ls,yl,im,rm,wf]},Bo={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e0={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lm(e),e===null?null:e.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||Qy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{ml=hu.inject(e0),gi=hu}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;wn.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(t))throw Error(oe(200));return $y(e,t,null,s)};wn.createRoot=function(e,t){if(!Tf(e))throw Error(oe(299));var s=!1,u="",c=Zp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=If(e,1,!1,null,null,s,!1,u,c),e[Mi]=t.current,da(e.nodeType===8?e.parentNode:e),new Cf(t)};wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=lm(t),e=e===null?null:e.stateNode,e};wn.flushSync=function(e){return Yr(e)};wn.hydrate=function(e,t,s){if(!Cl(t))throw Error(oe(200));return Tl(null,e,t,!0,s)};wn.hydrateRoot=function(e,t,s){if(!Tf(e))throw Error(oe(405));var u=s!=null&&s.hydratedSources||null,c=!1,d="",m=Zp;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),t=Gp(t,null,e,1,s??null,c,!1,d,m),e[Mi]=t.current,da(e),u)for(e=0;e<u.length;e++)s=u[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new Ll(t)};wn.render=function(e,t,s){if(!Cl(t))throw Error(oe(200));return Tl(null,e,t,!1,s)};wn.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(oe(40));return e._reactRootContainer?(Yr(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};wn.unstable_batchedUpdates=wf;wn.unstable_renderSubtreeIntoContainer=function(e,t,s,u){if(!Cl(s))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Tl(e,t,s,!1,u)};wn.version="18.3.1-next-f1338f8080-20240426";function Up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Up)}catch(e){console.error(e)}}Up(),Ug.exports=wn;var Yp=Ug.exports,rg=Yp;Mc.createRoot=rg.createRoot,Mc.hydrateRoot=rg.hydrateRoot;function t0(e={}){const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:u}=e,[c,d]=ue.useState(!1),m=ue.useRef(s);m.current=s;const p=ue.useRef(u);return p.current=u,ue.useEffect(()=>{const k=document.createElement("script");return k.src="https://accounts.google.com/gsi/client",k.async=!0,k.defer=!0,k.nonce=t,k.onload=()=>{var N;d(!0),(N=m.current)===null||N===void 0||N.call(m)},k.onerror=()=>{var N;d(!1),(N=p.current)===null||N===void 0||N.call(p)},document.body.appendChild(k),()=>{document.body.removeChild(k)}},[t]),c}const qp=ue.createContext(null);function n0({clientId:e,nonce:t,onScriptLoadSuccess:s,onScriptLoadError:u,children:c}){const d=t0({nonce:t,onScriptLoadSuccess:s,onScriptLoadError:u}),m=ue.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:d}),[e,d]);return pi.createElement(qp.Provider,{value:m},c)}function i0(){const e=ue.useContext(qp);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function r0({flow:e="implicit",scope:t="",onSuccess:s,onError:u,onNonOAuthError:c,overrideScope:d,state:m,...p}){const{clientId:k,scriptLoadedSuccessfully:N}=i0(),C=ue.useRef(),w=ue.useRef(s);w.current=s;const T=ue.useRef(u);T.current=u;const D=ue.useRef(c);D.current=c,ue.useEffect(()=>{var $,R;if(!N)return;const I=e==="implicit"?"initTokenClient":"initCodeClient",P=(R=($=window==null?void 0:window.google)===null||$===void 0?void 0:$.accounts)===null||R===void 0?void 0:R.oauth2[I]({client_id:k,scope:d?t:`openid profile email ${t}`,callback:F=>{var b,j;if(F.error)return(b=T.current)===null||b===void 0?void 0:b.call(T,F);(j=w.current)===null||j===void 0||j.call(w,F)},error_callback:F=>{var b;(b=D.current)===null||b===void 0||b.call(D,F)},state:m,...p});C.current=P},[k,N,e,t,m]);const M=ue.useCallback($=>{var R;return(R=C.current)===null||R===void 0?void 0:R.requestAccessToken($)},[]),G=ue.useCallback(()=>{var $;return($=C.current)===null||$===void 0?void 0:$.requestCode()},[]);return e==="implicit"?M:G}function jp(e,t){const s=ue.useRef(t);ue.useEffect(function(){t!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),t!=null&&e.attributionControl.addAttribution(t)),s.current=t},[e,t])}function Vp(e,t,s){t.center!==s.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==s.radius&&e.setRadius(t.radius)}const s0=1;function o0(e){return Object.freeze({__version:s0,map:e})}function Pf(e,t){return Object.freeze({...e,...t})}const Hp=ue.createContext(null),Xp=Hp.Provider;function Of(){const e=ue.useContext(Hp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function a0(e){function t(s,u){const{instance:c,context:d}=e(s).current;return ue.useImperativeHandle(u,()=>c),s.children==null?null:pi.createElement(Xp,{value:d},s.children)}return ue.forwardRef(t)}function u0(e){function t(s,u){const[c,d]=ue.useState(!1),{instance:m}=e(s,d).current;ue.useImperativeHandle(u,()=>m),ue.useEffect(function(){c&&m.update()},[m,c,s.children]);const p=m._contentNode;return p?Yp.createPortal(s.children,p):null}return ue.forwardRef(t)}function l0(e){function t(s,u){const{instance:c}=e(s).current;return ue.useImperativeHandle(u,()=>c),null}return ue.forwardRef(t)}function Mf(e,t){const s=ue.useRef();ue.useEffect(function(){return t!=null&&e.instance.on(t),s.current=t,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,t])}function Pl(e,t){const s=e.pane??t.pane;return s?{...e,pane:s}:e}function c0(e,t){return function(u,c){const d=Of(),m=e(Pl(u,d),d);return jp(d.map,u.attribution),Mf(m.current,u.eventHandlers),t(m.current,d,u,c),m}}var Nh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(s,u){u(t)})(Ah,function(s){var u="1.9.4";function c(r){var l,f,v,y;for(f=1,v=arguments.length;f<v;f++){y=arguments[f];for(l in y)r[l]=y[l]}return r}var d=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function m(r,l){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var v=f.call(arguments,2);return function(){return r.apply(l,v.length?v.concat(f.call(arguments)):arguments)}}var p=0;function k(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function N(r,l,f){var v,y,S,z;return z=function(){v=!1,y&&(S.apply(f,y),y=!1)},S=function(){v?y=arguments:(r.apply(f,arguments),setTimeout(z,l),v=!0)},S}function C(r,l,f){var v=l[1],y=l[0],S=v-y;return r===v&&f?r:((r-y)%S+S)%S+y}function w(){return!1}function T(r,l){if(l===!1)return r;var f=Math.pow(10,l===void 0?6:l);return Math.round(r*f)/f}function D(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function M(r){return D(r).split(/\s+/)}function G(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in l)r.options[f]=l[f];return r.options}function $(r,l,f){var v=[];for(var y in r)v.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!l||l.indexOf("?")===-1?"?":"&")+v.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function I(r,l){return r.replace(R,function(f,v){var y=l[v];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(l)),y})}var P=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function F(r,l){for(var f=0;f<r.length;f++)if(r[f]===l)return f;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var V=0;function H(r){var l=+new Date,f=Math.max(0,16-(l-V));return V=l+f,window.setTimeout(r,f)}var Q=window.requestAnimationFrame||j("RequestAnimationFrame")||H,le=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ge(r,l,f){if(f&&Q===H)r.call(l);else return Q.call(window,m(r,l))}function ye(r){r&&le.call(window,r)}var be={__proto__:null,extend:c,create:d,bind:m,get lastId(){return p},stamp:k,throttle:N,wrapNum:C,falseFn:w,formatNum:T,trim:D,splitWords:M,setOptions:G,getParamString:$,template:I,isArray:P,indexOf:F,emptyImageUrl:b,requestFn:Q,cancelFn:le,requestAnimFrame:ge,cancelAnimFrame:ye};function re(){}re.extend=function(r){var l=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,v=d(f);v.constructor=l,l.prototype=v;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return r.statics&&c(l,r.statics),r.includes&&(Ne(r.includes),c.apply(null,[v].concat(r.includes))),c(v,r),delete v.statics,delete v.includes,v.options&&(v.options=f.options?d(f.options):{},c(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,z=v._initHooks.length;S<z;S++)v._initHooks[S].call(this)}},l},re.include=function(r){var l=this.prototype.options;return c(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},re.mergeOptions=function(r){return c(this.prototype.options,r),this},re.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Ne(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=P(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xe={on:function(r,l,f){if(typeof r=="object")for(var v in r)this._on(v,r[v],l);else{r=M(r);for(var y=0,S=r.length;y<S;y++)this._on(r[y],l,f)}return this},off:function(r,l,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var v in r)this._off(v,r[v],l);else{r=M(r);for(var y=arguments.length===1,S=0,z=r.length;S<z;S++)y?this._off(r[S]):this._off(r[S],l,f)}return this},_on:function(r,l,f,v){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,f)===!1){f===this&&(f=void 0);var y={fn:l,ctx:f};v&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,l,f){var v,y,S;if(this._events&&(v=this._events[r],!!v)){if(arguments.length===1){if(this._firingCount)for(y=0,S=v.length;y<S;y++)v[y].fn=w;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var z=this._listens(r,l,f);if(z!==!1){var q=v[z];this._firingCount&&(q.fn=w,this._events[r]=v=v.slice()),v.splice(z,1)}}},fire:function(r,l,f){if(!this.listens(r,f))return this;var v=c({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,z=y.length;S<z;S++){var q=y[S],X=q.fn;q.once&&this.off(r,X,q.ctx),X.call(q.ctx||this,v)}this._firingCount--}}return f&&this._propagateEvent(v),this},listens:function(r,l,f,v){typeof r!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(v=!!l,y=void 0,f=void 0);var S=this._events&&this._events[r];if(S&&S.length&&this._listens(r,y,f)!==!1)return!0;if(v){for(var z in this._eventParents)if(this._eventParents[z].listens(r,l,f,v))return!0}return!1},_listens:function(r,l,f){if(!this._events)return!1;var v=this._events[r]||[];if(!l)return!!v.length;f===this&&(f=void 0);for(var y=0,S=v.length;y<S;y++)if(v[y].fn===l&&v[y].ctx===f)return y;return!1},once:function(r,l,f){if(typeof r=="object")for(var v in r)this._on(v,r[v],l,!0);else{r=M(r);for(var y=0,S=r.length;y<S;y++)this._on(r[y],l,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[k(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[k(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,c({layer:r.target,propagatedFrom:r.target},r),!0)}};xe.addEventListener=xe.on,xe.removeEventListener=xe.clearAllEventListeners=xe.off,xe.addOneTimeEventListener=xe.once,xe.fireEvent=xe.fire,xe.hasEventListeners=xe.listens;var Te=re.extend(xe);function W(r,l,f){this.x=f?Math.round(r):r,this.y=f?Math.round(l):l}var ae=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(r){return this.clone()._add(B(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(B(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new W(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new W(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ae(this.x),this.y=ae(this.y),this},distanceTo:function(r){r=B(r);var l=r.x-this.x,f=r.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(r){return r=B(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=B(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function B(r,l,f){return r instanceof W?r:P(r)?new W(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new W(r.x,r.y):new W(r,l,f)}function ne(r,l){if(r)for(var f=l?[r,l]:r,v=0,y=f.length;v<y;v++)this.extend(f[v])}ne.prototype={extend:function(r){var l,f;if(!r)return this;if(r instanceof W||typeof r[0]=="number"||"x"in r)l=f=B(r);else if(r=fe(r),l=r.min,f=r.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,f;return typeof r[0]=="number"||r instanceof W?r=B(r):r=fe(r),r instanceof ne?(l=r.min,f=r.max):l=f=r,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=fe(r);var l=this.min,f=this.max,v=r.min,y=r.max,S=y.x>=l.x&&v.x<=f.x,z=y.y>=l.y&&v.y<=f.y;return S&&z},overlaps:function(r){r=fe(r);var l=this.min,f=this.max,v=r.min,y=r.max,S=y.x>l.x&&v.x<f.x,z=y.y>l.y&&v.y<f.y;return S&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,f=this.max,v=Math.abs(l.x-f.x)*r,y=Math.abs(l.y-f.y)*r;return fe(B(l.x-v,l.y-y),B(f.x+v,f.y+y))},equals:function(r){return r?(r=fe(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function fe(r,l){return!r||r instanceof ne?r:new ne(r,l)}function Ie(r,l){if(r)for(var f=l?[r,l]:r,v=0,y=f.length;v<y;v++)this.extend(f[v])}Ie.prototype={extend:function(r){var l=this._southWest,f=this._northEast,v,y;if(r instanceof ke)v=r,y=r;else if(r instanceof Ie){if(v=r._southWest,y=r._northEast,!v||!y)return this}else return r?this.extend(de(r)||se(r)):this;return!l&&!f?(this._southWest=new ke(v.lat,v.lng),this._northEast=new ke(y.lat,y.lng)):(l.lat=Math.min(v.lat,l.lat),l.lng=Math.min(v.lng,l.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(r){var l=this._southWest,f=this._northEast,v=Math.abs(l.lat-f.lat)*r,y=Math.abs(l.lng-f.lng)*r;return new Ie(new ke(l.lat-v,l.lng-y),new ke(f.lat+v,f.lng+y))},getCenter:function(){return new ke((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ke(this.getNorth(),this.getWest())},getSouthEast:function(){return new ke(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ke||"lat"in r?r=de(r):r=se(r);var l=this._southWest,f=this._northEast,v,y;return r instanceof Ie?(v=r.getSouthWest(),y=r.getNorthEast()):v=y=r,v.lat>=l.lat&&y.lat<=f.lat&&v.lng>=l.lng&&y.lng<=f.lng},intersects:function(r){r=se(r);var l=this._southWest,f=this._northEast,v=r.getSouthWest(),y=r.getNorthEast(),S=y.lat>=l.lat&&v.lat<=f.lat,z=y.lng>=l.lng&&v.lng<=f.lng;return S&&z},overlaps:function(r){r=se(r);var l=this._southWest,f=this._northEast,v=r.getSouthWest(),y=r.getNorthEast(),S=y.lat>l.lat&&v.lat<f.lat,z=y.lng>l.lng&&v.lng<f.lng;return S&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=se(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(r,l){return r instanceof Ie?r:new Ie(r,l)}function ke(r,l,f){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,f!==void 0&&(this.alt=+f)}ke.prototype={equals:function(r,l){if(!r)return!1;r=de(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+T(this.lat,r)+", "+T(this.lng,r)+")"},distanceTo:function(r){return U.distance(this,de(r))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return se([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new ke(this.lat,this.lng,this.alt)}};function de(r,l,f){return r instanceof ke?r:P(r)&&typeof r[0]!="object"?r.length===3?new ke(r[0],r[1],r[2]):r.length===2?new ke(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ke(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new ke(r,l,f)}var Ge={latLngToPoint:function(r,l){var f=this.projection.project(r),v=this.scale(l);return this.transformation._transform(f,v)},pointToLatLng:function(r,l){var f=this.scale(l),v=this.transformation.untransform(r,f);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(r),v=this.transformation.transform(l.min,f),y=this.transformation.transform(l.max,f);return new ne(v,y)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,v=r.alt;return new ke(f,l,v)},wrapLatLngBounds:function(r){var l=r.getCenter(),f=this.wrapLatLng(l),v=l.lat-f.lat,y=l.lng-f.lng;if(v===0&&y===0)return r;var S=r.getSouthWest(),z=r.getNorthEast(),q=new ke(S.lat-v,S.lng-y),X=new ke(z.lat-v,z.lng-y);return new Ie(q,X)}},U=c({},Ge,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var f=Math.PI/180,v=r.lat*f,y=l.lat*f,S=Math.sin((l.lat-r.lat)*f/2),z=Math.sin((l.lng-r.lng)*f/2),q=S*S+Math.cos(v)*Math.cos(y)*z*z,X=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*X}}),lt=6378137,De={R:lt,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,f=this.MAX_LATITUDE,v=Math.max(Math.min(f,r.lat),-f),y=Math.sin(v*l);return new W(this.R*r.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var l=180/Math.PI;return new ke((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=lt*Math.PI;return new ne([-r,-r],[r,r])}()};function me(r,l,f,v){if(P(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=f,this._d=v}me.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new W((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function A(r,l,f,v){return new me(r,l,f,v)}var $e=c({},U,{code:"EPSG:3857",projection:De,transformation:function(){var r=.5/(Math.PI*De.R);return A(r,.5,-r,.5)}()}),kt=c({},$e,{code:"EPSG:900913"});function tt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ie(r,l){var f="",v,y,S,z,q,X;for(v=0,S=r.length;v<S;v++){for(q=r[v],y=0,z=q.length;y<z;y++)X=q[y],f+=(y?"L":"M")+X.x+" "+X.y;f+=l?Ee.svg?"z":"x":""}return f||"M0 0"}var we=document.documentElement.style,Me="ActiveXObject"in window,K=Me&&!document.addEventListener,Yt="msLaunchUri"in navigator&&!("documentMode"in document),dn=Ct("webkit"),Sn=Ct("android"),Xr=Ct("android 2")||Ct("android 3"),Re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ti=Sn&&Ct("Google")&&Re<537&&!("AudioNode"in window),Nn=!!window.opera,Wr=!Yt&&Ct("chrome"),Ce=Ct("gecko")&&!dn&&!Nn&&!Me,to=!Wr&&Ct("safari"),Ue=Ct("phantom"),Pe="OTransition"in we,Rl=navigator.platform.indexOf("Win")===0,In=Me&&"transition"in we,no="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xr,Le="MozPerspective"in we,Al=!window.L_DISABLE_3D&&(In||no||Le)&&!Pe&&!Ue,pr=typeof orientation<"u"||Ct("mobile"),io=pr&&dn,rn=pr&&no,zi=!window.PointerEvent&&window.MSPointerEvent,gn=!!(window.PointerEvent||zi),ro="ontouchstart"in window||!!window.TouchEvent,$r=!window.L_NO_TOUCH&&(ro||gn),Dl=pr&&Nn,Ta=pr&&Ce,_i=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ce=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return r}(),Qr=function(){return!!document.createElement("canvas").getContext}(),Fi=!!(document.createElementNS&&tt("svg").createSVGRect),vr=!!Fi&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Pa=!Fi&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),so=navigator.platform.indexOf("Mac")===0,Oa=navigator.platform.indexOf("Linux")===0;function Ct(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ee={ie:Me,ielt9:K,edge:Yt,webkit:dn,android:Sn,android23:Xr,androidStock:ti,opera:Nn,chrome:Wr,gecko:Ce,safari:to,phantom:Ue,opera12:Pe,win:Rl,ie3d:In,webkit3d:no,gecko3d:Le,any3d:Al,mobile:pr,mobileWebkit:io,mobileWebkit3d:rn,msPointer:zi,pointer:gn,touch:$r,touchNative:ro,mobileOpera:Dl,mobileGecko:Ta,retina:_i,passiveEvents:ce,canvas:Qr,svg:Fi,vml:Pa,inlineSvg:vr,mac:so,linux:Oa},_r=Ee.msPointer?"MSPointerDown":"pointerdown",Ma=Ee.msPointer?"MSPointerMove":"pointermove",oo=Ee.msPointer?"MSPointerUp":"pointerup",Ra=Ee.msPointer?"MSPointerCancel":"pointercancel",zt={touchstart:_r,touchmove:Ma,touchend:oo,touchcancel:Ra},Kr={touchstart:ts,touchmove:es,touchend:es,touchcancel:es},Ln={},ni=!1;function yi(r,l,f){return l==="touchstart"&&zl(),Kr[l]?(f=Kr[l].bind(this,f),r.addEventListener(zt[l],f,!1),f):(console.warn("wrong event specified:",l),w)}function ao(r,l,f){if(!zt[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(zt[l],f,!1)}function Jr(r){Ln[r.pointerId]=r}function yr(r){Ln[r.pointerId]&&(Ln[r.pointerId]=r)}function pt(r){delete Ln[r.pointerId]}function zl(){ni||(document.addEventListener(_r,Jr,!0),document.addEventListener(Ma,yr,!0),document.addEventListener(oo,pt,!0),document.addEventListener(Ra,pt,!0),ni=!0)}function es(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in Ln)l.touches.push(Ln[f]);l.changedTouches=[l],r(l)}}function ts(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ct(l),es(r,l)}function xr(r){var l={},f,v;for(v in r)f=r[v],l[v]=f&&f.bind?f.bind(r):f;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var uo=200;function lo(r,l){r.addEventListener("dblclick",l);var f=0,v;function y(S){if(S.detail!==1){v=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var z=Pt(S);if(!(z.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!z.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var q=Date.now();q-f<=uo?(v++,v===2&&l(xr(S))):v=1,f=q}}}return r.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Aa(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var co=ss(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ft=ss(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xi=Ft==="webkitTransition"||Ft==="OTransition"?Ft+"End":"transitionend";function ns(r){return typeof r=="string"?document.getElementById(r):r}function Cn(r,l){var f=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);f=v?v[l]:null}return f==="auto"?null:f}function qe(r,l,f){var v=document.createElement(r);return v.className=l||"",f&&f.appendChild(v),v}function rt(r){var l=r.parentNode;l&&l.removeChild(r)}function is(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function bi(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function ki(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function rs(r,l){if(r.classList!==void 0)return r.classList.contains(l);var f=kr(r);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Ae(r,l){if(r.classList!==void 0)for(var f=M(l),v=0,y=f.length;v<y;v++)r.classList.add(f[v]);else if(!rs(r,l)){var S=kr(r);Tn(r,(S?S+" ":"")+l)}}function We(r,l){r.classList!==void 0?r.classList.remove(l):Tn(r,D((" "+kr(r)+" ").replace(" "+l+" "," ")))}function Tn(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function kr(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function St(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Fl(r,l)}function Fl(r,l){var f=!1,v="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(v)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):r.style.filter+=" progid:"+v+"(opacity="+l+")"}function ss(r){for(var l=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in l)return r[f];return!1}function wi(r,l,f){var v=l||new W(0,0);r.style[co]=(Ee.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(f?" scale("+f+")":"")}function vt(r,l){r._leaflet_pos=l,Ee.any3d?wi(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function ii(r){return r._leaflet_pos||new W(0,0)}var qn,Bi,ho;if("onselectstart"in document)qn=function(){ze(window,"selectstart",ct)},Bi=function(){Ke(window,"selectstart",ct)};else{var Gi=ss(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qn=function(){if(Gi){var r=document.documentElement.style;ho=r[Gi],r[Gi]="none"}},Bi=function(){Gi&&(document.documentElement.style[Gi]=ho,ho=void 0)}}function fo(){ze(window,"dragstart",ct)}function wr(){Ke(window,"dragstart",ct)}var Qe,jn;function go(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Zi(),Qe=r,jn=r.style.outlineStyle,r.style.outlineStyle="none",ze(window,"keydown",Zi))}function Zi(){Qe&&(Qe.style.outlineStyle=jn,Qe=void 0,jn=void 0,Ke(window,"keydown",Zi))}function Wt(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function qt(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var os={__proto__:null,TRANSFORM:co,TRANSITION:Ft,TRANSITION_END:xi,get:ns,getStyle:Cn,create:qe,remove:rt,empty:is,toFront:bi,toBack:ki,hasClass:rs,addClass:Ae,removeClass:We,setClass:Tn,getClass:kr,setOpacity:St,testProp:ss,setTransform:wi,setPosition:vt,getPosition:ii,get disableTextSelection(){return qn},get enableTextSelection(){return Bi},disableImageDrag:fo,enableImageDrag:wr,preventOutline:go,restoreOutline:Zi,getSizedParentNode:Wt,getScale:qt};function ze(r,l,f,v){if(l&&typeof l=="object")for(var y in l)as(r,y,l[y],f);else{l=M(l);for(var S=0,z=l.length;S<z;S++)as(r,l[S],f,v)}return this}var Pn="_leaflet_events";function Ke(r,l,f,v){if(arguments.length===1)Er(r),delete r[Pn];else if(l&&typeof l=="object")for(var y in l)Ve(r,y,l[y],f);else if(l=M(l),arguments.length===2)Er(r,function(q){return F(l,q)!==-1});else for(var S=0,z=l.length;S<z;S++)Ve(r,l[S],f,v);return this}function Er(r,l){for(var f in r[Pn]){var v=f.split(/\d/)[0];(!l||l(v))&&Ve(r,v,null,null,f)}}var mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function as(r,l,f,v){var y=l+k(f)+(v?"_"+k(v):"");if(r[Pn]&&r[Pn][y])return this;var S=function(q){return f.call(v||r,q||window.event)},z=S;!Ee.touchNative&&Ee.pointer&&l.indexOf("touch")===0?S=yi(r,l,S):Ee.touch&&l==="dblclick"?S=lo(r,S):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(mo[l]||l,S,Ee.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(q){q=q||window.event,us(r,q)&&z(q)},r.addEventListener(mo[l],S,!1)):r.addEventListener(l,z,!1):r.attachEvent("on"+l,S),r[Pn]=r[Pn]||{},r[Pn][y]=S}function Ve(r,l,f,v,y){y=y||l+k(f)+(v?"_"+k(v):"");var S=r[Pn]&&r[Pn][y];if(!S)return this;!Ee.touchNative&&Ee.pointer&&l.indexOf("touch")===0?ao(r,l,S):Ee.touch&&l==="dblclick"?Aa(r,S):"removeEventListener"in r?r.removeEventListener(mo[l]||l,S,!1):r.detachEvent("on"+l,S),r[Pn][y]=null}function Tt(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Sr(r){return as(r,"wheel",Tt),this}function Ui(r){return ze(r,"mousedown touchstart dblclick contextmenu",Tt),r._leaflet_disable_click=!0,this}function ct(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ri(r){return ct(r),Tt(r),this}function Pt(r){if(r.composedPath)return r.composedPath();for(var l=[],f=r.target;f;)l.push(f),f=f.parentNode;return l}function po(r,l){if(!l)return new W(r.clientX,r.clientY);var f=qt(l),v=f.boundingClientRect;return new W((r.clientX-v.left)/f.x-l.clientLeft,(r.clientY-v.top)/f.y-l.clientTop)}var vo=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _o(r){return Ee.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/vo:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function us(r,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var bl={__proto__:null,on:ze,off:Ke,stopPropagation:Tt,disableScrollPropagation:Sr,disableClickPropagation:Ui,preventDefault:ct,stop:ri,getPropagationPath:Pt,getMousePosition:po,getWheelDelta:_o,isExternalTarget:us,addListener:ze,removeListener:Ke},yo=Te.extend({run:function(r,l,f,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=ii(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ge(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var f=this._startPos.add(this._offset.multiplyBy(r));l&&f._round(),vt(this._el,f),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Fe=Te.extend({options:{crs:$e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=G(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(de(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ft&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(de(r),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var v=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,f.zoom):this._tryAnimatedPan(r,f.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,f){var v=this.getZoomScale(l),y=this.getSize().divideBy(2),S=r instanceof W?r:this.latLngToContainerPoint(r),z=S.subtract(y).multiplyBy(1-1/v),q=this.containerPointToLatLng(y.add(z));return this.setView(q,l,{zoom:f})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():se(r);var f=B(l.paddingTopLeft||l.padding||[0,0]),v=B(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(r,!1,f.add(v));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var S=v.subtract(f).divideBy(2),z=this.project(r.getSouthWest(),y),q=this.project(r.getNorthEast(),y),X=this.unproject(z.add(q).divideBy(2).add(S),y);return{center:X,zoom:y}},fitBounds:function(r,l){if(r=se(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=B(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,f){if(f=f||{},f.animate===!1||!Ee.any3d)return this.setView(r,l,f);this._stop();var v=this.project(this.getCenter()),y=this.project(r),S=this.getSize(),z=this._zoom;r=de(r),l=l===void 0?z:l;var q=Math.max(S.x,S.y),X=q*this.getZoomScale(z,l),te=y.distanceTo(v)||1,pe=1.42,Oe=pe*pe;function Ze(wt){var Xa=wt?-1:1,Iv=wt?X:q,Lv=X*X-q*q+Xa*Oe*Oe*te*te,Cv=2*Iv*Oe*te,$l=Lv/Cv,Wf=Math.sqrt($l*$l+1)-$l,Tv=Wf<1e-9?-18:Math.log(Wf);return Tv}function Kt(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function Mt(wt){return(Math.exp(wt)+Math.exp(-wt))/2}function zn(wt){return Kt(wt)/Mt(wt)}var on=Ze(0);function _s(wt){return q*(Mt(on)/Mt(on+pe*wt))}function wv(wt){return q*(Mt(on)*zn(on+pe*wt)-Kt(on))/Oe}function Ev(wt){return 1-Math.pow(1-wt,1.5)}var Sv=Date.now(),Hf=(Ze(1)-on)/pe,Nv=f.duration?1e3*f.duration:1e3*Hf*.8;function Xf(){var wt=(Date.now()-Sv)/Nv,Xa=Ev(wt)*Hf;wt<=1?(this._flyToFrame=ge(Xf,this),this._move(this.unproject(v.add(y.subtract(v).multiplyBy(wv(Xa)/te)),z),this.getScaleZoom(q/_s(Xa),z),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Xf.call(this),this},flyToBounds:function(r,l){var f=this._getBoundsCenterZoom(r,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(r){return r=se(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var f=this.getCenter(),v=this._limitCenter(f,this._zoom,se(r));return f.equals(v)||this.panTo(v,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var f=B(l.paddingTopLeft||l.padding||[0,0]),v=B(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),S=this.project(r),z=this.getPixelBounds(),q=fe([z.min.add(f),z.max.subtract(v)]),X=q.getSize();if(!q.contains(S)){this._enforcingBounds=!0;var te=S.subtract(q.getCenter()),pe=q.extend(S).getSize().subtract(X);y.x+=te.x<0?-pe.x:pe.x,y.y+=te.y<0?-pe.y:pe.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=c({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),v=l.divideBy(2).round(),y=f.divideBy(2).round(),S=v.subtract(y);return!S.x&&!S.y?this:(r.animate&&r.pan?this.panBy(S):(r.pan&&this._rawPanBy(S),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=c({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=m(this._handleGeolocationResponse,this),f=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,r):navigator.geolocation.getCurrentPosition(l,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,f=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,f=r.coords.longitude,v=new ke(l,f),y=v.toBounds(r.coords.accuracy*2),S=this._locateOptions;if(S.setView){var z=this.getBoundsZoom(y);this.setView(v,S.maxZoom?Math.min(z,S.maxZoom):z)}var q={latlng:v,bounds:y,timestamp:r.timestamp};for(var X in r.coords)typeof r.coords[X]=="number"&&(q[X]=r.coords[X]);this.fire("locationfound",q)}},addHandler:function(r,l){if(!l)return this;var f=this[r]=new l(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)rt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),v=qe("div",f,l||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new Ie(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,f){r=se(r),f=B(f||[0,0]);var v=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),z=r.getNorthWest(),q=r.getSouthEast(),X=this.getSize().subtract(f),te=fe(this.project(q,v),this.project(z,v)).getSize(),pe=Ee.any3d?this.options.zoomSnap:1,Oe=X.x/te.x,Ze=X.y/te.y,Kt=l?Math.max(Oe,Ze):Math.min(Oe,Ze);return v=this.getScaleZoom(Kt,v),pe&&(v=Math.round(v/(pe/100))*(pe/100),v=l?Math.ceil(v/pe)*pe:Math.floor(v/pe)*pe),Math.max(y,Math.min(S,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var f=this._getTopLeftPoint(r,l);return new ne(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(r)/f.scale(l)},getScaleZoom:function(r,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var v=f.zoom(r*f.scale(l));return isNaN(v)?1/0:v},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(de(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(B(r),l)},layerPointToLatLng:function(r){var l=B(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(de(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(de(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(se(r))},distance:function(r,l){return this.options.crs.distance(de(r),de(l))},containerPointToLayerPoint:function(r){return B(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return B(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(B(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(r)))},mouseEventToContainerPoint:function(r){return po(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=ns(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(l,"scroll",this._onScroll,this),this._containerId=k(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,Ae(r,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Cn(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(r.markerPane,"leaflet-zoom-hide"),Ae(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,f){vt(this._mapPane,new W(0,0));var v=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,f)._move(r,l)._moveEnd(y),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,f,v){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){vt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[k(this._container)]=this;var l=r?Ke:ze;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var f=[],v,y=l==="mouseout"||l==="mouseover",S=r.target||r.srcElement,z=!1;S;){if(v=this._targets[k(S)],v&&(l==="click"||l==="preclick")&&this._draggableMoved(v)){z=!0;break}if(v&&v.listens(l,!0)&&(y&&!us(S,r)||(f.push(v),y))||S===this._container)break;S=S.parentNode}return!f.length&&!z&&!y&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var f=r.type;f==="mousedown"&&go(l),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,f){if(r.type==="click"){var v=c({},r);v.type="preclick",this._fireDOMEvent(v,v.type,f)}var y=this._findEventTargets(r,l);if(f){for(var S=[],z=0;z<f.length;z++)f[z].listens(l,!0)&&S.push(f[z]);y=S.concat(y)}if(y.length){l==="contextmenu"&&ct(r);var q=y[0],X={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var te=q.getLatLng&&(!q._radius||q._radius<=10);X.containerPoint=te?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(r),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=te?q.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(z=0;z<y.length;z++)if(y[z].fire(l,X,!0),X.originalEvent._stopped||y[z].options.bubblingMouseEvents===!1&&F(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return ii(this._mapPane)||new W(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var f=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var f=this.getSize()._divideBy(2);return this.project(r,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,f){var v=this._getNewPixelOrigin(f,l);return this.project(r,l)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,l,f){var v=this._getNewPixelOrigin(f,l);return fe([this.project(r.getSouthWest(),l)._subtract(v),this.project(r.getNorthWest(),l)._subtract(v),this.project(r.getSouthEast(),l)._subtract(v),this.project(r.getNorthEast(),l)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,f){if(!f)return r;var v=this.project(r,l),y=this.getSize().divideBy(2),S=new ne(v.subtract(y),v.add(y)),z=this._getBoundsOffset(S,f,l);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?r:this.unproject(v.add(z),l)},_limitOffset:function(r,l){if(!l)return r;var f=this.getPixelBounds(),v=new ne(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(v,l))},_getBoundsOffset:function(r,l,f){var v=fe(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),y=v.min.subtract(r.min),S=v.max.subtract(r.max),z=this._rebound(y.x,-S.x),q=this._rebound(y.y,-S.y);return new W(z,q)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),f=this.getMaxZoom(),v=Ee.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(l,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var f=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var r=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var f=co,v=this._proxy.style[f];wi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),v===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();wi(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(l),y=this._getCenterOffset(r)._divideBy(1-1/v);return f.animate!==!0&&!this.getSize().contains(y)?!1:(ge(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,f,v){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ls(r,l){return new Fe(r,l)}var mn=re.extend({options:{position:"topright"},initialize:function(r){G(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),f=this.getPosition(),v=r._controlCorners[f];return Ae(l,"leaflet-control"),f.indexOf("bottom")!==-1?v.insertBefore(l,v.firstChild):v.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ot=function(r){return new mn(r)};Fe.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",f=this._controlContainer=qe("div",l+"control-container",this._container);function v(y,S){var z=l+y+" "+l+S;r[y+S]=qe("div",z,f)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)rt(this._controlCorners[r]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ei=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,f,v){return f<v?-1:v<f?1:0}},initialize:function(r,l,f){G(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in r)this._addLayer(r[v],v);for(v in l)this._addLayer(l[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return mn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(k(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=qe("div",r),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ui(l),Sr(l);var v=this._section=qe("section",r+"-list");f&&(this._map.on("click",this.collapse,this),ze(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=qe("a",r+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),ze(y,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){ct(S),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=qe("div",r+"-base",v),this._separator=qe("div",r+"-separator",v),this._overlaysList=qe("div",r+"-overlays",v),l.appendChild(v)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&k(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(m(function(v,y){return this.options.sortFunction(v.layer,y.layer,v.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;is(this._baseLayersList),is(this._overlaysList),this._layerControlInputs=[];var r,l,f,v,y=0;for(f=0;f<this._layers.length;f++)v=this._layers[f],this._addItem(v),l=l||v.overlay,r=r||!v.overlay,y+=v.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(k(r.target)),f=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(r,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=f,v.firstChild},_addItem:function(r){var l=document.createElement("label"),f=this._map.hasLayer(r.layer),v;r.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=f):v=this._createRadioElement("leaflet-base-layers_"+k(this),f),this._layerControlInputs.push(v),v.layerId=k(r.layer),ze(v,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(v),S.appendChild(y);var z=r.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,f,v=[],y=[];this._handlingClick=!0;for(var S=r.length-1;S>=0;S--)l=r[S],f=this._getLayer(l.layerId).layer,l.checked?v.push(f):l.checked||y.push(f);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])||this._map.addLayer(v[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,f,v=this._map.getZoom(),y=r.length-1;y>=0;y--)l=r[y],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&v<f.options.minZoom||f.options.maxZoom!==void 0&&v>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ze(r,"click",ct),this.expand();var l=this;setTimeout(function(){Ke(r,"click",ct),l._preventClick=!1})}}),Bl=function(r,l,f){return new Ei(r,l,f)},si=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",f=qe("div",l+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,f,v,y){var S=qe("a",f,v);return S.innerHTML=r,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Ui(S),ze(S,"click",ri),ze(S,"click",y,this),ze(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";We(this._zoomInButton,l),We(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ae(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ae(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new si,this.addControl(this.zoomControl))});var Da=function(r){return new si(r)},Si=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",f=qe("div",l),v=this.options;return this._addScales(v,l+"-line",f),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,f){r.metric&&(this._mScale=qe("div",l,f)),r.imperial&&(this._iScale=qe("div",l,f))},_update:function(){var r=this._map,l=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/r)},_updateImperial:function(r){var l=r*3.2808399,f,v,y;l>5280?(f=l/5280,v=this._getRoundNum(f),this._updateScale(this._iScale,v+" mi",v/f)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(r,l,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),f=r/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),Gl=function(r){return new Si(r)},On='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cs=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?On+" ":"")+"Leaflet</a>"},initialize:function(r){G(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),Ui(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new cs().addTo(this)});var Zl=function(r){return new cs(r)};mn.Layers=Ei,mn.Zoom=si,mn.Scale=Si,mn.Attribution=cs,Ot.layers=Bl,Ot.zoom=Da,Ot.scale=Gl,Ot.attribution=Zl;var Mn=re.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(r,l){return r.addHandler(l,this),this};var Ul={Events:xe},za=Ee.touch?"touchstart mousedown":"mousedown",oi=Te.extend({options:{clickTolerance:3},initialize:function(r,l,f,v){G(this,v),this._element=r,this._dragStartTarget=l||r,this._preventOutline=f},enable:function(){this._enabled||(ze(this._dragStartTarget,za,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oi._dragging===this&&this.finishDrag(!0),Ke(this._dragStartTarget,za,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!rs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){oi._dragging===this&&this.finishDrag();return}if(!(oi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(oi._dragging=this,this._preventOutline&&go(this._element),fo(),qn(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,f=Wt(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=ii(this._element),this._parentScale=qt(f);var v=r.type==="mousedown";ze(document,v?"mousemove":"touchmove",this._onMove,this),ze(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,f=new W(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,ct(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),vt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ke(document,"mousemove touchmove",this._onMove,this),Ke(document,"mouseup touchend touchcancel",this._onUp,this),wr(),Bi();var l=this._moved&&this._moving;this._moving=!1,oi._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Fa(r,l,f){var v,y=[1,4,2,8],S,z,q,X,te,pe,Oe,Ze;for(S=0,pe=r.length;S<pe;S++)r[S]._code=yt(r[S],l);for(q=0;q<4;q++){for(Oe=y[q],v=[],S=0,pe=r.length,z=pe-1;S<pe;z=S++)X=r[S],te=r[z],X._code&Oe?te._code&Oe||(Ze=Nr(te,X,Oe,l,f),Ze._code=yt(Ze,l),v.push(Ze)):(te._code&Oe&&(Ze=Nr(te,X,Oe,l,f),Ze._code=yt(Ze,l),v.push(Ze)),v.push(X));r=v}return r}function ba(r,l){var f,v,y,S,z,q,X,te,pe;if(!r||r.length===0)throw new Error("latlngs not passed");Qt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Oe=de([0,0]),Ze=se(r),Kt=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());Kt<1700&&(Oe=Vn(r));var Mt=r.length,zn=[];for(f=0;f<Mt;f++){var on=de(r[f]);zn.push(l.project(de([on.lat-Oe.lat,on.lng-Oe.lng])))}for(q=X=te=0,f=0,v=Mt-1;f<Mt;v=f++)y=zn[f],S=zn[v],z=y.y*S.x-S.y*y.x,X+=(y.x+S.x)*z,te+=(y.y+S.y)*z,q+=z*3;q===0?pe=zn[0]:pe=[X/q,te/q];var _s=l.unproject(B(pe));return de([_s.lat+Oe.lat,_s.lng+Oe.lng])}function Vn(r){for(var l=0,f=0,v=0,y=0;y<r.length;y++){var S=de(r[y]);l+=S.lat,f+=S.lng,v++}return de([l/v,f/v])}var $t={__proto__:null,clipPolygon:Fa,polygonCenter:ba,centroid:Vn};function Ba(r,l){if(!l||!r.length)return r.slice();var f=l*l;return r=wo(r,f),r=ko(r,f),r}function xo(r,l,f){return Math.sqrt(Lr(r,l,f,!0))}function Yl(r,l,f){return Lr(r,l,f)}function ko(r,l){var f=r.length,v=typeof Uint8Array<"u"?Uint8Array:Array,y=new v(f);y[0]=y[f-1]=1,hs(r,y,l,0,f-1);var S,z=[];for(S=0;S<f;S++)y[S]&&z.push(r[S]);return z}function hs(r,l,f,v,y){var S=0,z,q,X;for(q=v+1;q<=y-1;q++)X=Lr(r[q],r[v],r[y],!0),X>S&&(z=q,S=X);S>f&&(l[z]=1,hs(r,l,f,v,z),hs(r,l,f,z,y))}function wo(r,l){for(var f=[r[0]],v=1,y=0,S=r.length;v<S;v++)Ir(r[v],r[y])>l&&(f.push(r[v]),y=v);return y<S-1&&f.push(r[S-1]),f}var Eo;function sn(r,l,f,v,y){var S=v?Eo:yt(r,f),z=yt(l,f),q,X,te;for(Eo=z;;){if(!(S|z))return[r,l];if(S&z)return!1;q=S||z,X=Nr(r,l,q,f,y),te=yt(X,f),q===S?(r=X,S=te):(l=X,z=te)}}function Nr(r,l,f,v,y){var S=l.x-r.x,z=l.y-r.y,q=v.min,X=v.max,te,pe;return f&8?(te=r.x+S*(X.y-r.y)/z,pe=X.y):f&4?(te=r.x+S*(q.y-r.y)/z,pe=q.y):f&2?(te=X.x,pe=r.y+z*(X.x-r.x)/S):f&1&&(te=q.x,pe=r.y+z*(q.x-r.x)/S),new W(te,pe,y)}function yt(r,l){var f=0;return r.x<l.min.x?f|=1:r.x>l.max.x&&(f|=2),r.y<l.min.y?f|=4:r.y>l.max.y&&(f|=8),f}function Ir(r,l){var f=l.x-r.x,v=l.y-r.y;return f*f+v*v}function Lr(r,l,f,v){var y=l.x,S=l.y,z=f.x-y,q=f.y-S,X=z*z+q*q,te;return X>0&&(te=((r.x-y)*z+(r.y-S)*q)/X,te>1?(y=f.x,S=f.y):te>0&&(y+=z*te,S+=q*te)),z=r.x-y,q=r.y-S,v?z*z+q*q:new W(y,S)}function Qt(r){return!P(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function So(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(r)}function No(r,l){var f,v,y,S,z,q,X,te;if(!r||r.length===0)throw new Error("latlngs not passed");Qt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var pe=de([0,0]),Oe=se(r),Ze=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ze<1700&&(pe=Vn(r));var Kt=r.length,Mt=[];for(f=0;f<Kt;f++){var zn=de(r[f]);Mt.push(l.project(de([zn.lat-pe.lat,zn.lng-pe.lng])))}for(f=0,v=0;f<Kt-1;f++)v+=Mt[f].distanceTo(Mt[f+1])/2;if(v===0)te=Mt[0];else for(f=0,S=0;f<Kt-1;f++)if(z=Mt[f],q=Mt[f+1],y=z.distanceTo(q),S+=y,S>v){X=(S-v)/y,te=[q.x-X*(q.x-z.x),q.y-X*(q.y-z.y)];break}var on=l.unproject(B(te));return de([on.lat+pe.lat,on.lng+pe.lng])}var Io={__proto__:null,simplify:Ba,pointToSegmentDistance:xo,closestPointOnSegment:Yl,clipSegment:sn,_getEdgeIntersection:Nr,_getBitCode:yt,_sqClosestPointOnSegment:Lr,isFlat:Qt,_flat:So,polylineCenter:No},Lo={project:function(r){return new W(r.lng,r.lat)},unproject:function(r){return new ke(r.y,r.x)},bounds:new ne([-180,-90],[180,90])},Co={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,f=this.R,v=r.lat*l,y=this.R_MINOR/f,S=Math.sqrt(1-y*y),z=S*Math.sin(v),q=Math.tan(Math.PI/4-v/2)/Math.pow((1-z)/(1+z),S/2);return v=-f*Math.log(Math.max(q,1e-10)),new W(r.lng*l*f,v)},unproject:function(r){for(var l=180/Math.PI,f=this.R,v=this.R_MINOR/f,y=Math.sqrt(1-v*v),S=Math.exp(-r.y/f),z=Math.PI/2-2*Math.atan(S),q=0,X=.1,te;q<15&&Math.abs(X)>1e-7;q++)te=y*Math.sin(z),te=Math.pow((1-te)/(1+te),y/2),X=Math.PI/2-2*Math.atan(S*te)-z,z+=X;return new ke(z*l,r.x*l/f)}},ql={__proto__:null,LonLat:Lo,Mercator:Co,SphericalMercator:De},jl=c({},U,{code:"EPSG:3395",projection:Co,transformation:function(){var r=.5/(Math.PI*Co.R);return A(r,.5,-r,.5)}()}),Ga=c({},U,{code:"EPSG:4326",projection:Lo,transformation:A(1/180,1,-1/180,.5)}),Vl=c({},Ge,{projection:Lo,transformation:A(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var f=l.lng-r.lng,v=l.lat-r.lat;return Math.sqrt(f*f+v*v)},infinite:!0});Ge.Earth=U,Ge.EPSG3395=jl,Ge.EPSG3857=$e,Ge.EPSG900913=kt,Ge.EPSG4326=Ga,Ge.Simple=Vl;var pn=Te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[k(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[k(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=k(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=k(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return k(r)in this._layers},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},_addLayers:function(r){r=r?P(r)?r:[r]:[];for(var l=0,f=r.length;l<f;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[k(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=k(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,f=this._getZoomSpan();for(var v in this._zoomBoundLayers){var y=this._zoomBoundLayers[v].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yi=pn.extend({initialize:function(r,l){G(this,l),this._layers={};var f,v;if(r)for(f=0,v=r.length;f<v;f++)this.addLayer(r[f])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),f,v;for(f in this._layers)v=this._layers[f],v[r]&&v[r].apply(v,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return k(r)}}),Za=function(r,l){return new Yi(r,l)},Hn=Yi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Yi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Yi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ie;for(var l in this._layers){var f=this._layers[l];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),Ua=function(r,l){return new Hn(r,l)},qi=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){G(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(v,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(r,l){var f=this.options,v=f[l+"Size"];typeof v=="number"&&(v=[v,v]);var y=B(v),S=B(l==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(f.className||""),S&&(r.style.marginLeft=-S.x+"px",r.style.marginTop=-S.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Ee.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Hl(r){return new qi(r)}var Cr=qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Cr.imagePath!="string"&&(Cr.imagePath=this._detectIconPath()),(this.options.imagePath||Cr.imagePath)+qi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(f,v,y){var S=v.exec(f);return S&&S[y]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=qe("div","leaflet-default-icon-path",document.body),l=Cn(r,"background-image")||Cn(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ya=Mn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new oi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,f=l._map,v=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=ii(l._icon),z=f.getPixelBounds(),q=f.getPixelOrigin(),X=fe(z.min._subtract(q).add(y),z.max._subtract(q).subtract(y));if(!X.contains(S)){var te=B((Math.max(X.max.x,S.x)-X.max.x)/(z.max.x-X.max.x)-(Math.min(X.min.x,S.x)-X.min.x)/(z.min.x-X.min.x),(Math.max(X.max.y,S.y)-X.max.y)/(z.max.y-X.max.y)-(Math.min(X.min.y,S.y)-X.min.y)/(z.min.y-X.min.y)).multiplyBy(v);f.panBy(te,{animate:!1}),this._draggable._newPos._add(te),this._draggable._startPos._add(te),vt(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ge(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=ge(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,f=l._shadow,v=ii(l._icon),y=l._map.layerPointToLatLng(v);f&&vt(f,v),l._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),fs=pn.extend({options:{icon:new Cr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){G(this,l),this._latlng=de(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=de(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),v=!1;f!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Ae(f,l),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(f,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(Ae(y,l),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(this._icon,"focus",this._panOnFocus,this),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&vt(this._icon,r),this._shadow&&vt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ya)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ya(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&St(this._icon,r),this._shadow&&St(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,f=l.iconSize?B(l.iconSize):B(0,0),v=l.iconAnchor?B(l.iconAnchor):B(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:f.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xl(r,l){return new fs(r,l)}var ai=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return G(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Tr=ai.extend({options:{fill:!0,radius:10},initialize:function(r,l){G(this,l),this._latlng=de(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=de(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return ai.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,f=this._clickTolerance(),v=[r+f,l+f];this._pxBounds=new ne(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qa(r,l){return new Tr(r,l)}var ds=Tr.extend({initialize:function(r,l,f){if(typeof l=="number"&&(l=c({},f,{radius:l})),G(this,l),this._latlng=de(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ai.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,f=this._map,v=f.options.crs;if(v.distance===U.distance){var y=Math.PI/180,S=this._mRadius/U.R/y,z=f.project([l+S,r]),q=f.project([l-S,r]),X=z.add(q).divideBy(2),te=f.unproject(X).lat,pe=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(te*y))/(Math.cos(l*y)*Math.cos(te*y)))/y;(isNaN(pe)||pe===0)&&(pe=S/Math.cos(Math.PI/180*l)),this._point=X.subtract(f.getPixelOrigin()),this._radius=isNaN(pe)?0:X.x-f.project([te,r-pe]).x,this._radiusY=X.y-z.y}else{var Oe=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Oe).x}this._updateBounds()}});function Wl(r,l,f){return new ds(r,l,f)}var Rn=ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){G(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,f=null,v=Lr,y,S,z=0,q=this._parts.length;z<q;z++)for(var X=this._parts[z],te=1,pe=X.length;te<pe;te++){y=X[te-1],S=X[te];var Oe=v(r,y,S,!0);Oe<l&&(l=Oe,f=v(r,y,S))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return No(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=de(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ie,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],f=Qt(r),v=0,y=r.length;v<y;v++)f?(l[v]=de(r[v]),this._bounds.extend(l[v])):l[v]=this._convertLatLngs(r[v]);return l},_project:function(){var r=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new W(r,r);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,f){var v=r[0]instanceof ke,y=r.length,S,z;if(v){for(z=[],S=0;S<y;S++)z[S]=this._map.latLngToLayerPoint(r[S]),f.extend(z[S]);l.push(z)}else for(S=0;S<y;S++)this._projectLatlngs(r[S],l,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,v,y,S,z,q,X;for(f=0,y=0,S=this._rings.length;f<S;f++)for(X=this._rings[f],v=0,z=X.length;v<z-1;v++)q=sn(X[v],X[v+1],r,v,!0),q&&(l[y]=l[y]||[],l[y].push(q[0]),(q[1]!==X[v+1]||v===z-2)&&(l[y].push(q[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,f=0,v=r.length;f<v;f++)r[f]=Ba(r[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var f,v,y,S,z,q,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,S=this._parts.length;f<S;f++)for(q=this._parts[f],v=0,z=q.length,y=z-1;v<z;y=v++)if(!(!l&&v===0)&&xo(r,q[y],q[v])<=X)return!0;return!1}});function To(r,l){return new Rn(r,l)}Rn._flat=So;var ji=Rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ba(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Rn.prototype._convertLatLngs.call(this,r),f=l.length;return f>=2&&l[0]instanceof ke&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(r){Rn.prototype._setLatLngs.call(this,r),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,f=new W(l,l);if(r=new ne(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,y=this._rings.length,S;v<y;v++)S=Fa(this._rings[v],r,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,f,v,y,S,z,q,X,te;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(S=0,X=this._parts.length;S<X;S++)for(f=this._parts[S],z=0,te=f.length,q=te-1;z<te;q=z++)v=f[z],y=f[q],v.y>r.y!=y.y>r.y&&r.x<(y.x-v.x)*(r.y-v.y)/(y.y-v.y)+v.x&&(l=!l);return l||Rn.prototype._containsPoint.call(this,r,!0)}});function ja(r,l){return new ji(r,l)}var An=Hn.extend({initialize:function(r,l){G(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=P(r)?r:r.features,f,v,y;if(l){for(f=0,v=l.length;f<v;f++)y=l[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(r))return this;var z=gs(r,S);return z?(z.feature=a(r),z.defaultOptions=z.options,this.resetStyle(z),S.onEachFeature&&S.onEachFeature(r,z),this.addLayer(z)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=c({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function gs(r,l){var f=r.type==="Feature"?r.geometry:r,v=f?f.coordinates:null,y=[],S=l&&l.pointToLayer,z=l&&l.coordsToLatLng||ui,q,X,te,pe;if(!v&&!f)return null;switch(f.type){case"Point":return q=z(v),Va(S,r,q,l);case"MultiPoint":for(te=0,pe=v.length;te<pe;te++)q=z(v[te]),y.push(Va(S,r,q,l));return new Hn(y);case"LineString":case"MultiLineString":return X=ms(v,f.type==="LineString"?0:1,z),new Rn(X,l);case"Polygon":case"MultiPolygon":return X=ms(v,f.type==="Polygon"?1:2,z),new ji(X,l);case"GeometryCollection":for(te=0,pe=f.geometries.length;te<pe;te++){var Oe=gs({geometry:f.geometries[te],type:"Feature",properties:r.properties},l);Oe&&y.push(Oe)}return new Hn(y);case"FeatureCollection":for(te=0,pe=f.features.length;te<pe;te++){var Ze=gs(f.features[te],l);Ze&&y.push(Ze)}return new Hn(y);default:throw new Error("Invalid GeoJSON object.")}}function Va(r,l,f,v){return r?r(l,f):new fs(f,v&&v.markersInheritOptions&&v)}function ui(r){return new ke(r[1],r[0],r[2])}function ms(r,l,f){for(var v=[],y=0,S=r.length,z;y<S;y++)z=l?ms(r[y],l-1,f):(f||ui)(r[y]),v.push(z);return v}function ps(r,l){return r=de(r),r.alt!==void 0?[T(r.lng,l),T(r.lat,l),T(r.alt,l)]:[T(r.lng,l),T(r.lat,l)]}function bt(r,l,f,v){for(var y=[],S=0,z=r.length;S<z;S++)y.push(l?bt(r[S],Qt(r[S])?0:l-1,f,v):ps(r[S],v));return!l&&f&&y.length>0&&y.push(y[0].slice()),y}function Bt(r,l){return r.feature?c({},r.feature,{geometry:l}):a(l)}function a(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var n={toGeoJSON:function(r){return Bt(this,{type:"Point",coordinates:ps(this.getLatLng(),r)})}};fs.include(n),ds.include(n),Tr.include(n),Rn.include({toGeoJSON:function(r){var l=!Qt(this._latlngs),f=bt(this._latlngs,l?1:0,!1,r);return Bt(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),ji.include({toGeoJSON:function(r){var l=!Qt(this._latlngs),f=l&&!Qt(this._latlngs[0]),v=bt(this._latlngs,f?2:l?1:0,!0,r);return l||(v=[v]),Bt(this,{type:(f?"Multi":"")+"Polygon",coordinates:v})}}),Yi.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(r).geometry.coordinates)}),Bt(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var f=l==="GeometryCollection",v=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(r);if(f)v.push(S.geometry);else{var z=a(S);z.type==="FeatureCollection"?v.push.apply(v,z.features):v.push(z)}}}),f?Bt(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function i(r,l){return new An(r,l)}var o=i,h=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,f){this._url=r,this._bounds=se(l),G(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&bi(this._image),this},bringToBack:function(){return this._map&&ki(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=se(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:qe("img");if(Ae(l,"leaflet-image-layer"),this._zoomAnimated&&Ae(l,"leaflet-zoom-animated"),this.options.className&&Ae(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=m(this.fire,this,"load"),l.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;wi(this._image,f,l)},_reset:function(){var r=this._image,l=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();vt(r,l.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),g=function(r,l,f){return new h(r,l,f)},_=h.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:qe("video");if(Ae(l,"leaflet-image-layer"),this._zoomAnimated&&Ae(l,"leaflet-zoom-animated"),this.options.className&&Ae(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=m(this.fire,this,"load"),r){for(var f=l.getElementsByTagName("source"),v=[],y=0;y<f.length;y++)v.push(f[y].src);this._url=f.length>0?v:[l.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var z=qe("source");z.src=this._url[S],l.appendChild(z)}}});function x(r,l,f){return new _(r,l,f)}var E=h.extend({_initImage:function(){var r=this._image=this._url;Ae(r,"leaflet-image-layer"),this._zoomAnimated&&Ae(r,"leaflet-zoom-animated"),this.options.className&&Ae(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function O(r,l,f){return new E(r,l,f)}var Z=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof ke||P(r))?(this._latlng=de(r),G(this,l)):(G(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(m(rt,void 0,this._container),200)):rt(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=de(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bi(this._container),this},bringToBack:function(){return this._map&&ki(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof Hn){l=null;var f=this._source._layers;for(var v in f)if(f[v]._map){l=f[v];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=B(this.options.offset),f=this._getAnchor();this._zoomAnimated?vt(this._container,r.add(f)):l=l.add(r).add(f);var v=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=v+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(r,l,f,v){var y=l;return y instanceof r||(y=new r(v).setContent(l)),f&&y.setLatLng(f),y}}),pn.include({_initOverlay:function(r,l,f,v){var y=f;return y instanceof r?(G(y,v),y._source=this):(y=l&&!v?l:new r(v,this),y.setContent(f)),y}});var Y=Z.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Z.prototype.openOn.call(this,r)},onAdd:function(r){Z.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ai||this._source.on("preclick",Tt))},onRemove:function(r){Z.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ai||this._source.off("preclick",Tt))},getEvents:function(){var r=Z.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=qe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=qe("div",r+"-content-wrapper",l);if(this._contentNode=qe("div",r+"-content",f),Ui(l),Sr(this._contentNode),ze(l,"contextmenu",Tt),this._tipContainer=qe("div",r+"-tip-container",l),this._tip=qe("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=qe("a",r+"-close-button",l);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',ze(v,"click",function(y){ct(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var v=r.offsetHeight,y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&v>y?(l.height=y+"px",Ae(r,S)):We(r,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();vt(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Cn(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,v=this._containerWidth,y=new W(this._containerLeft,-f-this._containerBottom);y._add(ii(this._container));var S=r.layerPointToContainerPoint(y),z=B(this.options.autoPanPadding),q=B(this.options.autoPanPaddingTopLeft||z),X=B(this.options.autoPanPaddingBottomRight||z),te=r.getSize(),pe=0,Oe=0;S.x+v+X.x>te.x&&(pe=S.x+v-te.x+X.x),S.x-pe-q.x<0&&(pe=S.x-q.x),S.y+f+X.y>te.y&&(Oe=S.y+f-te.y+X.y),S.y-Oe-q.y<0&&(Oe=S.y-q.y),(pe||Oe)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([pe,Oe]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),J=function(r,l){return new Y(r,l)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(r,l,f){return this._initOverlay(Y,r,l,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),pn.include({bindPopup:function(r,l){return this._popup=this._initOverlay(Y,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Hn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ri(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var he=Z.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Z.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Z.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Z.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,f,v=this._map,y=this._container,S=v.latLngToContainerPoint(v.getCenter()),z=v.layerPointToContainerPoint(r),q=this.options.direction,X=y.offsetWidth,te=y.offsetHeight,pe=B(this.options.offset),Oe=this._getAnchor();q==="top"?(l=X/2,f=te):q==="bottom"?(l=X/2,f=0):q==="center"?(l=X/2,f=te/2):q==="right"?(l=0,f=te/2):q==="left"?(l=X,f=te/2):z.x<S.x?(q="right",l=0,f=te/2):(q="left",l=X+(pe.x+Oe.x)*2,f=te/2),r=r.subtract(B(l,f,!0)).add(pe).add(Oe),We(y,"leaflet-tooltip-right"),We(y,"leaflet-tooltip-left"),We(y,"leaflet-tooltip-top"),We(y,"leaflet-tooltip-bottom"),Ae(y,"leaflet-tooltip-"+q),vt(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&St(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_e=function(r,l){return new he(r,l)};Fe.include({openTooltip:function(r,l,f){return this._initOverlay(he,r,l,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),pn.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(he,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Hn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(ze(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ze(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,f,v;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(l)}});var Se=qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(is(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var v=B(f.bgPos);l.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function je(r){return new Se(r)}qi.Default=Cr;var Be=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){G(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),rt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof W?r:new W(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,f=-r(-1/0,1/0),v=0,y=l.length,S;v<y;v++)S=l[v].style.zIndex,l[v]!==this._container&&S&&(f=r(f,+S));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){St(this._container,this.options.opacity);var r=+new Date,l=!1,f=!1;for(var v in this._tiles){var y=this._tiles[v];if(!(!y.current||!y.loaded)){var S=Math.min(1,(r-y.loaded)/200);St(y.el,S),S<1?l=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(ye(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=l-Math.abs(r-f),this._onUpdateLevel(f)):(rt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var v=this._levels[r],y=this._map;return v||(v=this._levels[r]={},v.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=l,v.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,y.getCenter(),y.getZoom()),w(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var v=l.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)rt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,f,v){var y=Math.floor(r/2),S=Math.floor(l/2),z=f-1,q=new W(+y,+S);q.z=+z;var X=this._tileCoordsToKey(q),te=this._tiles[X];return te&&te.active?(te.retain=!0,!0):(te&&te.loaded&&(te.retain=!0),z>v?this._retainParent(y,S,z,v):!1)},_retainChildren:function(r,l,f,v){for(var y=2*r;y<2*r+2;y++)for(var S=2*l;S<2*l+2;S++){var z=new W(y,S);z.z=f+1;var q=this._tileCoordsToKey(z),X=this._tiles[q];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);f+1<v&&this._retainChildren(y,S,f+1,v)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,f,v){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var S=this.options.updateWhenZooming&&y!==this._tileZoom;(!v||S)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,l)},_setZoomTransform:function(r,l,f){var v=this._map.getZoomScale(f,r.zoom),y=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(l,f)).round();Ee.any3d?wi(r.el,y,v):vt(r.el,y)},_resetGrid:function(){var r=this._map,l=r.options.crs,f=this._tileSize=this.getTileSize(),v=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],v).x/f.x),Math.ceil(r.project([0,l.wrapLng[1]],v).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],v).y/f.x),Math.ceil(r.project([l.wrapLat[1],0],v).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),v=l.getZoomScale(f,this._tileZoom),y=l.project(r,this._tileZoom).floor(),S=l.getSize().divideBy(v*2);return new ne(y.subtract(S),y.add(S))},_update:function(r){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(v),S=y.getCenter(),z=[],q=this.options.keepBuffer,X=new ne(y.getBottomLeft().subtract([q,-q]),y.getTopRight().add([q,-q]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var te in this._tiles){var pe=this._tiles[te].coords;(pe.z!==this._tileZoom||!X.contains(new W(pe.x,pe.y)))&&(this._tiles[te].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var Oe=y.min.y;Oe<=y.max.y;Oe++)for(var Ze=y.min.x;Ze<=y.max.x;Ze++){var Kt=new W(Ze,Oe);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var Mt=this._tiles[this._tileCoordsToKey(Kt)];Mt?Mt.current=!0:z.push(Kt)}}if(z.sort(function(on,_s){return on.distanceTo(S)-_s.distanceTo(S)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zn=document.createDocumentFragment();for(Ze=0;Ze<z.length;Ze++)this._addTile(z[Ze],zn);this._level.el.appendChild(zn)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!l.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return se(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,f=this.getTileSize(),v=r.scaleBy(f),y=v.add(f),S=l.unproject(v,r.z),z=l.unproject(y,r.z);return[S,z]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),f=new Ie(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),f=new W(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(r){var l=this._tiles[r];l&&(rt(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ae(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=w,r.onmousemove=w,Ee.ielt9&&this.options.opacity<1&&St(r,this.options.opacity)},_addTile:function(r,l){var f=this._getTilePos(r),v=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&ge(m(this._tileReady,this,r,null,y)),vt(y,f),this._tiles[v]={el:y,coords:r,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:r});var v=this._tileCoordsToKey(r);f=this._tiles[v],f&&(f.loaded=+new Date,this._map._fadeAnimated?(St(f.el,0),ye(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Ae(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?ge(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new W(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new ne(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Je(r){return new Be(r)}var at=Be.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=G(this,l),l.detectRetina&&Ee.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var f=document.createElement("img");return ze(f,"load",m(this._tileOnLoad,this,l,f)),ze(f,"error",m(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var l={r:Ee.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=f),l["-y"]=f}return I(this._url,c(l,this.options))},_tileOnLoad:function(r,l){Ee.ielt9?setTimeout(m(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,f){var v=this.options.errorTileUrl;v&&l.getAttribute("src")!==v&&(l.src=v),r(f,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,v=this.options.zoomOffset;return f&&(r=l-r),r+v},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=w,l.onerror=w,!l.complete)){l.src=b;var f=this._tiles[r].coords;rt(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",b),Be.prototype._removeTile.call(this,r)},_tileReady:function(r,l,f){if(!(!this._map||f&&f.getAttribute("src")===b))return Be.prototype._tileReady.call(this,r,l,f)}});function Nt(r,l){return new at(r,l)}var li=at.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var f=c({},this.defaultWmsParams);for(var v in l)v in this.options||(f[v]=l[v]);l=G(this,l);var y=l.detectRetina&&Ee.retina?2:1,S=this.getTileSize();f.width=S.x*y,f.height=S.y*y,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,at.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),f=this._crs,v=fe(f.project(l[0]),f.project(l[1])),y=v.min,S=v.max,z=(this._wmsVersion>=1.3&&this._crs===Ga?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),q=at.prototype.getTileUrl.call(this,r);return q+$(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(r,l){return c(this.wmsParams,r),l||this.redraw(),this}});function Pr(r,l){return new li(r,l)}at.WMS=li,Nt.wms=Pr;var Dn=pn.extend({options:{padding:.1},initialize:function(r){G(this,r),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var f=this._map.getZoomScale(l,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),S=v.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(r,l));Ee.any3d?wi(this._container,S,f):vt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new ne(f,f.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Po=Dn.extend({options:{tolerance:0},getEvents:function(){var r=Dn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Dn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ze(r,"mousemove",this._onMouseMove,this),ze(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,rt(this._container),Ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dn.prototype._update.call(this);var r=this._bounds,l=this._container,f=r.getSize(),v=Ee.retina?2:1;vt(l,r.min),l.width=v*f.x,l.height=v*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Dn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[k(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,f=l.next,v=l.prev;f?f.prev=v:this._drawLast=v,v?v.next=f:this._drawFirst=f,delete r._order,delete this._layers[k(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),f=[],v,y;for(y=0;y<l.length;y++){if(v=Number(l[y]),isNaN(v))return;f.push(v)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ge(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var f,v,y,S,z=r._parts,q=z.length,X=this._ctx;if(q){for(X.beginPath(),f=0;f<q;f++){for(v=0,y=z[f].length;v<y;v++)S=z[f][v],X[v?"lineTo":"moveTo"](S.x,S.y);l&&X.closePath()}this._fillStroke(X,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,f=this._ctx,v=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||v)/v;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(l.x,l.y/y,v,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,l){var f=l.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),f,v,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(v=f);this._fireEvent(v?[v]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(We(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var f,v,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(l)&&(v=f);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,f){this._map._fireDOMEvent(l,f||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var f=l.next,v=l.prev;if(f)f.prev=v;else return;v?v.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var f=l.next,v=l.prev;if(v)v.next=f;else return;f?f.prev=v:v&&(this._drawLast=v),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function Oo(r){return Ee.canvas?new Po(r):null}var Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ha={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Dn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Vi("shape");Ae(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Vi("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[k(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;rt(l),r.removeInteractiveTarget(l),delete this._layers[k(r)]},_updateStyle:function(r){var l=r._stroke,f=r._fill,v=r.options,y=r._container;y.stroked=!!v.stroke,y.filled=!!v.fill,v.stroke?(l||(l=r._stroke=Vi("stroke")),y.appendChild(l),l.weight=v.weight+"px",l.color=v.color,l.opacity=v.opacity,v.dashArray?l.dashStyle=P(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=v.lineCap.replace("butt","flat"),l.joinstyle=v.lineJoin):l&&(y.removeChild(l),r._stroke=null),v.fill?(f||(f=r._fill=Vi("fill")),y.appendChild(f),f.color=v.fillColor||v.color,f.opacity=v.fillOpacity):f&&(y.removeChild(f),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),f=Math.round(r._radius),v=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+v+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){bi(r._container)},_bringToBack:function(r){ki(r._container)}},Or=Ee.vml?Vi:tt,Ni=Dn.extend({_initContainer:function(){this._container=Or("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Or("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),Ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dn.prototype._update.call(this);var r=this._bounds,l=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),vt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Or("path");r.options.className&&Ae(l,r.options.className),r.options.interactive&&Ae(l,"leaflet-interactive"),this._updateStyle(r),this._layers[k(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){rt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[k(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,f=r.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,ie(r._parts,l))},_updateCircle:function(r){var l=r._point,f=Math.max(Math.round(r._radius),1),v=Math.max(Math.round(r._radiusY),1)||f,y="a"+f+","+v+" 0 1,0 ",S=r._empty()?"M0 0":"M"+(l.x-f)+","+l.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(r,S)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){bi(r._path)},_bringToBack:function(r){ki(r._path)}});Ee.vml&&Ni.include(Ha);function vs(r){return Ee.svg||Ee.vml?new Ni(r):null}Fe.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&Oo(r)||vs(r)}});var Bf=ji.extend({initialize:function(r,l){ji.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=se(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function yv(r,l){return new Bf(r,l)}Ni.create=Or,Ni.pointsToPath=ie,An.geometryToLayer=gs,An.coordsToLatLng=ui,An.coordsToLatLngs=ms,An.latLngToCoords=ps,An.latLngsToCoords=bt,An.getFeature=Bt,An.asFeature=a,Fe.mergeOptions({boxZoom:!0});var Gf=Mn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qn(),fo(),this._startPoint=this._map.mouseEventToContainerPoint(r),ze(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new ne(this._point,this._startPoint),f=l.getSize();vt(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(rt(this._box),We(this._container,"leaflet-crosshair")),Bi(),wr(),Ke(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var l=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",Gf),Fe.mergeOptions({doubleClickZoom:!0});var Zf=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,f=l.getZoom(),v=l.options.zoomDelta,y=r.originalEvent.shiftKey?f-v:f+v;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(r.containerPoint,y)}});Fe.addInitHook("addHandler","doubleClickZoom",Zf),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uf=Mn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new oi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=se(this._map.options.maxBounds);this._offsetLimit=fe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),f=this._initialWorldOffset,v=this._draggable._newPos.x,y=(v-l+f)%r+l-f,S=(v+l+f)%r-l-f,z=Math.abs(y+f)<Math.abs(S+f)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(r){var l=this._map,f=l.options,v=!f.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),v)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,z=f.easeLinearity,q=y.multiplyBy(z/S),X=q.distanceTo([0,0]),te=Math.min(f.inertiaMaxSpeed,X),pe=q.multiplyBy(te/X),Oe=te/(f.inertiaDeceleration*z),Ze=pe.multiplyBy(-Oe/2).round();!Ze.x&&!Ze.y?l.fire("moveend"):(Ze=l._limitOffset(Ze,l.options.maxBounds),ge(function(){l.panBy(Ze,{duration:Oe,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",Uf),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yf=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ze(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,f=r.scrollTop||l.scrollTop,v=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(v,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},f=this.keyCodes,v,y;for(v=0,y=f.left.length;v<y;v++)l[f.left[v]]=[-1*r,0];for(v=0,y=f.right.length;v<y;v++)l[f.right[v]]=[r,0];for(v=0,y=f.down.length;v<y;v++)l[f.down[v]]=[0,r];for(v=0,y=f.up.length;v<y;v++)l[f.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},f=this.keyCodes,v,y;for(v=0,y=f.zoomIn.length;v<y;v++)l[f.zoomIn[v]]=r;for(v=0,y=f.zoomOut.length;v<y;v++)l[f.zoomOut[v]]=-r},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,f=this._map,v;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(v=this._panKeys[l],r.shiftKey&&(v=B(v).multiplyBy(3)),f.options.maxBounds&&(v=f._limitOffset(B(v),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(v)));f.panTo(y)}else f.panBy(v)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ri(r)}}});Fe.addInitHook("addHandler","keyboard",Yf),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qf=Mn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=_o(r),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),v),ri(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,S=f?Math.ceil(y/f)*f:y,z=r._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,z&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+z):r.setZoomAround(this._lastMousePos,l+z))}});Fe.addInitHook("addHandler","scrollWheelZoom",qf);var xv=600;Fe.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var jf=Mn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",ct),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),xv),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Ke(document,"touchend",ct),Ke(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Fe.addInitHook("addHandler","tapHold",jf),Fe.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Vf=Mn.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(r.touches[0]),v=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(v)._divideBy(2))),this._startDist=f.distanceTo(v),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),ct(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(r.touches[0]),v=l.mouseEventToContainerPoint(r.touches[1]),y=f.distanceTo(v)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var S=f._add(v)._divideBy(2)._subtract(this._centerPoint);if(y===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var z=m(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ge(z,this,!0),ct(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",Vf),Fe.BoxZoom=Gf,Fe.DoubleClickZoom=Zf,Fe.Drag=Uf,Fe.Keyboard=Yf,Fe.ScrollWheelZoom=qf,Fe.TapHold=jf,Fe.TouchZoom=Vf,s.Bounds=ne,s.Browser=Ee,s.CRS=Ge,s.Canvas=Po,s.Circle=ds,s.CircleMarker=Tr,s.Class=re,s.Control=mn,s.DivIcon=Se,s.DivOverlay=Z,s.DomEvent=bl,s.DomUtil=os,s.Draggable=oi,s.Evented=Te,s.FeatureGroup=Hn,s.GeoJSON=An,s.GridLayer=Be,s.Handler=Mn,s.Icon=qi,s.ImageOverlay=h,s.LatLng=ke,s.LatLngBounds=Ie,s.Layer=pn,s.LayerGroup=Yi,s.LineUtil=Io,s.Map=Fe,s.Marker=fs,s.Mixin=Ul,s.Path=ai,s.Point=W,s.PolyUtil=$t,s.Polygon=ji,s.Polyline=Rn,s.Popup=Y,s.PosAnimation=yo,s.Projection=ql,s.Rectangle=Bf,s.Renderer=Dn,s.SVG=Ni,s.SVGOverlay=E,s.TileLayer=at,s.Tooltip=he,s.Transformation=me,s.Util=be,s.VideoOverlay=_,s.bind=m,s.bounds=fe,s.canvas=Oo,s.circle=Wl,s.circleMarker=qa,s.control=Ot,s.divIcon=je,s.extend=c,s.featureGroup=Ua,s.geoJSON=i,s.geoJson=o,s.gridLayer=Je,s.icon=Hl,s.imageOverlay=g,s.latLng=de,s.latLngBounds=se,s.layerGroup=Za,s.map=ls,s.marker=Xl,s.point=B,s.polygon=ja,s.polyline=To,s.popup=J,s.rectangle=yv,s.setOptions=G,s.stamp=k,s.svg=vs,s.svgOverlay=O,s.tileLayer=Nt,s.tooltip=_e,s.transformation=A,s.version=u,s.videoOverlay=x;var kv=window.L;s.noConflict=function(){return window.L=kv,this},window.L=s})})(Nh,Nh.exports);var Hr=Nh.exports;const h0=dl(Hr);function Ca(e,t,s){return Object.freeze({instance:e,context:t,container:s})}function Rf(e,t){return t==null?function(u,c){const d=ue.useRef();return d.current||(d.current=e(u,c)),d}:function(u,c){const d=ue.useRef();d.current||(d.current=e(u,c));const m=ue.useRef(u),{instance:p}=d.current;return ue.useEffect(function(){m.current!==u&&(t(p,u,m.current),m.current=u)},[p,u,c]),d}}function Wp(e,t){ue.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var d;(d=t.layerContainer)==null||d.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function f0(e){return function(s){const u=Of(),c=e(Pl(s,u),u);return jp(u.map,s.attribution),Mf(c.current,s.eventHandlers),Wp(c.current,u),c}}function d0(e,t){const s=ue.useRef();ue.useEffect(function(){if(t.pathOptions!==s.current){const c=t.pathOptions??{};e.instance.setStyle(c),s.current=c}},[e,t])}function g0(e){return function(s){const u=Of(),c=e(Pl(s,u),u);return Mf(c.current,s.eventHandlers),Wp(c.current,u),d0(c.current,s),c}}function m0(e,t){const s=Rf(e),u=c0(s,t);return u0(u)}function Af(e,t){const s=Rf(e,t),u=g0(s);return a0(u)}function p0(e,t){const s=Rf(e,t),u=f0(s);return l0(u)}function v0(e,t,s){const{opacity:u,zIndex:c}=t;u!=null&&u!==s.opacity&&e.setOpacity(u),c!=null&&c!==s.zIndex&&e.setZIndex(c)}const sg=Af(function({center:t,children:s,...u},c){const d=new Hr.Circle(t,u);return Ca(d,Pf(c,{overlayContainer:d}))},Vp),_0=Af(function({center:t,children:s,...u},c){const d=new Hr.CircleMarker(t,u);return Ca(d,Pf(c,{overlayContainer:d}))},Vp),y0=Af(function({data:t,...s},u){const c=new Hr.GeoJSON(t,s);return Ca(c,Pf(u,{overlayContainer:c}))},function(t,s,u){s.style!==u.style&&(s.style==null?t.resetStyle():t.setStyle(s.style))});function Ih(){return Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},Ih.apply(this,arguments)}function x0({bounds:e,boundsOptions:t,center:s,children:u,className:c,id:d,placeholder:m,style:p,whenReady:k,zoom:N,...C},w){const[T]=ue.useState({className:c,id:d,style:p}),[D,M]=ue.useState(null);ue.useImperativeHandle(w,()=>(D==null?void 0:D.map)??null,[D]);const G=ue.useCallback(R=>{if(R!==null&&D===null){const I=new Hr.Map(R,C);s!=null&&N!=null?I.setView(s,N):e!=null&&I.fitBounds(e,t),k!=null&&I.whenReady(k),M(o0(I))}},[]);ue.useEffect(()=>()=>{D==null||D.map.remove()},[D]);const $=D?pi.createElement(Xp,{value:D},u):m??null;return pi.createElement("div",Ih({},T,{ref:G}),$)}const k0=ue.forwardRef(x0),w0=m0(function(t,s){const u=new Hr.Popup(t,s.overlayContainer);return Ca(u,s)},function(t,s,{position:u},c){ue.useEffect(function(){const{instance:m}=t;function p(N){N.popup===m&&(m.update(),c(!0))}function k(N){N.popup===m&&c(!1)}return s.map.on({popupopen:p,popupclose:k}),s.overlayContainer==null?(u!=null&&m.setLatLng(u),m.openOn(s.map)):s.overlayContainer.bindPopup(m),function(){var C;s.map.off({popupopen:p,popupclose:k}),(C=s.overlayContainer)==null||C.unbindPopup(),s.map.removeLayer(m)}},[t,s,c,u])}),E0=p0(function({url:t,...s},u){const c=new Hr.TileLayer(t,Pl(s,u));return Ca(c,u)},function(t,s,u){v0(t,s,u);const{url:c}=s;c!=null&&c!==u.url&&t.setUrl(c)});function S0({places:e,convexHull:t,gradientBuffers:s,changedPlaces:u,animationDuration:c,boundingBoxPlaces:d}){const m=ue.useRef(),[p,k]=ue.useState(0),[N,C]=ue.useState(0),w=[60.472,8.4689],T=5,D=I=>I===0?5:5+I*3,M=I=>I===0?5e3:5e3+I*3e3;ue.useEffect(()=>{if(!u||u.length===0){C(0);return}console.log("[PlacesMap] Starting animation for",u.length,"changed places:",u.map(b=>`${b.name} (${b.changeType})`).join(", "));const I=Date.now();let P;const F=()=>{const b=Date.now()-I,j=Math.min(b/c,1);C(j),j<1?P=requestAnimationFrame(F):(console.log("[PlacesMap] Animation complete"),C(0))};return P=requestAnimationFrame(F),()=>{P&&cancelAnimationFrame(P)}},[u,c]),ue.useEffect(()=>{if(m.current&&e&&e.length>0){const I=m.current;try{let P=e;if(console.log("[PlacesMap] Bounding box calculation - boundingBoxPlaces:",d,"total places:",e.length),d!==null){const j=[...e].sort((Q,le)=>le.score-Q.score).slice(0,d),V=new Set((u==null?void 0:u.map(Q=>Q.name))||[]),H=e.filter(Q=>V.has(Q.name)&&!j.some(le=>le.name===Q.name));P=[...j,...H],console.log("[PlacesMap] Using top",d,"places plus",H.length,"changed places for bounds"),console.log("[PlacesMap] Places for bounds:",P.map(Q=>Q.name).join(", "))}else console.log("[PlacesMap] Using all",e.length,"places for bounds");const F=h0.latLngBounds(P.map(b=>[b.coordinates[1],b.coordinates[0]]));F.isValid()&&I.fitBounds(F,{padding:[50,50],animate:!0,duration:.5})}catch(P){console.error("[PlacesMap] Error fitting bounds:",P)}}},[e,d,u]),ue.useEffect(()=>{k(I=>I+1)},[e,t,s,u,N]);const G=e&&e.length>0?Math.max(...e.map(I=>I.score)):0,$=I=>{const P=I===G&&I>0;return{fillColor:P?"#fbbf24":"#3b82f6",fillOpacity:P?.5:.4,color:P?"#f59e0b":"#2563eb",weight:P?3:2}},R=(I,P)=>{const b=[];for(let j=0;j<3;j++){const V=j/3,H=Math.max(0,(P-V)/(1-V));if(H>0&&H<1){const Q=1+H*8;b.push({radius:I*Q,opacity:(1-H)*.7})}}return b};return ee.jsx("div",{className:"map-container",children:ee.jsxs(k0,{center:w,zoom:T,style:{height:"100%",width:"100%"},ref:m,children:[ee.jsx(E0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s&&s.map((I,P)=>ee.jsx(y0,{data:{type:"Feature",geometry:I.geometry},style:{fillColor:"#3b82f6",fillOpacity:.01,color:"transparent",weight:0}},`buffer-${P}-${p}`)),e&&[...e].sort((I,P)=>I.score-P.score).map((I,P)=>ee.jsx(_0,{center:[I.coordinates[1],I.coordinates[0]],radius:D(I.score),pathOptions:$(I.score),children:ee.jsx(w0,{children:ee.jsxs("div",{children:[ee.jsx("strong",{children:I.name}),ee.jsx("br",{}),"Poeng: ",I.score,ee.jsx("br",{}),"Koordinater: ",I.coordinates[1].toFixed(4),", ",I.coordinates[0].toFixed(4)]})})},`place-circle-${I.name}-${p}`)),u&&u.length>0&&N>0&&ee.jsx(ee.Fragment,{children:u.map((I,P)=>{const F=M(I.score),b=I.changeType==="new",j=R(F,N);return P===0&&console.log("[PlacesMap] Rendering flash for",I.name,"at",I.coordinates,"radius:",F*1.5,"isNew:",b),ee.jsxs(pi.Fragment,{children:[j.map((V,H)=>ee.jsx(sg,{center:[I.coordinates[1],I.coordinates[0]],radius:V.radius,pathOptions:{fillColor:b?"#fbbf24":"#ef4444",fillOpacity:0,color:b?"#f59e0b":"#dc2626",weight:b?5:3,opacity:V.opacity*(b?1.5:1)}},`wave-${P}-${H}-${p}`)),ee.jsx(sg,{center:[I.coordinates[1],I.coordinates[0]],radius:F*(b?4:3),pathOptions:{fillColor:b?"#fbbf24":"#ef4444",fillOpacity:Math.max(.4,(Math.sin(N*10*Math.PI*2)*.5+.5)*Math.pow(1-N,.5)),color:b?"#f59e0b":"#dc2626",weight:b?6:5,opacity:Math.pow(1-N,.5)*(b?1.2:1)}},`flash-${P}-${p}`)]},`change-animation-${P}-${p}`)})})]})})}function N0({questionData:e,onSubmitAnswer:t,isAuthenticated:s,onSignIn:u,onClose:c}){const[d,m]=ue.useState(null),[p,k]=ue.useState(!1);if(ue.useEffect(()=>{m(null),k(!1)},[e==null?void 0:e.number]),ue.useEffect(()=>{const C=w=>{if(!e)return;if(w.key==="Escape"){w.preventDefault(),c();return}if(p)return;const T=w.key.toUpperCase();if(T.length===1&&T>="A"&&T<="Z"){const D=T.charCodeAt(0)-65;D>=0&&D<e.alternatives.length&&(w.preventDefault(),N(D))}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[p,e,c]),!e)return null;const N=async C=>{if(!p){if(!s){alert("Vennligst logg inn med Google for  svare"),u();return}m(C),k(!0);try{const w=e.alternatives[C];await new Promise(T=>setTimeout(T,300)),await t(e.number,w),c()}catch(w){console.error("[QuizOverlay] Error submitting answer:",w),alert("Kunne ikke lagre svaret. Prv igjen."),m(null),k(!1)}}};return ee.jsx("div",{className:"quiz-overlay",children:ee.jsxs("div",{className:"quiz-overlay-content",children:[ee.jsx("button",{onClick:c,className:"btn-close-overlay",title:"Lukk",children:""}),!s&&ee.jsxs("div",{className:"auth-warning",children:[ee.jsx("p",{children:" Du m logge inn med Google for  svare"}),ee.jsx("button",{onClick:u,className:"btn-signin",children:"Logg inn med Google"})]}),ee.jsxs("div",{className:"quiz-question-number",children:["Sprsml ",e.number]}),ee.jsx("h2",{className:"quiz-question-text",children:e.question}),ee.jsx("div",{className:"quiz-alternatives",children:e.alternatives.map((C,w)=>ee.jsxs("div",{className:`quiz-alternative ${d===w?"selected":""} ${p?"disabled":""}`,onClick:()=>N(w),style:{cursor:s&&!p?"pointer":"not-allowed"},children:[ee.jsx("span",{className:"alternative-letter",children:String.fromCharCode(65+w)}),ee.jsx("span",{className:"alternative-text",children:C}),d===w&&ee.jsx("span",{className:"checkmark",children:""})]},w))})]})})}var Ru={linear:function(e,t,s,u){var c=s-t;return c*e/u+t},easeInQuad:function(e,t,s,u){var c=s-t;return c*(e/=u)*e+t},easeOutQuad:function(e,t,s,u){var c=s-t;return-c*(e/=u)*(e-2)+t},easeInOutQuad:function(e,t,s,u){var c=s-t;return(e/=u/2)<1?c/2*e*e+t:-c/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,s,u){var c=s-t;return c*(e/=u)*e*e+t},easeOutCubic:function(e,t,s,u){var c=s-t;return c*((e=e/u-1)*e*e+1)+t},easeInOutCubic:function(e,t,s,u){var c=s-t;return(e/=u/2)<1?c/2*e*e*e+t:c/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,s,u){var c=s-t;return c*(e/=u)*e*e*e+t},easeOutQuart:function(e,t,s,u){var c=s-t;return-c*((e=e/u-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,s,u){var c=s-t;return(e/=u/2)<1?c/2*e*e*e*e+t:-c/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,s,u){var c=s-t;return c*(e/=u)*e*e*e*e+t},easeOutQuint:function(e,t,s,u){var c=s-t;return c*((e=e/u-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,s,u){var c=s-t;return(e/=u/2)<1?c/2*e*e*e*e*e+t:c/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,s,u){var c=s-t;return-c*Math.cos(e/u*(Math.PI/2))+c+t},easeOutSine:function(e,t,s,u){var c=s-t;return c*Math.sin(e/u*(Math.PI/2))+t},easeInOutSine:function(e,t,s,u){var c=s-t;return-c/2*(Math.cos(Math.PI*e/u)-1)+t},easeInExpo:function(e,t,s,u){var c=s-t;return e==0?t:c*Math.pow(2,10*(e/u-1))+t},easeOutExpo:function(e,t,s,u){var c=s-t;return e==u?t+c:c*(-Math.pow(2,-10*e/u)+1)+t},easeInOutExpo:function(e,t,s,u){var c=s-t;return e===0?t:e===u?t+c:(e/=u/2)<1?c/2*Math.pow(2,10*(e-1))+t:c/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,s,u){var c=s-t;return-c*(Math.sqrt(1-(e/=u)*e)-1)+t},easeOutCirc:function(e,t,s,u){var c=s-t;return c*Math.sqrt(1-(e=e/u-1)*e)+t},easeInOutCirc:function(e,t,s,u){var c=s-t;return(e/=u/2)<1?-c/2*(Math.sqrt(1-e*e)-1)+t:c/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,s,u){var c=s-t,d,m,p;return p=1.70158,m=0,d=c,e===0?t:(e/=u)===1?t+c:(m||(m=u*.3),d<Math.abs(c)?(d=c,p=m/4):p=m/(2*Math.PI)*Math.asin(c/d),-(d*Math.pow(2,10*(e-=1))*Math.sin((e*u-p)*(2*Math.PI)/m))+t)},easeOutElastic:function(e,t,s,u){var c=s-t,d,m,p;return p=1.70158,m=0,d=c,e===0?t:(e/=u)===1?t+c:(m||(m=u*.3),d<Math.abs(c)?(d=c,p=m/4):p=m/(2*Math.PI)*Math.asin(c/d),d*Math.pow(2,-10*e)*Math.sin((e*u-p)*(2*Math.PI)/m)+c+t)},easeInOutElastic:function(e,t,s,u){var c=s-t,d,m,p;return p=1.70158,m=0,d=c,e===0?t:(e/=u/2)===2?t+c:(m||(m=u*(.3*1.5)),d<Math.abs(c)?(d=c,p=m/4):p=m/(2*Math.PI)*Math.asin(c/d),e<1?-.5*(d*Math.pow(2,10*(e-=1))*Math.sin((e*u-p)*(2*Math.PI)/m))+t:d*Math.pow(2,-10*(e-=1))*Math.sin((e*u-p)*(2*Math.PI)/m)*.5+c+t)},easeInBack:function(e,t,s,u,c){var d=s-t;return c===void 0&&(c=1.70158),d*(e/=u)*e*((c+1)*e-c)+t},easeOutBack:function(e,t,s,u,c){var d=s-t;return c===void 0&&(c=1.70158),d*((e=e/u-1)*e*((c+1)*e+c)+1)+t},easeInOutBack:function(e,t,s,u,c){var d=s-t;return c===void 0&&(c=1.70158),(e/=u/2)<1?d/2*(e*e*(((c*=1.525)+1)*e-c))+t:d/2*((e-=2)*e*(((c*=1.525)+1)*e+c)+2)+t},easeInBounce:function(e,t,s,u){var c=s-t,d;return d=Ru.easeOutBounce(u-e,0,c,u),c-d+t},easeOutBounce:function(e,t,s,u){var c=s-t;return(e/=u)<1/2.75?c*(7.5625*e*e)+t:e<2/2.75?c*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?c*(7.5625*(e-=2.25/2.75)*e+.9375)+t:c*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,s,u){var c=s-t,d;return e<u/2?(d=Ru.easeInBounce(e*2,0,c,u),d*.5+t):(d=Ru.easeOutBounce(e*2-u,0,c,u),d*.5+c*.5+t)}},I0=Ru;function L0(e){return e*Math.PI/180}function vn(e,t){return e+Math.random()*(t-e)}function C0(e,t){return Math.floor(e+Math.random()*(t-e+1))}var ra;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(ra||(ra={}));var Qi;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(Qi||(Qi={}));const T0=1e3/60;class P0{constructor(t,s,u,c){this.getOptions=s;const{colors:d,initialVelocityX:m,initialVelocityY:p}=this.getOptions();this.context=t,this.x=u,this.y=c,this.w=vn(5,20),this.h=vn(5,20),this.radius=vn(5,10),this.vx=typeof m=="number"?vn(-m,m):vn(m.min,m.max),this.vy=typeof p=="number"?vn(-p,0):vn(p.min,p.max),this.shape=C0(0,2),this.angle=L0(vn(0,360)),this.angularSpin=vn(-.2,.2),this.color=d[Math.floor(Math.random()*d.length)],this.rotateY=vn(0,1),this.rotationDirection=vn(0,1)?Qi.Positive:Qi.Negative}update(t){const{gravity:s,wind:u,friction:c,opacity:d,drawShape:m}=this.getOptions(),p=t/T0;this.x+=this.vx*p,this.y+=this.vy*p,this.vy+=s*p,this.vx+=u*p,this.vx*=c**p,this.vy*=c**p,this.rotateY>=1&&this.rotationDirection===Qi.Positive?this.rotationDirection=Qi.Negative:this.rotateY<=-1&&this.rotationDirection===Qi.Negative&&(this.rotationDirection=Qi.Positive);const k=.1*this.rotationDirection*p;if(this.rotateY+=k,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=d,this.context.lineCap="round",this.context.lineWidth=2,m&&typeof m=="function")m.call(this,this.context);else switch(this.shape){case ra.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case ra.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case ra.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class O0{constructor(t,s){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=c=>{this.particles.splice(c,1)},this.getParticle=()=>{const c=vn(this.x,this.w+this.x),d=vn(this.y,this.h+this.y);return new P0(this.context,this.getOptions,c,d)},this.animate=c=>{const{canvas:d,context:m,particlesGenerated:p,lastNumberOfPieces:k}=this,{run:N,recycle:C,numberOfPieces:w,debug:T,tweenFunction:D,tweenDuration:M}=this.getOptions();if(!N)return!1;const G=this.particles.length,$=C?G:p;if($<w){k!==w&&(this.tweenProgress=0,this.tweenFrom=$,this.lastNumberOfPieces=w),this.tweenProgress=Math.min(M,Math.max(0,this.tweenProgress+c));const R=D(this.tweenProgress,this.tweenFrom,w,M),I=Math.round(R-$);for(let P=0;P<I;P++)this.particles.push(this.getParticle());this.particlesGenerated+=I}T&&(m.font="12px sans-serif",m.fillStyle="#333",m.textAlign="right",m.fillText(`Particles: ${G}`,d.width-10,d.height-20));for(let R=this.particles.length-1;R>=0;R--){const I=this.particles[R];I.update(c),(I.y>d.height||I.y<-100||I.x>d.width+100||I.x<-100)&&(C&&$<=w?this.particles[R]=this.getParticle():this.removeParticleAt(R))}return G>0||$<w},this.canvas=t;const u=this.canvas.getContext("2d");if(!u)throw new Error("Could not get canvas context");this.context=u,this.getOptions=s}}const Df={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:I0.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class M0{constructor(t,s){this.lastFrameTime=0,this.setOptionsWithDefaults=c=>{const d={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...d,...Df,...c},Object.assign(this,c.confettiSource)},this.update=(c=0)=>{const{options:{run:d,onConfettiComplete:m,frameRate:p},canvas:k,context:N}=this,C=Math.min(c-this.lastFrameTime,50);if(p&&C<1e3/p){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=c-(p?C%p:0),d&&(N.fillStyle="white",N.clearRect(0,0,k.width,k.height)),this.generator.animate(C)?this.rafId=requestAnimationFrame(this.update):(m&&typeof m=="function"&&this.generator.particlesGenerated>0&&m.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const u=this.canvas.getContext("2d");if(!u)throw new Error("Could not get canvas context");this.context=u,this.generator=new O0(this.canvas,()=>this.options),this.options=s,this.update()}get options(){return this._options}set options(t){var c,d;const s=(c=this._options)==null?void 0:c.run,u=(d=this._options)==null?void 0:d.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&u===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&s===!1&&this.update()}}const R0=pi.createRef();class zf extends pi.Component{constructor(t){super(t),this.canvas=pi.createRef(),this.canvas=t.canvasRef||R0}componentDidMount(){if(this.canvas.current){const t=Ec(this.props)[0];this.confetti=new M0(this.canvas.current,t)}}componentDidUpdate(){const t=Ec(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,s]=Ec(this.props),u={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...s.style};return ee.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...s,style:u})}}zf.defaultProps={...Df};zf.displayName="ReactConfetti";function Ec(e){const t={},s={},u={},c=[...Object.keys(Df),"confettiSource","drawShape","onConfettiComplete","frameRate"],d=["canvasRef"];for(const m in e){const p=e[m];c.includes(m)?t[m]=p:d.includes(m)?d[m]=p:u[m]=p}return[t,u,s]}const A0=pi.forwardRef((e,t)=>ee.jsx(zf,{canvasRef:t,...e})),D0="/kartquiz/assets/065492_tadawav-80833-CmX23xon.mp3";function z0({onContinue:e,places:t}){const[s,u]=ue.useState({width:window.innerWidth,height:window.innerHeight}),[c,d]=ue.useState(!0),[m,p]=ue.useState(!1),N=(()=>{if(!t||t.length===0)return"et ukjent sted";const T=t.filter($=>$.score>0);if(T.length===0)return"et ukjent sted";const D=Math.max(...T.map($=>$.score)),G=T.filter($=>$.score===D).map($=>$.name);if(G.length===1)return G[0];if(G.length===2)return`${G[0]} eller ${G[1]}`;{const $=G.slice(0,-1).join(", "),R=G[G.length-1];return`${$} eller ${R}`}})(),C=()=>{if(!m)try{const T=new Audio(D0);T.volume=.7,T.play().catch(D=>{console.log("[SurpriseOverlay] Audio blocked:",D)}),p(!0),console.log("[SurpriseOverlay] Celebration fanfare playing")}catch(T){console.error("[SurpriseOverlay] Error playing sounds:",T)}},w=()=>{C()};return ue.useEffect(()=>{const T=D=>{D.key==="Escape"&&(D.preventDefault(),e())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[e]),ue.useEffect(()=>{C()},[]),ue.useEffect(()=>{const T=()=>{u({width:window.innerWidth,height:window.innerHeight})};window.addEventListener("resize",T);const D=setTimeout(()=>{d(!1)},8e3),M=setTimeout(()=>{e()},1e4);return()=>{clearTimeout(D),clearTimeout(M),window.removeEventListener("resize",T)}},[e]),ee.jsxs("div",{className:"surprise-overlay",onClick:w,children:[ee.jsx("button",{onClick:e,className:"btn-close-surprise",title:"Lukk",children:""}),ee.jsx(A0,{width:s.width,height:s.height,numberOfPieces:500,recycle:c,colors:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"]}),ee.jsxs("div",{className:"surprise-message",children:[ee.jsx("h1",{className:"surprise-title",children:" Gratulerer! "}),ee.jsxs("p",{className:"surprise-subtitle",children:["Du har vunnet en tur til ",N,"!"]}),!m&&ee.jsx("p",{className:"audio-hint",children:" Klikk for lyd!"})]})]})}function F0({onContinue:e,onClose:t,videoSrc:s}){return ue.useEffect(()=>{const u=c=>{c.key==="Escape"&&(c.preventDefault(),t())};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[t]),ee.jsx("div",{className:"video-overlay",children:ee.jsxs("div",{className:"video-overlay-content",children:[ee.jsx("button",{onClick:t,className:"btn-close-video",title:"Lukk",children:""}),ee.jsx("h2",{className:"video-title",children:"En veldig viktig melding!"}),ee.jsx("video",{controls:!0,className:"surprise-video",src:s,children:"Your browser does not support the video tag."}),ee.jsx("button",{onClick:e,className:"btn-continue-video",children:"Fortsett til siste sprsml "})]})})}var an=63710088e-1,$p={centimeters:an*100,centimetres:an*100,degrees:360/(2*Math.PI),feet:an*3.28084,inches:an*39.37,kilometers:an/1e3,kilometres:an/1e3,meters:an,metres:an,miles:an/1609.344,millimeters:an*1e3,millimetres:an*1e3,nauticalmiles:an/1852,radians:1,yards:an*1.0936};function Ol(e,t,s={}){const u={type:"Feature"};return(s.id===0||s.id)&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.properties=t||{},u.geometry=e,u}function Qp(e,t,s={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!og(e[0])||!og(e[1]))throw new Error("coordinates must contain numbers");return Ol({type:"Point",coordinates:e},t,s)}function b0(e,t,s={}){for(const c of e){if(c.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(c[c.length-1].length!==c[0].length)throw new Error("First and last Position are not equivalent.");for(let d=0;d<c[c.length-1].length;d++)if(c[c.length-1][d]!==c[0][d])throw new Error("First and last Position are not equivalent.")}return Ol({type:"Polygon",coordinates:e},t,s)}function B0(e,t,s={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Ol({type:"LineString",coordinates:e},t,s)}function al(e,t={}){const s={type:"FeatureCollection"};return t.id&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.features=e,s}function G0(e,t="kilometers"){const s=$p[t];if(!s)throw new Error(t+" units is invalid");return e*s}function Z0(e,t="kilometers"){const s=$p[t];if(!s)throw new Error(t+" units is invalid");return e/s}function og(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Ff(e,t,s){if(e!==null)for(var u,c,d,m,p,k,N,C=0,w=0,T,D=e.type,M=D==="FeatureCollection",G=D==="Feature",$=M?e.features.length:1,R=0;R<$;R++){N=M?e.features[R].geometry:G?e.geometry:e,T=N?N.type==="GeometryCollection":!1,p=T?N.geometries.length:1;for(var I=0;I<p;I++){var P=0,F=0;if(m=T?N.geometries[I]:N,m!==null){k=m.coordinates;var b=m.type;switch(C=0,b){case null:break;case"Point":if(t(k,w,R,P,F)===!1)return!1;w++,P++;break;case"LineString":case"MultiPoint":for(u=0;u<k.length;u++){if(t(k[u],w,R,P,F)===!1)return!1;w++,b==="MultiPoint"&&P++}b==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(u=0;u<k.length;u++){for(c=0;c<k[u].length-C;c++){if(t(k[u][c],w,R,P,F)===!1)return!1;w++}b==="MultiLineString"&&P++,b==="Polygon"&&F++}b==="Polygon"&&P++;break;case"MultiPolygon":for(u=0;u<k.length;u++){for(F=0,c=0;c<k[u].length;c++){for(d=0;d<k[u][c].length-C;d++){if(t(k[u][c][d],w,R,P,F)===!1)return!1;w++}F++}P++}break;case"GeometryCollection":for(u=0;u<m.geometries.length;u++)if(Ff(m.geometries[u],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ag(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&t(e.features[s],s)!==!1;s++);}function Kp(e,t){var s,u,c,d,m,p,k,N,C,w,T=0,D=e.type==="FeatureCollection",M=e.type==="Feature",G=D?e.features.length:1;for(s=0;s<G;s++){for(p=D?e.features[s].geometry:M?e.geometry:e,N=D?e.features[s].properties:M?e.properties:{},C=D?e.features[s].bbox:M?e.bbox:void 0,w=D?e.features[s].id:M?e.id:void 0,k=p?p.type==="GeometryCollection":!1,m=k?p.geometries.length:1,c=0;c<m;c++){if(d=k?p.geometries[c]:p,d===null){if(t(null,T,N,C,w)===!1)return!1;continue}switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(d,T,N,C,w)===!1)return!1;break}case"GeometryCollection":{for(u=0;u<d.geometries.length;u++)if(t(d.geometries[u],T,N,C,w)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}T++}}function U0(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const s=[1/0,1/0,-1/0,-1/0];return Ff(e,u=>{s[0]>u[0]&&(s[0]=u[0]),s[1]>u[1]&&(s[1]=u[1]),s[2]<u[0]&&(s[2]=u[0]),s[3]<u[1]&&(s[3]=u[1])}),s}function Y0(e,t,s,u,c){Jp(e,t,s||0,u||e.length-1,c||q0)}function Jp(e,t,s,u,c){for(;u>s;){if(u-s>600){var d=u-s+1,m=t-s+1,p=Math.log(d),k=.5*Math.exp(2*p/3),N=.5*Math.sqrt(p*k*(d-k)/d)*(m-d/2<0?-1:1),C=Math.max(s,Math.floor(t-m*k/d+N)),w=Math.min(u,Math.floor(t+(d-m)*k/d+N));Jp(e,t,C,w,c)}var T=e[t],D=s,M=u;for(Go(e,s,t),c(e[u],T)>0&&Go(e,s,u);D<M;){for(Go(e,D,M),D++,M--;c(e[D],T)<0;)D++;for(;c(e[M],T)>0;)M--}c(e[s],T)===0?Go(e,s,M):(M++,Go(e,M,u)),M<=t&&(s=M+1),t<=M&&(u=M-1)}}function Go(e,t,s){var u=e[t];e[t]=e[s],e[s]=u}function q0(e,t){return e<t?-1:e>t?1:0}let j0=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let s=this.data;const u=[];if(!du(t,s))return u;const c=this.toBBox,d=[];for(;s;){for(let m=0;m<s.children.length;m++){const p=s.children[m],k=s.leaf?c(p):p;du(t,k)&&(s.leaf?u.push(p):Nc(t,k)?this._all(p,u):d.push(p))}s=d.pop()}return u}collides(t){let s=this.data;if(!du(t,s))return!1;const u=[];for(;s;){for(let c=0;c<s.children.length;c++){const d=s.children[c],m=s.leaf?this.toBBox(d):d;if(du(t,m)){if(s.leaf||Nc(t,m))return!0;u.push(d)}}s=u.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let u=0;u<t.length;u++)this.insert(t[u]);return this}let s=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=s;else if(this.data.height===s.height)this._splitRoot(this.data,s);else{if(this.data.height<s.height){const u=this.data;this.data=s,s=u}this._insert(s,this.data.height-s.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=ks([]),this}remove(t,s){if(!t)return this;let u=this.data;const c=this.toBBox(t),d=[],m=[];let p,k,N;for(;u||d.length;){if(u||(u=d.pop(),k=d[d.length-1],p=m.pop(),N=!0),u.leaf){const C=V0(t,u.children,s);if(C!==-1)return u.children.splice(C,1),d.push(u),this._condense(d),this}!N&&!u.leaf&&Nc(u,c)?(d.push(u),m.push(p),p=0,k=u,u=u.children[0]):k?(p++,u=k.children[p],N=!1):u=null}return this}toBBox(t){return t}compareMinX(t,s){return t.minX-s.minX}compareMinY(t,s){return t.minY-s.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,s){const u=[];for(;t;)t.leaf?s.push(...t.children):u.push(...t.children),t=u.pop();return s}_build(t,s,u,c){const d=u-s+1;let m=this._maxEntries,p;if(d<=m)return p=ks(t.slice(s,u+1)),xs(p,this.toBBox),p;c||(c=Math.ceil(Math.log(d)/Math.log(m)),m=Math.ceil(d/Math.pow(m,c-1))),p=ks([]),p.leaf=!1,p.height=c;const k=Math.ceil(d/m),N=k*Math.ceil(Math.sqrt(m));ug(t,s,u,N,this.compareMinX);for(let C=s;C<=u;C+=N){const w=Math.min(C+N-1,u);ug(t,C,w,k,this.compareMinY);for(let T=C;T<=w;T+=k){const D=Math.min(T+k-1,w);p.children.push(this._build(t,T,D,c-1))}}return xs(p,this.toBBox),p}_chooseSubtree(t,s,u,c){for(;c.push(s),!(s.leaf||c.length-1===u);){let d=1/0,m=1/0,p;for(let k=0;k<s.children.length;k++){const N=s.children[k],C=Sc(N),w=W0(t,N)-C;w<m?(m=w,d=C<d?C:d,p=N):w===m&&C<d&&(d=C,p=N)}s=p||s.children[0]}return s}_insert(t,s,u){const c=u?t:this.toBBox(t),d=[],m=this._chooseSubtree(c,this.data,s,d);for(m.children.push(t),Vo(m,c);s>=0&&d[s].children.length>this._maxEntries;)this._split(d,s),s--;this._adjustParentBBoxes(c,d,s)}_split(t,s){const u=t[s],c=u.children.length,d=this._minEntries;this._chooseSplitAxis(u,d,c);const m=this._chooseSplitIndex(u,d,c),p=ks(u.children.splice(m,u.children.length-m));p.height=u.height,p.leaf=u.leaf,xs(u,this.toBBox),xs(p,this.toBBox),s?t[s-1].children.push(p):this._splitRoot(u,p)}_splitRoot(t,s){this.data=ks([t,s]),this.data.height=t.height+1,this.data.leaf=!1,xs(this.data,this.toBBox)}_chooseSplitIndex(t,s,u){let c,d=1/0,m=1/0;for(let p=s;p<=u-s;p++){const k=jo(t,0,p,this.toBBox),N=jo(t,p,u,this.toBBox),C=$0(k,N),w=Sc(k)+Sc(N);C<d?(d=C,c=p,m=w<m?w:m):C===d&&w<m&&(m=w,c=p)}return c||u-s}_chooseSplitAxis(t,s,u){const c=t.leaf?this.compareMinX:H0,d=t.leaf?this.compareMinY:X0,m=this._allDistMargin(t,s,u,c),p=this._allDistMargin(t,s,u,d);m<p&&t.children.sort(c)}_allDistMargin(t,s,u,c){t.children.sort(c);const d=this.toBBox,m=jo(t,0,s,d),p=jo(t,u-s,u,d);let k=fu(m)+fu(p);for(let N=s;N<u-s;N++){const C=t.children[N];Vo(m,t.leaf?d(C):C),k+=fu(m)}for(let N=u-s-1;N>=s;N--){const C=t.children[N];Vo(p,t.leaf?d(C):C),k+=fu(p)}return k}_adjustParentBBoxes(t,s,u){for(let c=u;c>=0;c--)Vo(s[c],t)}_condense(t){for(let s=t.length-1,u;s>=0;s--)t[s].children.length===0?s>0?(u=t[s-1].children,u.splice(u.indexOf(t[s]),1)):this.clear():xs(t[s],this.toBBox)}};function V0(e,t,s){if(!s)return t.indexOf(e);for(let u=0;u<t.length;u++)if(s(e,t[u]))return u;return-1}function xs(e,t){jo(e,0,e.children.length,t,e)}function jo(e,t,s,u,c){c||(c=ks(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(let d=t;d<s;d++){const m=e.children[d];Vo(c,e.leaf?u(m):m)}return c}function Vo(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function H0(e,t){return e.minX-t.minX}function X0(e,t){return e.minY-t.minY}function Sc(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function fu(e){return e.maxX-e.minX+(e.maxY-e.minY)}function W0(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function $0(e,t){const s=Math.max(e.minX,t.minX),u=Math.max(e.minY,t.minY),c=Math.min(e.maxX,t.maxX),d=Math.min(e.maxY,t.maxY);return Math.max(0,c-s)*Math.max(0,d-u)}function Nc(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function du(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function ks(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ug(e,t,s,u,c){const d=[t,s];for(;d.length;){if(s=d.pop(),t=d.pop(),s-t<=u)continue;const m=t+Math.ceil((s-t)/u/2)*u;Y0(e,m,t,s,c),d.push(t,m,m,s)}}const Q0=Object.freeze(Object.defineProperty({__proto__:null,default:j0},Symbol.toStringTag,{value:"Module"}));function K0(e,t={}){const s=U0(e),u=(s[0]+s[2])/2,c=(s[1]+s[3])/2;return Qp([u,c],t.properties,t)}var ev={exports:{}};(function(e,t){(function(s,u){e.exports=u()})(Ah,function(){function s(a,n){(n==null||n>a.length)&&(n=a.length);for(var i=0,o=Array(n);i<n;i++)o[i]=a[i];return o}function u(a,n,i){return n=C(n),function(o,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(o)}(a,T()?Reflect.construct(n,i||[],C(a).constructor):n.apply(a,i))}function c(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function d(a,n,i){if(T())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var h=new(a.bind.apply(a,o));return i&&D(h,i.prototype),h}function m(a,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,$(o.key),o)}}function p(a,n,i){return n&&m(a.prototype,n),i&&m(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function k(a,n){var i=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!i){if(Array.isArray(a)||(i=R(a))||n){i&&(a=i);var o=0,h=function(){};return{s:h,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(E){throw E},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,_=!0,x=!1;return{s:function(){i=i.call(a)},n:function(){var E=i.next();return _=E.done,E},e:function(E){x=!0,g=E},f:function(){try{_||i.return==null||i.return()}finally{if(x)throw g}}}}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,i){var o=function(g,_){for(;!{}.hasOwnProperty.call(g,_)&&(g=C(g))!==null;);return g}(a,n);if(o){var h=Object.getOwnPropertyDescriptor(o,n);return h.get?h.get.call(arguments.length<3?a:i):h.value}},N.apply(null,arguments)}function C(a){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C(a)}function w(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&D(a,n)}function T(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!a})()}function D(a,n){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},D(a,n)}function M(a,n,i,o){var h=N(C(1&o?a.prototype:a),n,i);return 2&o&&typeof h=="function"?function(g){return h.apply(i,g)}:h}function G(a){return function(n){if(Array.isArray(n))return s(n)}(a)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(a)||R(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(a){var n=function(i,o){if(typeof i!="object"||!i)return i;var h=i[Symbol.toPrimitive];if(h!==void 0){var g=h.call(i,o);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(a,"string");return typeof n=="symbol"?n:n+""}function R(a,n){if(a){if(typeof a=="string")return s(a,n);var i={}.toString.call(a).slice(8,-1);return i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set"?Array.from(a):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(a,n):void 0}}function I(a){var n=typeof Map=="function"?new Map:void 0;return I=function(i){if(i===null||!function(h){try{return Function.toString.call(h).indexOf("[native code]")!==-1}catch{return typeof h=="function"}}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(i))return n.get(i);n.set(i,o)}function o(){return d(i,arguments,C(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),D(o,i)},I(a)}var P=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=a.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=a.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==a.JOIN_ROUND&&(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=a.CAP_ROUND,this._joinStyle=a.JOIN_ROUND,this._mitreLimit=a.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(o)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3];this.setQuadrantSegments(h),this.setEndCapStyle(g),this.setJoinStyle(_),this.setMitreLimit(x)}}}},{key:"bufferDistanceError",value:function(n){var i=Math.PI/2/n;return 1-Math.cos(i/2)}}])}();P.CAP_ROUND=1,P.CAP_FLAT=2,P.CAP_SQUARE=3,P.JOIN_ROUND=1,P.JOIN_MITRE=2,P.JOIN_BEVEL=3,P.DEFAULT_QUADRANT_SEGMENTS=8,P.DEFAULT_MITRE_LIMIT=5,P.DEFAULT_SIMPLIFY_FACTOR=.01;var F=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({Exception:n})[0],o}return w(n,a),p(n,[{key:"toString",value:function(){return this.message}}])}(I(Error)),b=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({IllegalArgumentException:n})[0],o}return w(n,a),p(n)}(F),j=function(){return p(function a(){c(this,a)},[{key:"filter",value:function(a){}}])}();function V(){}function H(){}function Q(){}var le,ge,ye,be,re,Ne,xe,Te,W=function(){return p(function a(){c(this,a)},null,[{key:"equalsWithTolerance",value:function(a,n,i){return Math.abs(a-n)<=i}}])}(),ae=function(){return p(function a(n,i){c(this,a),this.low=i||0,this.high=n||0},null,[{key:"toBinaryString",value:function(a){var n,i="";for(n=2147483648;n>0;n>>>=1)i+=(a.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)i+=(a.low&n)===n?"1":"0";return i}}])}();function B(){}function ne(){}B.NaN=NaN,B.isNaN=function(a){return Number.isNaN(a)},B.isInfinite=function(a){return!Number.isFinite(a)},B.MAX_VALUE=Number.MAX_VALUE,B.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,B.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(Ne=2146435072,xe=new Float64Array(1),Te=new Int32Array(xe.buffer),B.doubleToLongBits=function(a){xe[0]=a;var n=0|Te[0],i=0|Te[1];return(i&Ne)===Ne&&1048575&i&&n!==0&&(n=0,i=2146959360),new ae(i,n)},B.longBitsToDouble=function(a){return Te[0]=a.low,Te[1]=a.high,xe[0]}):(le=1023,ge=Math.log2,ye=Math.floor,be=Math.pow,re=function(){for(var a=53;a>0;a--){var n=be(2,a)-1;if(ye(ge(n))+1===a)return n}return 0}(),B.doubleToLongBits=function(a){var n,i,o,h,g,_,x,E,O;if(a<0||1/a===Number.NEGATIVE_INFINITY?(_=1<<31,a=-a):_=0,a===0)return new ae(E=_,O=0);if(a===1/0)return new ae(E=2146435072|_,O=0);if(a!=a)return new ae(E=2146959360,O=0);if(h=0,O=0,(n=ye(a))>1)if(n<=re)(h=ye(ge(n)))<=20?(O=0,E=n<<20-h&1048575):(O=n%(i=be(2,o=h-20))<<32-o,E=n/i&1048575);else for(o=n,O=0;(o=ye(i=o/2))!==0;)h++,O>>>=1,O|=(1&E)<<31,E>>>=1,i!==o&&(E|=524288);if(x=h+le,g=n===0,n=a-n,h<52&&n!==0)for(o=0;;){if((i=2*n)>=1?(n=i-1,g?(x--,g=!1):(o<<=1,o|=1,h++)):(n=i,g?--x==0&&(h++,g=!1):(o<<=1,h++)),h===20)E|=o,o=0;else if(h===52){O|=o;break}if(i===1){h<20?E|=o<<20-h:h<52&&(O|=o<<52-h);break}}return E|=x<<20,new ae(E|=_,O)},B.longBitsToDouble=function(a){var n,i,o,h,g=a.high,_=a.low,x=g&1<<31?-1:1;for(o=((2146435072&g)>>20)-le,h=0,i=1<<19,n=1;n<=20;n++)g&i&&(h+=be(2,-n)),i>>>=1;for(i=1<<31,n=21;n<=52;n++)_&i&&(h+=be(2,-n)),i>>>=1;if(o===-1023){if(h===0)return 0*x;o=-1022}else{if(o===1024)return h===0?x/0:NaN;h+=1}return x*h*be(2,o)});var fe=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({RuntimeException:n})[0],o}return w(n,a),p(n)}(F),Ie=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)fe.constructor_.call(this);else if(arguments.length===1){var i=arguments[0];fe.constructor_.call(this,i)}}}])}(fe),se=function(){function a(){c(this,a)}return p(a,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)a.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new Ie("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];a.isTrue(n,null)}else if(arguments.length===2){var i=arguments[1];if(!arguments[0])throw i===null?new Ie:new Ie(i)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];a.equals(n,i,null)}else if(arguments.length===3){var o=arguments[0],h=arguments[1],g=arguments[2];if(!h.equals(o))throw new Ie("Expected "+o+" but encountered "+h+(g!==null?": "+g:""))}}}])}(),ke=new ArrayBuffer(8),de=new Float64Array(ke),Ge=new Int32Array(ke),U=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getM",value:function(){return B.NaN}},{key:"setOrdinate",value:function(n,i){switch(n){case a.X:this.x=i;break;case a.Y:this.y=i;break;case a.Z:this.setZ(i);break;default:throw new b("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var i=arguments[0],o=arguments[1];return!!W.equalsWithTolerance(this.x,i.x,o)&&!!W.equalsWithTolerance(this.y,i.y,o)}}},{key:"setM",value:function(n){throw new b("Invalid ordinate index: "+a.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case a.X:return this.x;case a.Y:return this.y;case a.Z:return this.getZ()}throw new b("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||B.isNaN(this.getZ())&&B.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof a&&this.equals2D(n)}},{key:"equalInZ",value:function(n,i){return W.equalsWithTolerance(this.getZ(),n.getZ(),i)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var i=n;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return se.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var i=this.x-n.x,o=this.y-n.y,h=this.getZ()-n.getZ();return Math.sqrt(i*i+o*o+h*h)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var i=this.x-n.x,o=this.y-n.y;return Math.sqrt(i*i+o*o)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+a.hashCode(this.x))+a.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[V,H,Q]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)a.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];a.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var i=arguments[0],o=arguments[1];a.constructor_.call(this,i,o,a.NULL_ORDINATE)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],_=arguments[2];this.x=h,this.y=g,this.z=_}}},{key:"hashCode",value:function(n){return de[0]=n,Ge[0]^Ge[1]}}])}(),lt=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"compare",value:function(n,i){var o=a.compare(n.x,i.x);if(o!==0)return o;var h=a.compare(n.y,i.y);return h!==0?h:this._dimensionsToTest<=2?0:a.compare(n.getZ(),i.getZ())}},{key:"interfaces_",get:function(){return[ne]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)a.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new b("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,i){return n<i?-1:n>i?1:B.isNaN(n)?B.isNaN(i)?0:-1:B.isNaN(i)?1:0}}])}();U.DimensionalComparator=lt,U.NULL_ORDINATE=B.NaN,U.X=0,U.Y=1,U.Z=2,U.M=3;var De=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof a))return!1;var i=n;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new a;var i=this._minx>n._minx?this._minx:n._minx,o=this._miny>n._miny?this._miny:n._miny;return new a(i,this._maxx<n._maxx?this._maxx:n._maxx,o,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof U){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof a){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&h>=this._miny&&h<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof U){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){if(arguments[0]instanceof U&&arguments[1]instanceof U){var o=arguments[0],h=arguments[1];return!this.isNull()&&!((o.x<h.x?o.x:h.x)>this._maxx)&&!((o.x>h.x?o.x:h.x)<this._minx)&&!((o.y<h.y?o.y:h.y)>this._maxy)&&!((o.y>h.y?o.y:h.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var g=arguments[0],_=arguments[1];return!this.isNull()&&!(g>this._maxx||g<this._minx||_>this._maxy||_<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return Math.sqrt(n*n+i*i)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof U){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof a){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=h,this._maxy=h):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),h<this._miny&&(this._miny=h),h>this._maxy&&(this._maxy=h))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return n<i?n:i}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var i=n;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0}},{key:"translate",value:function(n,i){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+i,this.getMaxY()+i)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return n>i?n:i}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof U){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];return this.covers(o,h)}}},{key:"centre",value:function(){return this.isNull()?null:new U((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof U){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof a){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this.init(o.x,h.x,o.y,h.y)}else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],E=arguments[3];g<_?(this._minx=g,this._maxx=_):(this._minx=_,this._maxx=g),x<E?(this._miny=x,this._maxy=E):(this._miny=E,this._maxy=x)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var i=0;this._maxx<n._minx?i=n._minx-this._maxx:this._minx>n._maxx&&(i=this._minx-n._maxx);var o=0;return this._maxy<n._miny?o=n._miny-this._maxy:this._miny>n._maxy&&(o=this._miny-n._maxy),i===0?o:o===0?i:Math.sqrt(i*i+o*o)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+U.hashCode(this._minx))+U.hashCode(this._maxx))+U.hashCode(this._miny))+U.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[V,Q]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof U){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof a){var i=arguments[0];this.init(i)}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this.init(o.x,h.x,o.y,h.y)}else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],E=arguments[3];this.init(g,_,x,E)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];return o.x>=(n.x<i.x?n.x:i.x)&&o.x<=(n.x>i.x?n.x:i.x)&&o.y>=(n.y<i.y?n.y:i.y)&&o.y<=(n.y>i.y?n.y:i.y)}if(arguments.length===4){var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],E=Math.min(_.x,x.x),O=Math.max(_.x,x.x),Z=Math.min(h.x,g.x),Y=Math.max(h.x,g.x);return!(Z>O)&&!(Y<E)&&(E=Math.min(_.y,x.y),O=Math.max(_.y,x.y),Z=Math.min(h.y,g.y),Y=Math.max(h.y,g.y),!(Z>O)&&!(Y<E))}}}])}(),me=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(a.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var i=arguments[0];return n=i,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(i)}if(arguments.length===2){var o=arguments[0],h=arguments[1];return n=o,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(o,h)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION)throw new b("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,i,o){return o===0?n.equals(i):n.distance(i)<=o}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new De(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,i){for(var o=n.iterator(),h=i.iterator();o.hasNext()&&h.hasNext();){var g=o.next(),_=h.next(),x=g.compareTo(_);if(x!==0)return x}return o.hasNext()?1:h.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===a.TYPECODE_MULTIPOINT||this.getTypeCode()===a.TYPECODE_MULTILINESTRING||this.getTypeCode()===a.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[H,V,Q]}},{key:"getClass",value:function(){return a}}],[{key:"hasNonEmptyElements",value:function(n){for(var i=0;i<n.length;i++)if(!n[i].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var i=0;i<n.length;i++)if(n[i]===null)return!0;return!1}}])}();me.constructor_=function(a){a&&(this._envelope=null,this._userData=null,this._factory=a,this._SRID=a.getSRID())},me.TYPECODE_POINT=0,me.TYPECODE_MULTIPOINT=1,me.TYPECODE_LINESTRING=2,me.TYPECODE_LINEARRING=3,me.TYPECODE_MULTILINESTRING=4,me.TYPECODE_POLYGON=5,me.TYPECODE_MULTIPOLYGON=6,me.TYPECODE_GEOMETRYCOLLECTION=7,me.TYPENAME_POINT="Point",me.TYPENAME_MULTIPOINT="MultiPoint",me.TYPENAME_LINESTRING="LineString",me.TYPENAME_LINEARRING="LinearRing",me.TYPENAME_MULTILINESTRING="MultiLineString",me.TYPENAME_POLYGON="Polygon",me.TYPENAME_MULTIPOLYGON="MultiPolygon",me.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",me.geometryChangedFilter={get interfaces_(){return[j]},filter:function(a){a.geometryChangedAction()}};var A=function(){function a(){c(this,a)}return p(a,null,[{key:"toLocationSymbol",value:function(n){switch(n){case a.EXTERIOR:return"e";case a.BOUNDARY:return"b";case a.INTERIOR:return"i";case a.NONE:return"-"}throw new b("Unknown location value: "+n)}}])}();A.INTERIOR=0,A.BOUNDARY=1,A.EXTERIOR=2,A.NONE=-1;var $e=function(){return p(function a(){c(this,a)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),kt=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({NoSuchElementException:n})[0],o}return w(n,a),p(n)}(F),tt=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({UnsupportedOperationException:n})[0],o}return w(n,a),p(n)}(F),ie=function(a){function n(){return c(this,n),u(this,n,arguments)}return w(n,a),p(n,[{key:"contains",value:function(){}}])}($e),we=function(a){function n(i){var o;return c(this,n),(o=u(this,n)).map=new Map,i instanceof $e&&o.addAll(i),o}return w(n,a),p(n,[{key:"contains",value:function(i){var o=i.hashCode?i.hashCode():i;return!!this.map.has(o)}},{key:"add",value:function(i){var o=i.hashCode?i.hashCode():i;return!this.map.has(o)&&!!this.map.set(o,i)}},{key:"addAll",value:function(i){var o,h=k(i);try{for(h.s();!(o=h.n()).done;){var g=o.value;this.add(g)}}catch(_){h.e(_)}finally{h.f()}return!0}},{key:"remove",value:function(){throw new tt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Me(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(ie),Me=function(){return p(function a(n){c(this,a),this.iterator=n.values();var i=this.iterator.next(),o=i.done,h=i.value;this.done=o,this.value=h},[{key:"next",value:function(){if(this.done)throw new kt;var a=this.value,n=this.iterator.next(),i=n.done,o=n.value;return this.done=i,this.value=o,a}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new tt}}])}(),K=function(){function a(){c(this,a)}return p(a,null,[{key:"opposite",value:function(n){return n===a.LEFT?a.RIGHT:n===a.RIGHT?a.LEFT:n}}])}();K.ON=0,K.LEFT=1,K.RIGHT=2;var Yt=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({EmptyStackException:n})[0],o}return w(n,a),p(n)}(F),dn=function(a){function n(i){var o;return c(this,n),(o=u(this,n,[i])).name=Object.keys({IndexOutOfBoundsException:n})[0],o}return w(n,a),p(n)}(F),Sn=function(a){function n(){return c(this,n),u(this,n,arguments)}return w(n,a),p(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}($e),Xr=function(a){function n(){var i;return c(this,n),(i=u(this,n)).array=[],i}return w(n,a),p(n,[{key:"add",value:function(i){return this.array.push(i),!0}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new dn;return this.array[i]}},{key:"push",value:function(i){return this.array.push(i),i}},{key:"pop",value:function(){if(this.array.length===0)throw new Yt;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Yt;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(i){return this.array.indexOf(i)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(Sn);function Re(a,n){return a.interfaces_&&a.interfaces_.indexOf(n)>-1}var ti=function(){return p(function a(n){c(this,a),this.str=n},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,n){this.str=this.str.substr(0,a)+n+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),Nn=function(){function a(n){c(this,a),this.value=n}return p(a,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,i){return n<i?-1:n>i?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new a(n)}}])}(),Wr=function(){return p(function a(){c(this,a)},null,[{key:"isWhitespace",value:function(a){return a<=32&&a>=0||a===127}},{key:"toUpperCase",value:function(a){return a.toUpperCase()}}])}(),Ce=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,i){var o=this.abs(),h=a.magnitude(o._hi),g=a.TEN.pow(h);(o=o.divide(g)).gt(a.TEN)?(o=o.divide(a.TEN),h+=1):o.lt(a.ONE)&&(o=o.multiply(a.TEN),h-=1);for(var _=h+1,x=new ti,E=a.MAX_PRINT_DIGITS-1,O=0;O<=E;O++){n&&O===_&&x.append(".");var Z=Math.trunc(o._hi);if(Z<0)break;var Y=!1,J=0;Z>9?(Y=!0,J="9"):J="0"+Z,x.append(J),o=o.subtract(a.valueOf(Z)).multiply(a.TEN),Y&&o.selfAdd(a.TEN);var he=!0,_e=a.magnitude(o._hi);if(_e<0&&Math.abs(_e)>=E-O&&(he=!1),!he)break}return i[0]=h,x.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof a){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var o,h,g,_,x=arguments[0],E=arguments[1],O=null,Z=null,Y=null,J=null;return g=this._hi/x,J=(O=(Y=a.SPLIT*g)-(O=Y-g))*(Z=(J=a.SPLIT*x)-(Z=J-x))-(_=g*x)+O*(h=x-Z)+(o=g-O)*Z+o*h,J=g+(Y=(this._hi-_-J+this._lo-g*E)/x),this._hi=J,this._lo=g-J+Y,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof a){var n,i,o,h,g=arguments[0],_=null,x=null,E=null,O=null;return n=(o=this._hi/g._hi)-(_=(E=a.SPLIT*o)-(_=E-o)),O=_*(x=(O=a.SPLIT*g._hi)-(x=O-g._hi))-(h=o*g._hi)+_*(i=g._hi-x)+n*x+n*i,new a(O=o+(E=(this._hi-h-O+this._lo-o*g._lo)/g._hi),o-O+E)}if(typeof arguments[0]=="number"){var Z=arguments[0];return B.isNaN(Z)?a.createNaN():a.copy(this).selfDivide(Z,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return a.valueOf(1);var i=new a(this),o=a.valueOf(1),h=Math.abs(n);if(h>1)for(;h>0;)h%2==1&&o.selfMultiply(i),(h/=2)>0&&(i=i.sqr());else o=i;return n<0?o.reciprocal():o}},{key:"ceil",value:function(){if(this.isNaN())return a.NaN;var n=Math.ceil(this._hi),i=0;return n===this._hi&&(i=Math.ceil(this._lo)),new a(n,i)}},{key:"compareTo",value:function(n){var i=n;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return a.valueOf(0);if(this.isNegative())return a.NaN;var n=1/Math.sqrt(this._hi),i=this._hi*n,o=a.valueOf(i),h=this.subtract(o.sqr())._hi*(.5*n);return o.add(h)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i,o,h,g,_,x=arguments[0],E=null;return E=(h=this._hi+x)-(g=h-this._hi),o=(_=(E=x-g+(this._hi-E))+this._lo)+(h-(i=h+_)),this._hi=i+o,this._lo=o+(i-this._hi),this}}else if(arguments.length===2){var O,Z,Y,J,he=arguments[0],_e=arguments[1],Se=null,je=null,Be=null;Y=this._hi+he,Z=this._lo+_e,je=Y-(Be=Y-this._hi),Se=Z-(J=Z-this._lo);var Je=(O=Y+(Be=(je=he-Be+(this._hi-je))+Z))+(Be=(Se=_e-J+(this._lo-Se))+(Be+(Y-O))),at=Be+(O-Je);return this._hi=Je,this._lo=at,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var o,h,g=arguments[0],_=arguments[1],x=null,E=null,O=null,Z=null;x=(O=a.SPLIT*this._hi)-this._hi,Z=a.SPLIT*g,x=O-x,o=this._hi-x,E=Z-g;var Y=(O=this._hi*g)+(Z=x*(E=Z-E)-O+x*(h=g-E)+o*E+o*h+(this._hi*_+this._lo*g)),J=Z+(x=O-Y);return this._hi=Y,this._lo=J,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return a.NaN;var n=Math.floor(this._hi),i=0;return n===this._hi&&(i=Math.floor(this._lo)),new a(n,i)}},{key:"negate",value:function(){return this.isNaN()?this:new a(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return n.isNaN()?a.createNaN():a.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var i=arguments[0];return B.isNaN(i)?a.createNaN():a.copy(this).selfMultiply(i,0)}}},{key:"isNaN",value:function(){return B.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=a.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var i=new Array(1).fill(null),o=this.extractSignificantDigits(!0,i),h=i[0]+1,g=o;if(o.charAt(0)===".")g="0"+o;else if(h<0)g="0."+a.stringOfChar("0",-h)+o;else if(o.indexOf(".")===-1){var _=h-o.length;g=o+a.stringOfChar("0",_)+".0"}return this.isNegative()?"-"+g:g}},{key:"reciprocal",value:function(){var n,i,o,h,g=null,_=null,x=null,E=null;n=(o=1/this._hi)-(g=(x=a.SPLIT*o)-(g=x-o)),_=(E=a.SPLIT*this._hi)-this._hi;var O=o+(x=(1-(h=o*this._hi)-(E=g*(_=E-_)-h+g*(i=this._hi-_)+n*_+n*i)-o*this._lo)/this._hi);return new a(O,o-O+x)}},{key:"toSciNotation",value:function(){if(this.isZero())return a.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var i=new Array(1).fill(null),o=this.extractSignificantDigits(!1,i),h=a.SCI_NOT_EXPONENT_CHAR+i[0];if(o.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+o);var g="";o.length>1&&(g=o.substring(1));var _=o.charAt(0)+"."+g;return this.isNegative()?"-"+_+h:_+h}},{key:"abs",value:function(){return this.isNaN()?a.NaN:this.isNegative()?this.negate():new a(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return a.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var i=arguments[0];return a.copy(this).selfAdd(i)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof a){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this._hi=o,this._lo=h}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?a.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[Q,V,H]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof a){var i=arguments[0];this.init(i)}else if(typeof arguments[0]=="string"){var o=arguments[0];a.constructor_.call(this,a.parse(o))}}else if(arguments.length===2){var h=arguments[0],g=arguments[1];this.init(h,g)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1],o=arguments[2],h=arguments[3];return a.determinant(a.valueOf(n),a.valueOf(i),a.valueOf(o),a.valueOf(h))}if(arguments[3]instanceof a&&arguments[2]instanceof a&&arguments[0]instanceof a&&arguments[1]instanceof a){var g=arguments[1],_=arguments[2],x=arguments[3];return arguments[0].multiply(x).selfSubtract(g.multiply(_))}}},{key:"sqr",value:function(n){return a.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return a.parse(n)}if(typeof arguments[0]=="number")return new a(arguments[0])}},{key:"sqrt",value:function(n){return a.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var i=0,o=n.length;Wr.isWhitespace(n.charAt(i));)i++;var h=!1;if(i<o){var g=n.charAt(i);g!=="-"&&g!=="+"||(i++,g==="-"&&(h=!0))}for(var _=new a,x=0,E=0,O=0,Z=!1;!(i>=o);){var Y=n.charAt(i);if(i++,Wr.isDigit(Y)){var J=Y-"0";_.selfMultiply(a.TEN),_.selfAdd(J),x++}else{if(Y!=="."){if(Y==="e"||Y==="E"){var he=n.substring(i);try{O=Nn.parseInt(he)}catch(Je){throw Je instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+he+" in string "+n):Je}break}throw new NumberFormatException("Unexpected character '"+Y+"' at position "+i+" in string "+n)}E=x,Z=!0}}var _e=_;Z||(E=x);var Se=x-E-O;if(Se===0)_e=_;else if(Se>0){var je=a.TEN.pow(Se);_e=_.divide(je)}else if(Se<0){var Be=a.TEN.pow(-Se);_e=_.multiply(Be)}return h?_e.negate():_e}},{key:"createNaN",value:function(){return new a(B.NaN,B.NaN)}},{key:"copy",value:function(n){return new a(n)}},{key:"magnitude",value:function(n){var i=Math.abs(n),o=Math.log(i)/Math.log(10),h=Math.trunc(Math.floor(o));return 10*Math.pow(10,h)<=i&&(h+=1),h}},{key:"stringOfChar",value:function(n,i){for(var o=new ti,h=0;h<i;h++)o.append(n);return o.toString()}}])}();Ce.PI=new Ce(3.141592653589793,12246467991473532e-32),Ce.TWO_PI=new Ce(6.283185307179586,24492935982947064e-32),Ce.PI_2=new Ce(1.5707963267948966,6123233995736766e-32),Ce.E=new Ce(2.718281828459045,14456468917292502e-32),Ce.NaN=new Ce(B.NaN,B.NaN),Ce.EPS=123259516440783e-46,Ce.SPLIT=134217729,Ce.MAX_PRINT_DIGITS=32,Ce.TEN=Ce.valueOf(10),Ce.ONE=Ce.valueOf(1),Ce.SCI_NOT_EXPONENT_CHAR="E",Ce.SCI_NOT_ZERO="0.0E0";var to=function(){function a(){c(this,a)}return p(a,null,[{key:"orientationIndex",value:function(n,i,o){var h=a.orientationIndexFilter(n,i,o);if(h<=1)return h;var g=Ce.valueOf(i.x).selfAdd(-n.x),_=Ce.valueOf(i.y).selfAdd(-n.y),x=Ce.valueOf(o.x).selfAdd(-i.x),E=Ce.valueOf(o.y).selfAdd(-i.y);return g.selfMultiply(E).selfSubtract(_.selfMultiply(x)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Ce&&arguments[2]instanceof Ce&&arguments[0]instanceof Ce&&arguments[1]instanceof Ce){var n=arguments[1],i=arguments[2],o=arguments[3];return arguments[0].multiply(o).selfSubtract(n.multiply(i)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],E=Ce.valueOf(h),O=Ce.valueOf(g),Z=Ce.valueOf(_),Y=Ce.valueOf(x);return E.multiply(Y).selfSubtract(O.multiply(Z)).signum()}}},{key:"intersection",value:function(n,i,o,h){var g=new Ce(n.y).selfSubtract(i.y),_=new Ce(i.x).selfSubtract(n.x),x=new Ce(n.x).selfMultiply(i.y).selfSubtract(new Ce(i.x).selfMultiply(n.y)),E=new Ce(o.y).selfSubtract(h.y),O=new Ce(h.x).selfSubtract(o.x),Z=new Ce(o.x).selfMultiply(h.y).selfSubtract(new Ce(h.x).selfMultiply(o.y)),Y=_.multiply(Z).selfSubtract(O.multiply(x)),J=E.multiply(x).selfSubtract(g.multiply(Z)),he=g.multiply(O).selfSubtract(E.multiply(_)),_e=Y.selfDivide(he).doubleValue(),Se=J.selfDivide(he).doubleValue();return B.isNaN(_e)||B.isInfinite(_e)||B.isNaN(Se)||B.isInfinite(Se)?null:new U(_e,Se)}},{key:"orientationIndexFilter",value:function(n,i,o){var h=null,g=(n.x-o.x)*(i.y-o.y),_=(n.y-o.y)*(i.x-o.x),x=g-_;if(g>0){if(_<=0)return a.signum(x);h=g+_}else{if(!(g<0)||_>=0)return a.signum(x);h=-g-_}var E=a.DP_SAFE_EPSILON*h;return x>=E||-x>=E?a.signum(x):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])}();to.DP_SAFE_EPSILON=1e-15;var Ue=function(){return p(function a(){c(this,a)},[{key:"getM",value:function(a){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(a,n)}return B.NaN}},{key:"setOrdinate",value:function(a,n,i){}},{key:"getZ",value:function(a){return this.hasZ()?this.getOrdinate(a,2):B.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(a,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(a){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(a){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(a){}},{key:"copy",value:function(){}},{key:"getY",value:function(a){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[H]}}])}();Ue.X=0,Ue.Y=1,Ue.Z=2,Ue.M=3;var Pe=function(){function a(){c(this,a)}return p(a,null,[{key:"index",value:function(n,i,o){return to.orientationIndex(n,i,o)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],i=n.length-1;if(i<3)throw new b("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=n[0],h=0,g=1;g<=i;g++){var _=n[g];_.y>o.y&&(o=_,h=g)}var x=h;do(x-=1)<0&&(x=i);while(n[x].equals2D(o)&&x!==h);var E=h;do E=(E+1)%i;while(n[E].equals2D(o)&&E!==h);var O=n[x],Z=n[E];if(O.equals2D(o)||Z.equals2D(o)||O.equals2D(Z))return!1;var Y=a.index(O,o,Z);return Y===0?O.x>Z.x:Y>0}if(Re(arguments[0],Ue)){var J=arguments[0],he=J.size()-1;if(he<3)throw new b("Ring has fewer than 4 points, so orientation cannot be determined");for(var _e=J.getCoordinate(0),Se=0,je=1;je<=he;je++){var Be=J.getCoordinate(je);Be.y>_e.y&&(_e=Be,Se=je)}var Je=null,at=Se;do(at-=1)<0&&(at=he),Je=J.getCoordinate(at);while(Je.equals2D(_e)&&at!==Se);var Nt=null,li=Se;do li=(li+1)%he,Nt=J.getCoordinate(li);while(Nt.equals2D(_e)&&li!==Se);if(Je.equals2D(_e)||Nt.equals2D(_e)||Je.equals2D(Nt))return!1;var Pr=a.index(Je,_e,Nt);return Pr===0?Je.x>Nt.x:Pr>0}}}])}();Pe.CLOCKWISE=-1,Pe.RIGHT=Pe.CLOCKWISE,Pe.COUNTERCLOCKWISE=1,Pe.LEFT=Pe.COUNTERCLOCKWISE,Pe.COLLINEAR=0,Pe.STRAIGHT=Pe.COLLINEAR;var Rl=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(a,n){var i=this.getRightmostSideOfSegment(a,n);return i<0&&(i=this.getRightmostSideOfSegment(a,n-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),i}},{key:"findRightmostEdgeAtVertex",value:function(){var a=this._minDe.getEdge().getCoordinates();se.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var n=a[this._minIndex-1],i=a[this._minIndex+1],o=Pe.index(this._minCoord,i,n),h=!1;(n.y<this._minCoord.y&&i.y<this._minCoord.y&&o===Pe.COUNTERCLOCKWISE||n.y>this._minCoord.y&&i.y>this._minCoord.y&&o===Pe.CLOCKWISE)&&(h=!0),h&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(a,n){var i=a.getEdge().getCoordinates();if(n<0||n+1>=i.length||i[n].y===i[n+1].y)return-1;var o=K.LEFT;return i[n].y<i[n+1].y&&(o=K.RIGHT),o}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(a){for(var n=a.getEdge().getCoordinates(),i=0;i<n.length-1;i++)(this._minCoord===null||n[i].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=i,this._minCoord=n[i])}},{key:"findRightmostEdgeAtNode",value:function(){var a=this._minDe.getNode().getEdges();this._minDe=a.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(a){for(var n=a.iterator();n.hasNext();){var i=n.next();i.isForward()&&this.checkForRightmostCoordinate(i)}se.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===K.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),In=function(a){function n(i,o){var h;return c(this,n),(h=u(this,n,[o?i+" [ "+o+" ]":i])).pt=o?new U(o):void 0,h.name=Object.keys({TopologyException:n})[0],h}return w(n,a),p(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(fe),no=function(){return p(function a(){c(this,a),this.array=[]},[{key:"addLast",value:function(a){this.array.push(a)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),Le=function(a){function n(i){var o;return c(this,n),(o=u(this,n)).array=[],i instanceof $e&&o.addAll(i),o}return w(n,a),p(n,[{key:"interfaces_",get:function(){return[Sn,$e]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(i){return arguments.length===1?this.array.push(i):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(i){var o,h=k(i);try{for(h.s();!(o=h.n()).done;){var g=o.value;this.array.push(g)}}catch(_){h.e(_)}finally{h.f()}}},{key:"set",value:function(i,o){var h=this.array[i];return this.array[i]=o,h}},{key:"iterator",value:function(){return new Al(this)}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new dn;return this.array[i]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(i){i?this.array.sort(function(o,h){return i.compare(o,h)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(i){for(var o=0,h=this.array.length;o<h;o++)if(this.array[o]===i)return!!this.array.splice(o,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(Sn),Al=function(){return p(function a(n){c(this,a),this.arrayList=n,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new kt;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(a){return this.arrayList.set(this.position-1,a)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),pr=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(a){for(var n=null,i=a.getEdges().iterator();i.hasNext();){var o=i.next();if(o.isVisited()||o.getSym().isVisited()){n=o;break}}if(n===null)throw new In("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(n);for(var h=a.getEdges().iterator();h.hasNext();){var g=h.next();g.setVisited(!0),this.copySymDepths(g)}}},{key:"computeDepth",value:function(a){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths(K.RIGHT,a),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var n=a.next();n.getDepth(K.RIGHT)>=1&&n.getDepth(K.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(a){var n=new we,i=new no,o=a.getNode();for(i.addLast(o),n.add(o),a.setVisited(!0);!i.isEmpty();){var h=i.removeFirst();n.add(h),this.computeNodeDepth(h);for(var g=h.getEdges().iterator();g.hasNext();){var _=g.next().getSym();if(!_.isVisited()){var x=_.getNode();n.contains(x)||(i.addLast(x),n.add(x))}}}}},{key:"compareTo",value:function(a){var n=a;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var a=new De,n=this._dirEdgeList.iterator();n.hasNext();)for(var i=n.next().getEdge().getCoordinates(),o=0;o<i.length-1;o++)a.expandToInclude(i[o]);this._env=a}return this._env}},{key:"addReachable",value:function(a){var n=new Xr;for(n.add(a);!n.empty();){var i=n.pop();this.add(i,n)}}},{key:"copySymDepths",value:function(a){var n=a.getSym();n.setDepth(K.LEFT,a.getDepth(K.RIGHT)),n.setDepth(K.RIGHT,a.getDepth(K.LEFT))}},{key:"add",value:function(a,n){a.setVisited(!0),this._nodes.add(a);for(var i=a.getEdges().iterator();i.hasNext();){var o=i.next();this._dirEdgeList.add(o);var h=o.getSym().getNode();h.isVisited()||n.push(h)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Le,this._nodes=new Le,this._rightMostCoord=null,this._env=null,this._finder=new Rl}}])}(),io=function(){return p(function a(){c(this,a)},null,[{key:"intersection",value:function(a,n,i,o){var h=a.x<n.x?a.x:n.x,g=a.y<n.y?a.y:n.y,_=a.x>n.x?a.x:n.x,x=a.y>n.y?a.y:n.y,E=i.x<o.x?i.x:o.x,O=i.y<o.y?i.y:o.y,Z=i.x>o.x?i.x:o.x,Y=i.y>o.y?i.y:o.y,J=((h>E?h:E)+(_<Z?_:Z))/2,he=((g>O?g:O)+(x<Y?x:Y))/2,_e=a.x-J,Se=a.y-he,je=n.x-J,Be=n.y-he,Je=i.x-J,at=i.y-he,Nt=o.x-J,li=o.y-he,Pr=Se-Be,Dn=je-_e,Po=_e*Be-je*Se,Oo=at-li,Vi=Nt-Je,Ha=Je*li-Nt*at,Or=Pr*Vi-Oo*Dn,Ni=(Dn*Ha-Vi*Po)/Or,vs=(Oo*Po-Pr*Ha)/Or;return B.isNaN(Ni)||B.isInfinite(Ni)||B.isNaN(vs)||B.isInfinite(vs)?null:new U(Ni+J,vs+he)}}])}(),rn=function(){return p(function a(){c(this,a)},null,[{key:"arraycopy",value:function(a,n,i,o,h){for(var g=0,_=n;_<n+h;_++)i[o+g]=a[_],g++}},{key:"getProperty",value:function(a){return{"line.separator":`
`}[a]}}])}(),zi=function(){function a(){c(this,a)}return p(a,null,[{key:"log10",value:function(n){var i=Math.log(n);return B.isInfinite(i)||B.isNaN(i)?i:i/a.LOG_10}},{key:"min",value:function(n,i,o,h){var g=n;return i<g&&(g=i),o<g&&(g=o),h<g&&(g=h),g}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1],o=arguments[2];return n<i?i:n>o?o:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1],_=arguments[2];return h<g?g:h>_?_:h}}},{key:"wrap",value:function(n,i){return n<0?i- -n%i:n%i}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],i=arguments[2],o=arguments[0];return n>o&&(o=n),i>o&&(o=i),o}if(arguments.length===4){var h=arguments[1],g=arguments[2],_=arguments[3],x=arguments[0];return h>x&&(x=h),g>x&&(x=g),_>x&&(x=_),x}}},{key:"average",value:function(n,i){return(n+i)/2}}])}();zi.LOG_10=Math.log(10);var gn=function(){function a(){c(this,a)}return p(a,null,[{key:"segmentToSegment",value:function(n,i,o,h){if(n.equals(i))return a.pointToSegment(n,o,h);if(o.equals(h))return a.pointToSegment(h,n,i);var g=!1;if(De.intersects(n,i,o,h)){var _=(i.x-n.x)*(h.y-o.y)-(i.y-n.y)*(h.x-o.x);if(_===0)g=!0;else{var x=(n.y-o.y)*(h.x-o.x)-(n.x-o.x)*(h.y-o.y),E=((n.y-o.y)*(i.x-n.x)-(n.x-o.x)*(i.y-n.y))/_,O=x/_;(O<0||O>1||E<0||E>1)&&(g=!0)}}else g=!0;return g?zi.min(a.pointToSegment(n,o,h),a.pointToSegment(i,o,h),a.pointToSegment(o,n,i),a.pointToSegment(h,n,i)):0}},{key:"pointToSegment",value:function(n,i,o){if(i.x===o.x&&i.y===o.y)return n.distance(i);var h=(o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y),g=((n.x-i.x)*(o.x-i.x)+(n.y-i.y)*(o.y-i.y))/h;if(g<=0)return n.distance(i);if(g>=1)return n.distance(o);var _=((i.y-n.y)*(o.x-i.x)-(i.x-n.x)*(o.y-i.y))/h;return Math.abs(_)*Math.sqrt(h)}},{key:"pointToLinePerpendicular",value:function(n,i,o){var h=(o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y),g=((i.y-n.y)*(o.x-i.x)-(i.x-n.x)*(o.y-i.y))/h;return Math.abs(g)*Math.sqrt(h)}},{key:"pointToSegmentString",value:function(n,i){if(i.length===0)throw new b("Line array must contain at least one vertex");for(var o=n.distance(i[0]),h=0;h<i.length-1;h++){var g=a.pointToSegment(n,i[h],i[h+1]);g<o&&(o=g)}return o}}])}(),ro=function(){return p(function a(){c(this,a)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Re(arguments[0],Ue);else if(arguments.length!==2){if(arguments.length===3){var a=arguments[0],n=arguments[1];return this.create(a,n)}}}}])}(),$r=function(){return p(function a(){c(this,a)},[{key:"filter",value:function(a){}}])}(),Dl=function(){return p(function a(){c(this,a)},null,[{key:"ofLine",value:function(a){var n=a.size();if(n<=1)return 0;var i=0,o=new U;a.getCoordinate(0,o);for(var h=o.x,g=o.y,_=1;_<n;_++){a.getCoordinate(_,o);var x=o.x,E=o.y,O=x-h,Z=E-g;i+=Math.sqrt(O*O+Z*Z),h=x,g=E}return i}}])}(),Ta=p(function a(){c(this,a)}),_i=function(){function a(){c(this,a)}return p(a,null,[{key:"copyCoord",value:function(n,i,o,h){for(var g=Math.min(n.getDimension(),o.getDimension()),_=0;_<g;_++)o.setOrdinate(h,_,n.getOrdinate(i,_))}},{key:"isRing",value:function(n){var i=n.size();return i===0||!(i<=3)&&n.getOrdinate(0,Ue.X)===n.getOrdinate(i-1,Ue.X)&&n.getOrdinate(0,Ue.Y)===n.getOrdinate(i-1,Ue.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Re(arguments[0],Ue)&&Number.isInteger(arguments[1])){var n=arguments[0],i=arguments[1];a.scroll(n,i,a.isRing(n))}else if(Re(arguments[0],Ue)&&arguments[1]instanceof U){var o=arguments[0],h=arguments[1],g=a.indexOf(h,o);if(g<=0)return null;a.scroll(o,g)}}else if(arguments.length===3){var _=arguments[0],x=arguments[1],E=arguments[2];if(x<=0)return null;for(var O=_.copy(),Z=E?_.size()-1:_.size(),Y=0;Y<Z;Y++)for(var J=0;J<_.getDimension();J++)_.setOrdinate(Y,J,O.getOrdinate((x+Y)%Z,J));if(E)for(var he=0;he<_.getDimension();he++)_.setOrdinate(Z,he,_.getOrdinate(0,he))}}},{key:"isEqual",value:function(n,i){var o=n.size();if(o!==i.size())return!1;for(var h=Math.min(n.getDimension(),i.getDimension()),g=0;g<o;g++)for(var _=0;_<h;_++){var x=n.getOrdinate(g,_),E=i.getOrdinate(g,_);if(n.getOrdinate(g,_)!==i.getOrdinate(g,_)&&(!B.isNaN(x)||!B.isNaN(E)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return a.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var i=arguments[0],o=arguments[2],h=-1,g=null,_=arguments[1];_<=o;_++){var x=i.getCoordinate(_);(g===null||g.compareTo(x)>0)&&(g=x,h=_)}return h}}},{key:"extend",value:function(n,i,o){var h=n.create(o,i.getDimension()),g=i.size();if(a.copy(i,0,h,0,g),g>0)for(var _=g;_<o;_++)a.copy(i,g-1,h,_,1);return h}},{key:"reverse",value:function(n){for(var i=n.size()-1,o=Math.trunc(i/2),h=0;h<=o;h++)a.swap(n,h,i-h)}},{key:"swap",value:function(n,i,o){if(i===o)return null;for(var h=0;h<n.getDimension();h++){var g=n.getOrdinate(i,h);n.setOrdinate(i,h,n.getOrdinate(o,h)),n.setOrdinate(o,h,g)}}},{key:"copy",value:function(n,i,o,h,g){for(var _=0;_<g;_++)a.copyCoord(n,i+_,o,h+_)}},{key:"ensureValidRing",value:function(n,i){var o=i.size();return o===0?i:o<=3?a.createClosedRing(n,i,4):i.getOrdinate(0,Ue.X)===i.getOrdinate(o-1,Ue.X)&&i.getOrdinate(0,Ue.Y)===i.getOrdinate(o-1,Ue.Y)?i:a.createClosedRing(n,i,o+1)}},{key:"indexOf",value:function(n,i){for(var o=0;o<i.size();o++)if(n.x===i.getOrdinate(o,Ue.X)&&n.y===i.getOrdinate(o,Ue.Y))return o;return-1}},{key:"createClosedRing",value:function(n,i,o){var h=n.create(o,i.getDimension()),g=i.size();a.copy(i,0,h,0,g);for(var _=g;_<o;_++)a.copy(i,0,h,_,1);return h}},{key:"minCoordinate",value:function(n){for(var i=null,o=0;o<n.size();o++){var h=n.getCoordinate(o);(i===null||i.compareTo(h)>0)&&(i=h)}return i}}])}(),ce=function(){function a(){c(this,a)}return p(a,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case a.FALSE:return a.SYM_FALSE;case a.TRUE:return a.SYM_TRUE;case a.DONTCARE:return a.SYM_DONTCARE;case a.P:return a.SYM_P;case a.L:return a.SYM_L;case a.A:return a.SYM_A}throw new b("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(Wr.toUpperCase(n)){case a.SYM_FALSE:return a.FALSE;case a.SYM_TRUE:return a.TRUE;case a.SYM_DONTCARE:return a.DONTCARE;case a.SYM_P:return a.P;case a.SYM_L:return a.L;case a.SYM_A:return a.A}throw new b("Unknown dimension symbol: "+n)}}])}();ce.P=0,ce.L=1,ce.A=2,ce.FALSE=-1,ce.TRUE=-2,ce.DONTCARE=-3,ce.SYM_FALSE="F",ce.SYM_TRUE="T",ce.SYM_DONTCARE="*",ce.SYM_P="0",ce.SYM_L="1",ce.SYM_A="2";var Qr=function(){return p(function a(){c(this,a)},[{key:"filter",value:function(a){}}])}(),Fi=function(){return p(function a(){c(this,a)},[{key:"filter",value:function(a,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),vr=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new De:this._points.expandEnvelope(new De)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var h=i;if(this._points.size()!==h._points.size())return!1;for(var g=0;g<this._points.size();g++)if(!this.equal(this._points.getCoordinate(g),h._points.getCoordinate(g),o))return!1;return!0}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<Math.trunc(this._points.size()/2);i++){var o=this._points.size()-1-i;if(!this._points.getCoordinate(i).equals(this._points.getCoordinate(o))){if(this._points.getCoordinate(i).compareTo(this._points.getCoordinate(o))>0){var h=this._points.copy();_i.reverse(h),this._points=h}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ce.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var i=this._points.copy();return _i.reverse(i),this.getFactory().createLineString(i)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return me.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Dl.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var i=arguments[0],o=0,h=0;o<this._points.size()&&h<i._points.size();){var g=this._points.getCoordinate(o).compareTo(i._points.getCoordinate(h));if(g!==0)return g;o++,h++}return o<this._points.size()?1:h<i._points.size()?-1:0}if(arguments.length===2){var _=arguments[0];return arguments[1].compare(this._points,_._points)}}},{key:"apply",value:function(){if(Re(arguments[0],$r))for(var i=arguments[0],o=0;o<this._points.size();o++)i.filter(this._points.getCoordinate(o));else if(Re(arguments[0],Fi)){var h=arguments[0];if(this._points.size()===0)return null;for(var g=0;g<this._points.size()&&(h.filter(this._points,g),!h.isDone());g++);h.isGeometryChanged()&&this.geometryChanged()}else Re(arguments[0],Qr)?arguments[0].filter(this):Re(arguments[0],j)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new tt}},{key:"isEquivalentClass",value:function(i){return i instanceof n}},{key:"getCoordinateN",value:function(i){return this._points.getCoordinate(i)}},{key:"getGeometryType",value:function(){return me.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new b("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i}},{key:"isCoordinate",value:function(i){for(var o=0;o<this._points.size();o++)if(this._points.getCoordinate(o).equals(i))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))}},{key:"interfaces_",get:function(){return[Ta]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],o=arguments[1];me.constructor_.call(this,o),this.init(i)}}}}])}(me),Pa=p(function a(){c(this,a)}),so=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new De;var i=new De;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&(!(!this.isEmpty()||!i.isEmpty())||this.isEmpty()===i.isEmpty()&&this.equal(i.getCoordinate(),this.getCoordinate(),o))}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ce.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return me.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0];return this.getCoordinate().compareTo(i.getCoordinate())}if(arguments.length===2){var o=arguments[0];return arguments[1].compare(this._coordinates,o._coordinates)}}},{key:"apply",value:function(){if(Re(arguments[0],$r)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(Re(arguments[0],Fi)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this._coordinates,0),o.isGeometryChanged()&&this.geometryChanged()}else Re(arguments[0],Qr)?arguments[0].filter(this):Re(arguments[0],j)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return me.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),se.isTrue(i.size()<=1),this._coordinates=i}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Pa]}}],[{key:"constructor_",value:function(){this._coordinates=null;var i=arguments[0],o=arguments[1];me.constructor_.call(this,o),this.init(i)}}])}(me),Oa=function(){function a(){c(this,a)}return p(a,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(a.ofRingSigned(n))}if(Re(arguments[0],Ue)){var i=arguments[0];return Math.abs(a.ofRingSigned(i))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var i=0,o=n[0].x,h=1;h<n.length-1;h++){var g=n[h].x-o,_=n[h+1].y;i+=g*(n[h-1].y-_)}return i/2}if(Re(arguments[0],Ue)){var x=arguments[0],E=x.size();if(E<3)return 0;var O=new U,Z=new U,Y=new U;x.getCoordinate(0,Z),x.getCoordinate(1,Y);var J=Z.x;Y.x-=J;for(var he=0,_e=1;_e<E-1;_e++)O.y=Z.y,Z.x=Y.x,Z.y=Y.y,x.getCoordinate(_e+1,Y),Y.x-=J,he+=Z.x*(O.y-Y.y);return he/2}}}])}(),Ct=function(){return p(function a(){c(this,a)},null,[{key:"sort",value:function(){var a=arguments,n=arguments[0];if(arguments.length===1)n.sort(function(J,he){return J.compareTo(he)});else if(arguments.length===2)n.sort(function(J,he){return a[1].compare(J,he)});else if(arguments.length===3){var i=n.slice(arguments[1],arguments[2]);i.sort();var o=n.slice(0,arguments[1]).concat(i,n.slice(arguments[2],n.length));n.splice(0,n.length);var h,g=k(o);try{for(g.s();!(h=g.n()).done;){var _=h.value;n.push(_)}}catch(J){g.e(J)}finally{g.f()}}else if(arguments.length===4){var x=n.slice(arguments[1],arguments[2]);x.sort(function(J,he){return a[3].compare(J,he)});var E=n.slice(0,arguments[1]).concat(x,n.slice(arguments[2],n.length));n.splice(0,n.length);var O,Z=k(E);try{for(Z.s();!(O=Z.n()).done;){var Y=O.value;n.push(Y)}}catch(J){Z.e(J)}finally{Z.f()}}}},{key:"asList",value:function(a){var n,i=new Le,o=k(a);try{for(o.s();!(n=o.n()).done;){var h=n.value;i.add(h)}}catch(g){o.e(g)}finally{o.f()}return i}},{key:"copyOf",value:function(a,n){return a.slice(0,n)}}])}(),Ee=p(function a(){c(this,a)}),_r=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var i=new Array(this.getNumPoints()).fill(null),o=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)i[++o]=h[g];for(var _=0;_<this._holes.length;_++)for(var x=this._holes[_].getCoordinates(),E=0;E<x.length;E++)i[++o]=x[E];return i}},{key:"getArea",value:function(){var i=0;i+=Oa.ofRing(this._shell.getCoordinateSequence());for(var o=0;o<this._holes.length;o++)i-=Oa.ofRing(this._holes[o].getCoordinateSequence());return i}},{key:"copyInternal",value:function(){for(var i=this._shell.copy(),o=new Array(this._holes.length).fill(null),h=0;h<this._holes.length;h++)o[h]=this._holes[h].copy();return new n(i,o,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),o=this.getEnvelopeInternal(),h=0;h<5;h++){var g=i.getX(h);if(g!==o.getMinX()&&g!==o.getMaxX())return!1;var _=i.getY(h);if(_!==o.getMinY()&&_!==o.getMaxY())return!1}for(var x=i.getX(0),E=i.getY(0),O=1;O<=4;O++){var Z=i.getX(O),Y=i.getY(O);if(Z!==x==(Y!==E))return!1;x=Z,E=Y}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var h=i,g=this._shell,_=h._shell;if(!g.equalsExact(_,o)||this._holes.length!==h._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!this._holes[x].equalsExact(h._holes[x],o))return!1;return!0}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var i=0;i<this._holes.length;i++)this._holes[i]=this.normalized(this._holes[i],!1);Ct.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],h=arguments[1];if(o.isEmpty())return null;var g=o.getCoordinateSequence(),_=_i.minCoordinateIndex(g,0,g.size()-2);_i.scroll(g,_,!0),Pe.isCCW(g)===h&&_i.reverse(g)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var i=this.getExteriorRing().reverse(),o=new Array(this.getNumInteriorRing()).fill(null),h=0;h<o.length;h++)o[h]=this.getInteriorRingN(h).reverse();return this.getFactory().createPolygon(i,o)}},{key:"getTypeCode",value:function(){return me.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var i=0;i+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)i+=this._holes[o].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)i+=this._holes[o].getNumPoints();return i}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(i,o){var h=i.copy();return this.normalize(h,o),h}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],o=this._shell,h=i._shell;return o.compareToSameClass(h)}if(arguments.length===2){var g=arguments[1],_=arguments[0],x=this._shell,E=_._shell,O=x.compareToSameClass(E,g);if(O!==0)return O;for(var Z=this.getNumInteriorRing(),Y=_.getNumInteriorRing(),J=0;J<Z&&J<Y;){var he=this.getInteriorRingN(J),_e=_.getInteriorRingN(J),Se=he.compareToSameClass(_e,g);if(Se!==0)return Se;J++}return J<Z?1:J<Y?-1:0}}},{key:"apply",value:function(){if(Re(arguments[0],$r)){var i=arguments[0];this._shell.apply(i);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(i)}else if(Re(arguments[0],Fi)){var h=arguments[0];if(this._shell.apply(h),!h.isDone())for(var g=0;g<this._holes.length&&(this._holes[g].apply(h),!h.isDone());g++);h.isGeometryChanged()&&this.geometryChanged()}else if(Re(arguments[0],Qr))arguments[0].filter(this);else if(Re(arguments[0],j)){var _=arguments[0];_.filter(this),this._shell.apply(_);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(_)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var i=new Array(this._holes.length+1).fill(null);i[0]=this._shell;for(var o=0;o<this._holes.length;o++)i[o+1]=this._holes[o];return i.length<=1?this.getFactory().createLinearRing(i[0].getCoordinateSequence()):this.getFactory().createMultiLineString(i)}},{key:"getGeometryType",value:function(){return me.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(i){return this._holes[i]}},{key:"interfaces_",get:function(){return[Ee]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var i=arguments[0],o=arguments[1],h=arguments[2];if(me.constructor_.call(this,h),i===null&&(i=this.getFactory().createLinearRing()),o===null&&(o=[]),me.hasNullElements(o))throw new b("holes must not contain null elements");if(i.isEmpty()&&me.hasNonEmptyElements(o))throw new b("shell is empty but holes are not");this._shell=i,this._holes=o}}])}(me),Ma=function(a){function n(){return c(this,n),u(this,n,arguments)}return w(n,a),p(n)}(ie),oo=function(a){function n(i){var o;return c(this,n),(o=u(this,n)).array=[],i instanceof $e&&o.addAll(i),o}return w(n,a),p(n,[{key:"contains",value:function(i){var o,h=k(this.array);try{for(h.s();!(o=h.n()).done;)if(o.value.compareTo(i)===0)return!0}catch(g){h.e(g)}finally{h.f()}return!1}},{key:"add",value:function(i){if(this.contains(i))return!1;for(var o=0,h=this.array.length;o<h;o++)if(this.array[o].compareTo(i)===1)return!!this.array.splice(o,0,i);return this.array.push(i),!0}},{key:"addAll",value:function(i){var o,h=k(i);try{for(h.s();!(o=h.n()).done;){var g=o.value;this.add(g)}}catch(_){h.e(_)}finally{h.f()}return!0}},{key:"remove",value:function(){throw new tt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Ra(this.array)}}])}(Ma),Ra=function(){return p(function a(n){c(this,a),this.array=n,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new kt;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new tt}}])}(),zt=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"computeEnvelopeInternal",value:function(){for(var i=new De,o=0;o<this._geometries.length;o++)i.expandToInclude(this._geometries[o].getEnvelopeInternal());return i}},{key:"getGeometryN",value:function(i){return this._geometries[i]}},{key:"getCoordinates",value:function(){for(var i=new Array(this.getNumPoints()).fill(null),o=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),_=0;_<g.length;_++)i[++o]=g[_];return i}},{key:"getArea",value:function(){for(var i=0,o=0;o<this._geometries.length;o++)i+=this._geometries[o].getArea();return i}},{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var h=i;if(this._geometries.length!==h._geometries.length)return!1;for(var g=0;g<this._geometries.length;g++)if(!this._geometries[g].equalsExact(h._geometries[g],o))return!1;return!0}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<this._geometries.length;i++)this._geometries[i].normalize();Ct.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var i=ce.FALSE,o=0;o<this._geometries.length;o++)i=Math.max(i,this._geometries[o].getBoundaryDimension());return i}},{key:"reverseInternal",value:function(){for(var i=this._geometries.length,o=new Le(i),h=0;h<i;h++)o.add(this._geometries[h].reverse());return this.getFactory().buildGeometry(o)}},{key:"getTypeCode",value:function(){return me.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var i=ce.FALSE,o=0;o<this._geometries.length;o++)i=Math.max(i,this._geometries[o].getDimension());return i}},{key:"getLength",value:function(){for(var i=0,o=0;o<this._geometries.length;o++)i+=this._geometries[o].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=0,o=0;o<this._geometries.length;o++)i+=this._geometries[o].getNumPoints();return i}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],o=new oo(Ct.asList(this._geometries)),h=new oo(Ct.asList(i._geometries));return this.compare(o,h)}if(arguments.length===2){for(var g=arguments[1],_=arguments[0],x=this.getNumGeometries(),E=_.getNumGeometries(),O=0;O<x&&O<E;){var Z=this.getGeometryN(O),Y=_.getGeometryN(O),J=Z.compareToSameClass(Y,g);if(J!==0)return J;O++}return O<x?1:O<E?-1:0}}},{key:"apply",value:function(){if(Re(arguments[0],$r))for(var i=arguments[0],o=0;o<this._geometries.length;o++)this._geometries[o].apply(i);else if(Re(arguments[0],Fi)){var h=arguments[0];if(this._geometries.length===0)return null;for(var g=0;g<this._geometries.length&&(this._geometries[g].apply(h),!h.isDone());g++);h.isGeometryChanged()&&this.geometryChanged()}else if(Re(arguments[0],Qr)){var _=arguments[0];_.filter(this);for(var x=0;x<this._geometries.length;x++)this._geometries[x].apply(_)}else if(Re(arguments[0],j)){var E=arguments[0];E.filter(this);for(var O=0;O<this._geometries.length;O++)this._geometries[O].apply(E)}}},{key:"getBoundary",value:function(){return me.checkNotGeometryCollection(this),se.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return me.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],o=arguments[1];if(me.constructor_.call(this,o),i===null&&(i=[]),me.hasNullElements(i))throw new b("geometries must not contain null elements");this._geometries=i}}}}])}(me),Kr=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&M(n,"equalsExact",this,1).call(this,i,o)}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var i=arguments[0];return this._geometries[i].getCoordinate()}return M(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ce.FALSE}},{key:"getTypeCode",value:function(){return me.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return me.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Pa]}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];zt.constructor_.call(this,i,o)}}])}(zt),Ln=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ce.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||M(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var i=this._points.copy();return _i.reverse(i),this.getFactory().createLinearRing(i)}},{key:"getTypeCode",value:function(){return me.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!M(n,"isClosed",this,1).call(this))throw new b("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new b("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return me.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];vr.constructor_.call(this,i,o),this.validateConstruction()}}])}(vr);Ln.MINIMUM_VALID_SIZE=4;var ni=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"setOrdinate",value:function(i,o){switch(i){case n.X:this.x=o;break;case n.Y:this.y=o;break;default:throw new b("Invalid ordinate index: "+i)}}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case n.X:return this.x;case n.Y:return this.y}throw new b("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new b("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)U.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];U.constructor_.call(this,i.x,i.y)}else if(arguments[0]instanceof U){var o=arguments[0];U.constructor_.call(this,o.x,o.y)}}else if(arguments.length===2){var h=arguments[0],g=arguments[1];U.constructor_.call(this,h,g,U.NULL_ORDINATE)}}}])}(U);ni.X=0,ni.Y=1,ni.Z=-1,ni.M=-1;var yi=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,o){switch(i){case n.X:this.x=o;break;case n.Y:this.y=o;break;case n.M:this._m=o;break;default:throw new b("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new b("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new b("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)U.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];U.constructor_.call(this,i.x,i.y),this._m=i._m}else if(arguments[0]instanceof U){var o=arguments[0];U.constructor_.call(this,o.x,o.y),this._m=this.getM()}}else if(arguments.length===3){var h=arguments[0],g=arguments[1],_=arguments[2];U.constructor_.call(this,h,g,U.NULL_ORDINATE),this._m=_}}}])}(U);yi.X=0,yi.Y=1,yi.Z=-1,yi.M=2;var ao=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,o){switch(i){case U.X:this.x=o;break;case U.Y:this.y=o;break;case U.Z:this.z=o;break;case U.M:this._m=o;break;default:throw new b("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getOrdinate",value:function(i){switch(i){case U.X:return this.x;case U.Y:return this.y;case U.Z:return this.getZ();case U.M:return this.getM()}throw new b("Invalid ordinate index: "+i)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)U.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];U.constructor_.call(this,i),this._m=i._m}else if(arguments[0]instanceof U){var o=arguments[0];U.constructor_.call(this,o),this._m=this.getM()}}else if(arguments.length===4){var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3];U.constructor_.call(this,h,g,_),this._m=x}}}])}(U),Jr=function(){function a(){c(this,a)}return p(a,null,[{key:"measures",value:function(n){return n instanceof ni?0:n instanceof yi||n instanceof ao?1:0}},{key:"dimension",value:function(n){return n instanceof ni?2:n instanceof yi?3:n instanceof ao?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return a.create(n,0)}if(arguments.length===2){var i=arguments[0],o=arguments[1];return i===2?new ni:i===3&&o===0?new U:i===3&&o===1?new yi:i===4&&o===1?new ao:new U}}}])}(),yr=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"getCoordinate",value:function(i){return this.get(i)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Re(arguments[0],$e)){for(var i=arguments[1],o=!1,h=arguments[0].iterator();h.hasNext();)this.add(h.next(),i),o=!0;return o}return M(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var i=M(n,"clone",this,1).call(this),o=0;o<this.size();o++)i.add(o,this.get(o).clone());return i}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var i=this.size(),o=new Array(i).fill(null),h=0;h<i;h++)o[h]=this.get(i-h-1);return o}}},{key:"add",value:function(){if(arguments.length===1){var i=arguments[0];return M(n,"add",this,1).call(this,i)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],h=arguments[1];return this.add(o,h,!0),!0}if(arguments[0]instanceof U&&typeof arguments[1]=="boolean"){var g=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(g))return null;M(n,"add",this,1).call(this,g)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var _=arguments[0],x=arguments[1];return this.add(_,x),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var E=arguments[0],O=arguments[1];if(arguments[2])for(var Z=0;Z<E.length;Z++)this.add(E[Z],O);else for(var Y=E.length-1;Y>=0;Y--)this.add(E[Y],O);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof U){var J=arguments[0],he=arguments[1];if(!arguments[2]){var _e=this.size();if(_e>0&&(J>0&&this.get(J-1).equals2D(he)||J<_e&&this.get(J).equals2D(he)))return null}M(n,"add",this,1).call(this,J,he)}}else if(arguments.length===4){var Se=arguments[0],je=arguments[1],Be=arguments[2],Je=arguments[3],at=1;Be>Je&&(at=-1);for(var Nt=Be;Nt!==Je;Nt+=at)this.add(Se[Nt],je);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var i=this.get(0).copy();this.add(i,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this.ensureCapacity(o.length),this.add(o,h)}}}}])}(Le);yr.coordArrayType=new Array(0).fill(null);var pt=function(){function a(){c(this,a)}return p(a,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,i){for(var o=0;o<n.length;o++){var h=n[o];if(a.indexOf(h,i)<0)return h}return null}},{key:"scroll",value:function(n,i){var o=a.indexOf(i,n);if(o<0)return null;var h=new Array(n.length).fill(null);rn.arraycopy(n,o,h,0,n.length-o),rn.arraycopy(n,0,h,n.length-o,o),rn.arraycopy(h,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];if(n===i)return!0;if(n===null||i===null||n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!n[o].equals(i[o]))return!1;return!0}if(arguments.length===3){var h=arguments[0],g=arguments[1],_=arguments[2];if(h===g)return!0;if(h===null||g===null||h.length!==g.length)return!1;for(var x=0;x<h.length;x++)if(_.compare(h[x],g[x])!==0)return!1;return!0}}},{key:"intersection",value:function(n,i){for(var o=new yr,h=0;h<n.length;h++)i.intersects(n[h])&&o.add(n[h],!0);return o.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var i,o=0,h=k(n);try{for(h.s();!(i=h.n()).done;){var g=i.value;o=Math.max(o,Jr.measures(g))}}catch(_){h.e(_)}finally{h.f()}return o}},{key:"hasRepeatedPoints",value:function(n){for(var i=1;i<n.length;i++)if(n[i-1].equals(n[i]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return a.hasRepeatedPoints(n)?new yr(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var i=n.length-1,o=Math.trunc(i/2),h=0;h<=o;h++){var g=n[h];n[h]=n[i-h],n[i-h]=g}}},{key:"removeNull",value:function(n){for(var i=0,o=0;o<n.length;o++)n[o]!==null&&i++;var h=new Array(i).fill(null);if(i===0)return h;for(var g=0,_=0;_<n.length;_++)n[_]!==null&&(h[g++]=n[_]);return h}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],i=new Array(n.length).fill(null),o=0;o<n.length;o++)i[o]=n[o].copy();return i}if(arguments.length===5)for(var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],E=arguments[4],O=0;O<E;O++)_[x+O]=h[g+O].copy()}},{key:"isEqualReversed",value:function(n,i){for(var o=0;o<n.length;o++){var h=n[o],g=i[n.length-o-1];if(h.compareTo(g)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var i=new De,o=0;o<n.length;o++)i.expandToInclude(n[o]);return i}},{key:"toCoordinateArray",value:function(n){return n.toArray(a.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var i,o=0,h=k(n);try{for(h.s();!(i=h.n()).done;){var g=i.value;o=Math.max(o,Jr.dimension(g))}}catch(_){h.e(_)}finally{h.f()}return o}},{key:"atLeastNCoordinatesOrNothing",value:function(n,i){return i.length>=n?i:[]}},{key:"indexOf",value:function(n,i){for(var o=0;o<i.length;o++)if(n.equals(i[o]))return o;return-1}},{key:"increasingDirection",value:function(n){for(var i=0;i<Math.trunc(n.length/2);i++){var o=n.length-1-i,h=n[i].compareTo(n[o]);if(h!==0)return h}return 1}},{key:"compare",value:function(n,i){for(var o=0;o<n.length&&o<i.length;){var h=n[o].compareTo(i[o]);if(h!==0)return h;o++}return o<i.length?-1:o<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var i=null,o=0;o<n.length;o++)(i===null||i.compareTo(n[o])>0)&&(i=n[o]);return i}},{key:"extract",value:function(n,i,o){i=zi.clamp(i,0,n.length);var h=(o=zi.clamp(o,-1,n.length))-i+1;o<0&&(h=0),i>=n.length&&(h=0),o<i&&(h=0);var g=new Array(h).fill(null);if(h===0)return g;for(var _=0,x=i;x<=o;x++)g[_++]=n[x];return g}}])}(),zl=function(){return p(function a(){c(this,a)},[{key:"compare",value:function(a,n){var i=a,o=n;return pt.compare(i,o)}},{key:"interfaces_",get:function(){return[ne]}}])}(),es=function(){return p(function a(){c(this,a)},[{key:"compare",value:function(a,n){var i=a,o=n;if(i.length<o.length)return-1;if(i.length>o.length)return 1;if(i.length===0)return 0;var h=pt.compare(i,o);return pt.isEqualReversed(i,o)?0:h}},{key:"OLDcompare",value:function(a,n){var i=a,o=n;if(i.length<o.length)return-1;if(i.length>o.length)return 1;if(i.length===0)return 0;for(var h=pt.increasingDirection(i),g=pt.increasingDirection(o),_=h>0?0:i.length-1,x=g>0?0:i.length-1,E=0;E<i.length;E++){var O=i[_].compareTo(o[x]);if(O!==0)return O;_+=h,x+=g}return 0}},{key:"interfaces_",get:function(){return[ne]}}])}();pt.ForwardComparator=zl,pt.BidirectionalComparator=es,pt.coordArrayType=new Array(0).fill(null);var ts=function(){return p(function a(n){c(this,a),this.str=n},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,n){this.str=this.str.substr(0,a)+n+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),xr=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():B.NaN}},{key:"setOrdinate",value:function(n,i,o){switch(i){case Ue.X:this._coordinates[n].x=o;break;case Ue.Y:this._coordinates[n].y=o;break;default:this._coordinates[n].setOrdinate(i,o)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():B.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,i){switch(i){case Ue.X:return this._coordinates[n].x;case Ue.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(i)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var i=arguments[0];arguments[1].setCoordinate(this._coordinates[i])}}},{key:"getCoordinateCopy",value:function(n){var i=this.createCoordinate();return i.setCoordinate(this._coordinates[n]),i}},{key:"createCoordinate",value:function(){return Jr.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var i=0;i<this._coordinates.length;i++)n.expandToInclude(this._coordinates[i]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++){var o=this.createCoordinate();o.setCoordinate(this._coordinates[i]),n[i]=o}return new a(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new ts(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)n.append(", "),n.append(this._coordinates[i]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ue,Q]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];a.constructor_.call(this,n,pt.dimension(n),pt.measures(n))}else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var o=0;o<i;o++)this._coordinates[o]=new U}else if(Re(arguments[0],Ue)){var h=arguments[0];if(h===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=h.getDimension(),this._measures=h.getMeasures(),this._coordinates=new Array(h.size()).fill(null);for(var g=0;g<this._coordinates.length;g++)this._coordinates[g]=h.getCoordinateCopy(g)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _=arguments[0],x=arguments[1];a.constructor_.call(this,_,x,pt.measures(_))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var E=arguments[0],O=arguments[1];this._coordinates=new Array(E).fill(null),this._dimension=O;for(var Z=0;Z<E;Z++)this._coordinates[Z]=Jr.create(O)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var Y=arguments[0],J=arguments[1],he=arguments[2];this._dimension=J,this._measures=he,this._coordinates=Y===null?new Array(0).fill(null):Y}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var _e=arguments[0],Se=arguments[1],je=arguments[2];this._coordinates=new Array(_e).fill(null),this._dimension=Se,this._measures=je;for(var Be=0;Be<_e;Be++)this._coordinates[Be]=this.createCoordinate()}}}}])}(),uo=function(){function a(){c(this,a)}return p(a,[{key:"readResolve",value:function(){return a.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new xr(arguments[0]);if(Re(arguments[0],Ue))return new xr(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new xr(arguments[0],n)}if(arguments.length===3){var i=arguments[2],o=arguments[1]-i;return i>1&&(i=1),o>3&&(o=3),o<2&&(o=2),new xr(arguments[0],o+i,i)}}}},{key:"interfaces_",get:function(){return[ro,Q]}}],[{key:"instance",value:function(){return a.instanceObject}}])}();uo.instanceObject=new uo;var lo=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&M(n,"equalsExact",this,1).call(this,i,o)}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return me.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var i=new Le,o=0;o<this._geometries.length;o++)for(var h=this._geometries[o].getBoundary(),g=0;g<h.getNumGeometries();g++)i.add(h.getGeometryN(g));var _=new Array(i.size()).fill(null);return this.getFactory().createMultiLineString(i.toArray(_))}},{key:"getGeometryType",value:function(){return me.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ee]}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];zt.constructor_.call(this,i,o)}}])}(zt),Aa=function(){return p(function a(){c(this,a)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),co=function(a){function n(){var i;return c(this,n),(i=u(this,n)).map=new Map,i}return w(n,a),p(n,[{key:"get",value:function(i){return this.map.get(i)||null}},{key:"put",value:function(i,o){return this.map.set(i,o),o}},{key:"values",value:function(){for(var i=new Le,o=this.map.values(),h=o.next();!h.done;)i.add(h.value),h=o.next();return i}},{key:"entrySet",value:function(){var i=new we;return this.map.entries().forEach(function(o){return i.add(o)}),i}},{key:"size",value:function(){return this.map.size()}}])}(Aa),Ft=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"equals",value:function(n){if(!(n instanceof a))return!1;var i=n;return this._modelType===i._modelType&&this._scale===i._scale}},{key:"compareTo",value:function(n){var i=n,o=this.getMaximumSignificantDigits(),h=i.getMaximumSignificantDigits();return Nn.compare(o,h)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===a.FLOATING||this._modelType===a.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===a.FLOATING?n="Floating":this._modelType===a.FLOATING_SINGLE?n="Floating-Single":this._modelType===a.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return B.isNaN(n)||this._modelType===a.FLOATING_SINGLE?n:this._modelType===a.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof U){var i=arguments[0];if(this._modelType===a.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===a.FLOATING?n=16:this._modelType===a.FLOATING_SINGLE?n=6:this._modelType===a.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[Q,V]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=a.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof xi){var n=arguments[0];this._modelType=n,n===a.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var i=arguments[0];this._modelType=a.FIXED,this.setScale(i)}else if(arguments[0]instanceof a){var o=arguments[0];this._modelType=o._modelType,this._scale=o._scale}}}},{key:"mostPrecise",value:function(n,i){return n.compareTo(i)>=0?n:i}}])}(),xi=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"readResolve",value:function(){return a.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[Q]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,a.nameToTypeMap.put(n,this)}}])}();xi.nameToTypeMap=new co,Ft.Type=xi,Ft.FIXED=new xi("FIXED"),Ft.FLOATING=new xi("FLOATING"),Ft.FLOATING_SINGLE=new xi("FLOATING SINGLE"),Ft.maximumPreciseValue=9007199254740992;var ns=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof me){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&M(n,"equalsExact",this,1).call(this,i,o)}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ce.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return me.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new tt}},{key:"getGeometryType",value:function(){return me.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Ta]}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];zt.constructor_.call(this,i,o)}}])}(zt),Cn=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new b("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new U(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new U(n.getMinX(),n.getMinY()),new U(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new U(n.getMinX(),n.getMinY()),new U(n.getMinX(),n.getMaxY()),new U(n.getMaxX(),n.getMaxY()),new U(n.getMaxX(),n.getMinY()),new U(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Re(arguments[0],Ue))return new vr(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new ns(null,this):arguments.length===1?new ns(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var i=null,o=!1,h=!1,g=n.iterator();g.hasNext();){var _=g.next(),x=_.getTypeCode();i===null&&(i=x),x!==i&&(o=!0),_ instanceof zt&&(h=!0)}if(i===null)return this.createGeometryCollection();if(o||h)return this.createGeometryCollection(a.toGeometryArray(n));var E=n.iterator().next();if(n.size()>1){if(E instanceof _r)return this.createMultiPolygon(a.toPolygonArray(n));if(E instanceof vr)return this.createMultiLineString(a.toLineStringArray(n));if(E instanceof so)return this.createMultiPoint(a.toPointArray(n));se.shouldNeverReachHere("Unhandled geometry type: "+E.getGeometryType())}return E}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof U){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(Re(arguments[0],Ue))return new so(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Re(arguments[0],Ue)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof Ln){var o=arguments[0];return this.createPolygon(o,null)}}else if(arguments.length===2)return new _r(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new zt(null,this):arguments.length===1?new zt(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Re(arguments[0],Ue))return new Ln(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new lo(null,this):arguments.length===1?new lo(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Kr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Kr(arguments[0],this);if(Re(arguments[0],Ue)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),o=0;o<n.size();o++){var h=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());_i.copy(n,o,h,0,1),i[o]=this.createPoint(h)}return this.createMultiPoint(i)}}}},{key:"interfaces_",get:function(){return[Q]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)a.constructor_.call(this,new Ft,0);else if(arguments.length===1){if(Re(arguments[0],ro)){var n=arguments[0];a.constructor_.call(this,new Ft,0,n)}else if(arguments[0]instanceof Ft){var i=arguments[0];a.constructor_.call(this,i,0,a.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];a.constructor_.call(this,o,h,a.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this._precisionModel=g,this._coordinateSequenceFactory=x,this._SRID=_}}},{key:"toMultiPolygonArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return uo.instance()}},{key:"toMultiLineStringArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toLineStringArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toMultiPointArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toLinearRingArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toPointArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toPolygonArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"createPointFromInternalCoord",value:function(n,i){return i.getPrecisionModel().makePrecise(n),i.getFactory().createPoint(n)}}])}(),qe="XY",rt="XYZ",is="XYM",bi="XYZM",ki={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},rs="EMPTY",Ae=1,We=2,Tn=3,kr=4,St=5,Fl=6;for(var ss in ki)ki[ss].toUpperCase();var wi=function(){return p(function a(n){c(this,a),this.wkt=n,this.index_=-1},[{key:"isAlpha_",value:function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"}},{key:"isNumeric_",value:function(a,n){return a>="0"&&a<="9"||a=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(a){return a==" "||a=="	"||a=="\r"||a==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var a,n=this.nextChar_(),i=this.index_,o=n;if(n=="(")a=We;else if(n==",")a=St;else if(n==")")a=Tn;else if(this.isNumeric_(n)||n=="-")a=kr,o=this.readNumber_();else if(this.isAlpha_(n))a=Ae,o=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);a=Fl}return{position:i,value:o,type:a}}},{key:"readNumber_",value:function(){var a,n=this.index_,i=!1,o=!1;do a=="."?i=!0:a!="e"&&a!="E"||(o=!0),a=this.nextChar_();while(this.isNumeric_(a,i)||!o&&(a=="e"||a=="E")||o&&(a=="-"||a=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var a,n=this.index_;do a=this.nextChar_();while(this.isAlpha_(a));return this.wkt.substring(n,this.index_--).toUpperCase()}}])}(),vt=function(){return p(function a(n,i){c(this,a),this.lexer_=n,this.token_,this.layout_=qe,this.factory=i},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(a){return this.token_.type==a}},{key:"match",value:function(a){var n=this.isTokenType(a);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var a=qe,n=this.token_;if(this.isTokenType(Ae)){var i=n.value;i==="Z"?a=rt:i==="M"?a=is:i==="ZM"&&(a=bi),a!==qe&&this.consume_()}return a}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(We)){var a=[];do a.push(this.parseGeometry_());while(this.match(St));if(this.match(Tn))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(We)){var a=this.parsePoint_();if(this.match(Tn))return a}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(We)){var a=this.parsePointList_();if(this.match(Tn))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(We)){var a=this.parseLineStringTextList_();if(this.match(Tn))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var a;if(this.match(We)){if(a=this.token_.type==We?this.parsePointTextList_():this.parsePointList_(),this.match(Tn))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(We)){var a=this.parseLineStringTextList_();if(this.match(Tn))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(We)){var a=this.parsePolygonTextList_();if(this.match(Tn))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var a=[],n=this.layout_.length,i=0;i<n;++i){var o=this.token_;if(!this.match(kr))break;a.push(o.value)}if(a.length==n)return a;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var a=[this.parsePoint_()];this.match(St);)a.push(this.parsePoint_());return a}},{key:"parsePointTextList_",value:function(){for(var a=[this.parsePointText_()];this.match(St);)a.push(this.parsePointText_());return a}},{key:"parseLineStringTextList_",value:function(){for(var a=[this.parseLineStringText_()];this.match(St);)a.push(this.parseLineStringText_());return a}},{key:"parsePolygonTextList_",value:function(){for(var a=[this.parsePolygonText_()];this.match(St);)a.push(this.parsePolygonText_());return a}},{key:"isEmptyGeometry_",value:function(){var a=this.isTokenType(Ae)&&this.token_.value==rs;return a&&this.consume_(),a}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var a=this.factory,n=function(Se){return d(U,G(Se))},i=function(Se){var je=Se.map(function(Be){return a.createLinearRing(Be.map(n))});return je.length>1?a.createPolygon(je[0],je.slice(1)):a.createPolygon(je[0])},o=this.token_;if(this.match(Ae)){var h=o.value;if(this.layout_=this.parseGeometryLayout_(),h=="GEOMETRYCOLLECTION"){var g=this.parseGeometryCollectionText_();return a.createGeometryCollection(g)}switch(h){case"POINT":var _=this.parsePointText_();return _?a.createPoint(d(U,G(_))):a.createPoint();case"LINESTRING":var x=this.parseLineStringText_().map(n);return a.createLineString(x);case"LINEARRING":var E=this.parseLineStringText_().map(n);return a.createLinearRing(E);case"POLYGON":var O=this.parsePolygonText_();return O&&O.length!==0?i(O):a.createPolygon();case"MULTIPOINT":var Z=this.parseMultiPointText_();if(!Z||Z.length===0)return a.createMultiPoint();var Y=Z.map(n).map(function(Se){return a.createPoint(Se)});return a.createMultiPoint(Y);case"MULTILINESTRING":var J=this.parseMultiLineStringText_().map(function(Se){return a.createLineString(Se.map(n))});return a.createMultiLineString(J);case"MULTIPOLYGON":var he=this.parseMultiPolygonText_();if(!he||he.length===0)return a.createMultiPolygon();var _e=he.map(i);return a.createMultiPolygon(_e);default:throw new Error("Invalid geometry type: "+h)}}throw new Error(this.formatErrorMessage_())}}])}();function ii(a){if(a.isEmpty())return"";var n=a.getCoordinate(),i=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||i.push(n.z),n.m===void 0||Number.isNaN(n.m)||i.push(n.m),i.join(" ")}function qn(a){for(var n=a.getCoordinates().map(function(g){var _=[g.x,g.y];return g.z===void 0||Number.isNaN(g.z)||_.push(g.z),g.m===void 0||Number.isNaN(g.m)||_.push(g.m),_}),i=[],o=0,h=n.length;o<h;++o)i.push(n[o].join(" "));return i.join(", ")}function Bi(a){var n=[];n.push("("+qn(a.getExteriorRing())+")");for(var i=0,o=a.getNumInteriorRing();i<o;++i)n.push("("+qn(a.getInteriorRingN(i))+")");return n.join(", ")}var ho={Point:ii,LineString:qn,LinearRing:qn,Polygon:Bi,MultiPoint:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push("("+ii(a.getGeometryN(i))+")");return n.join(", ")},MultiLineString:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push("("+qn(a.getGeometryN(i))+")");return n.join(", ")},MultiPolygon:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push("("+Bi(a.getGeometryN(i))+")");return n.join(", ")},GeometryCollection:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push(Gi(a.getGeometryN(i)));return n.join(", ")}};function Gi(a){var n=a.getGeometryType(),i=ho[n];n=n.toUpperCase();var o=function(h){var g="";if(h.isEmpty())return g;var _=h.getCoordinate();return _.z===void 0||Number.isNaN(_.z)||(g+="Z"),_.m===void 0||Number.isNaN(_.m)||(g+="M"),g}(a);return o.length>0&&(n+=" "+o),a.isEmpty()?n+" "+rs:n+" ("+i(a)+")"}var fo=function(){return p(function a(n){c(this,a),this.geometryFactory=n||new Cn,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(a){var n=new wi(a);return new vt(n,this.geometryFactory).parse()}},{key:"write",value:function(a){return Gi(a)}}])}(),wr=function(){return p(function a(n){c(this,a),this.parser=new fo(n)},[{key:"write",value:function(a){return this.parser.write(a)}}],[{key:"toLineString",value:function(a,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+n.x+" "+n.y+" )"}}])}(),Qe=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getIndexAlongSegment",value:function(n,i){return this.computeIntLineIndex(),this._intLineIndex[n][i]}},{key:"getTopologySummary",value:function(){var n=new ts;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,i,o,h){this._inputLines[0][0]=n,this._inputLines[0][1]=i,this._inputLines[1][0]=o,this._inputLines[1][1]=h,this._result=this.computeIntersect(n,i,o,h)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],i=0;i<this._result;i++)if(!this._intPt[i].equals2D(this._inputLines[n][0])&&!this._intPt[i].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==a.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,i){return a.computeEdgeDistance(this._intPt[i],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===a.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return wr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+wr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,i){return this._inputLines[n][i]}},{key:"isIntersection",value:function(n){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][i]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new U,this._intPt[1]=new U,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,i,o){var h=Math.abs(o.x-i.x),g=Math.abs(o.y-i.y),_=-1;if(n.equals(i))_=0;else if(n.equals(o))_=h>g?h:g;else{var x=Math.abs(n.x-i.x),E=Math.abs(n.y-i.y);(_=h>g?x:E)!==0||n.equals(i)||(_=Math.max(x,E))}return se.isTrue(!(_===0&&!n.equals(i)),"Bad distance calculation"),_}},{key:"nonRobustComputeEdgeDistance",value:function(n,i,o){var h=n.x-i.x,g=n.y-i.y,_=Math.sqrt(h*h+g*g);return se.isTrue(!(_===0&&!n.equals(i)),"Invalid distance calculation"),_}}])}();Qe.DONT_INTERSECT=0,Qe.DO_INTERSECT=1,Qe.COLLINEAR=2,Qe.NO_INTERSECTION=0,Qe.POINT_INTERSECTION=1,Qe.COLLINEAR_INTERSECTION=2;var jn=function(a){function n(){return c(this,n),u(this,n)}return w(n,a),p(n,[{key:"isInSegmentEnvelopes",value:function(i){var o=new De(this._inputLines[0][0],this._inputLines[0][1]),h=new De(this._inputLines[1][0],this._inputLines[1][1]);return o.contains(i)&&h.contains(i)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return M(n,"computeIntersection",this,1).apply(this,arguments);var i=arguments[0],o=arguments[1],h=arguments[2];if(this._isProper=!1,De.intersects(o,h,i)&&Pe.index(o,h,i)===0&&Pe.index(h,o,i)===0)return this._isProper=!0,(i.equals(o)||i.equals(h))&&(this._isProper=!1),this._result=Qe.POINT_INTERSECTION,null;this._result=Qe.NO_INTERSECTION}},{key:"intersection",value:function(i,o,h,g){var _=this.intersectionSafe(i,o,h,g);return this.isInSegmentEnvelopes(_)||(_=new U(n.nearestEndpoint(i,o,h,g))),this._precisionModel!==null&&this._precisionModel.makePrecise(_),_}},{key:"checkDD",value:function(i,o,h,g,_){var x=to.intersection(i,o,h,g),E=this.isInSegmentEnvelopes(x);rn.out.println("DD in env = "+E+"  --------------------- "+x),_.distance(x)>1e-4&&rn.out.println("Distance = "+_.distance(x))}},{key:"intersectionSafe",value:function(i,o,h,g){var _=io.intersection(i,o,h,g);return _===null&&(_=n.nearestEndpoint(i,o,h,g)),_}},{key:"computeCollinearIntersection",value:function(i,o,h,g){var _=De.intersects(i,o,h),x=De.intersects(i,o,g),E=De.intersects(h,g,i),O=De.intersects(h,g,o);return _&&x?(this._intPt[0]=h,this._intPt[1]=g,Qe.COLLINEAR_INTERSECTION):E&&O?(this._intPt[0]=i,this._intPt[1]=o,Qe.COLLINEAR_INTERSECTION):_&&E?(this._intPt[0]=h,this._intPt[1]=i,!h.equals(i)||x||O?Qe.COLLINEAR_INTERSECTION:Qe.POINT_INTERSECTION):_&&O?(this._intPt[0]=h,this._intPt[1]=o,!h.equals(o)||x||E?Qe.COLLINEAR_INTERSECTION:Qe.POINT_INTERSECTION):x&&E?(this._intPt[0]=g,this._intPt[1]=i,!g.equals(i)||_||O?Qe.COLLINEAR_INTERSECTION:Qe.POINT_INTERSECTION):x&&O?(this._intPt[0]=g,this._intPt[1]=o,!g.equals(o)||_||E?Qe.COLLINEAR_INTERSECTION:Qe.POINT_INTERSECTION):Qe.NO_INTERSECTION}},{key:"computeIntersect",value:function(i,o,h,g){if(this._isProper=!1,!De.intersects(i,o,h,g))return Qe.NO_INTERSECTION;var _=Pe.index(i,o,h),x=Pe.index(i,o,g);if(_>0&&x>0||_<0&&x<0)return Qe.NO_INTERSECTION;var E=Pe.index(h,g,i),O=Pe.index(h,g,o);return E>0&&O>0||E<0&&O<0?Qe.NO_INTERSECTION:_===0&&x===0&&E===0&&O===0?this.computeCollinearIntersection(i,o,h,g):(_===0||x===0||E===0||O===0?(this._isProper=!1,i.equals2D(h)||i.equals2D(g)?this._intPt[0]=i:o.equals2D(h)||o.equals2D(g)?this._intPt[0]=o:_===0?this._intPt[0]=new U(h):x===0?this._intPt[0]=new U(g):E===0?this._intPt[0]=new U(i):O===0&&(this._intPt[0]=new U(o))):(this._isProper=!0,this._intPt[0]=this.intersection(i,o,h,g)),Qe.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(i,o,h,g){var _=i,x=gn.pointToSegment(i,h,g),E=gn.pointToSegment(o,h,g);return E<x&&(x=E,_=o),(E=gn.pointToSegment(h,i,o))<x&&(x=E,_=h),(E=gn.pointToSegment(g,i,o))<x&&(x=E,_=g),_}}])}(Qe),go=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"countSegment",value:function(n,i){if(n.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&i.y===this._p.y){var o=n.x,h=i.x;return o>h&&(o=i.x,h=n.x),this._p.x>=o&&this._p.x<=h&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&n.y<=this._p.y){var g=Pe.index(n,i,this._p);if(g===Pe.COLLINEAR)return this._isPointOnSegment=!0,null;i.y<n.y&&(g=-g),g===Pe.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==A.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?A.BOUNDARY:this._crossingCount%2==1?A.INTERIOR:A.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof U&&Re(arguments[1],Ue)){for(var n=arguments[1],i=new a(arguments[0]),o=new U,h=new U,g=1;g<n.size();g++)if(n.getCoordinate(g,o),n.getCoordinate(g-1,h),i.countSegment(o,h),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var _=arguments[1],x=new a(arguments[0]),E=1;E<_.length;E++){var O=_[E],Z=_[E-1];if(x.countSegment(O,Z),x.isOnSegment())return x.getLocation()}return x.getLocation()}}}])}(),Zi=function(){function a(){c(this,a)}return p(a,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof U&&Re(arguments[1],Ue)){for(var n=arguments[0],i=arguments[1],o=new jn,h=new U,g=new U,_=i.size(),x=1;x<_;x++)if(i.getCoordinate(x-1,h),i.getCoordinate(x,g),o.computeIntersection(n,h,g),o.hasIntersection())return!0;return!1}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var E=arguments[0],O=arguments[1],Z=new jn,Y=1;Y<O.length;Y++){var J=O[Y-1],he=O[Y];if(Z.computeIntersection(E,J,he),Z.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,i){return go.locatePointInRing(n,i)}},{key:"isInRing",value:function(n,i){return a.locateInRing(n,i)!==A.EXTERIOR}}])}(),Wt=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"setAllLocations",value:function(n){for(var i=0;i<this.location.length;i++)this.location[i]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==A.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var i=0;i<this.location.length;i++)this.location[i]===A.NONE&&(this.location[i]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var i=new Array(3).fill(null);i[K.ON]=this.location[K.ON],i[K.LEFT]=A.NONE,i[K.RIGHT]=A.NONE,this.location=i}for(var o=0;o<this.location.length;o++)this.location[o]===A.NONE&&o<n.location.length&&(this.location[o]=n.location[o])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[K.LEFT];this.location[K.LEFT]=this.location[K.RIGHT],this.location[K.RIGHT]=n}},{key:"toString",value:function(){var n=new ti;return this.location.length>1&&n.append(A.toLocationSymbol(this.location[K.LEFT])),n.append(A.toLocationSymbol(this.location[K.ON])),this.location.length>1&&n.append(A.toLocationSymbol(this.location[K.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,i,o){this.location[K.ON]=n,this.location[K.LEFT]=i,this.location[K.RIGHT]=o}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:A.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===A.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation(K.ON,n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.location[i]=o}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(A.NONE)}},{key:"isEqualOnSide",value:function(n,i){return this.location[i]===n.location[i]}},{key:"allPositionsEqual",value:function(n){for(var i=0;i<this.location.length;i++)if(this.location[i]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[K.ON]=i}else if(arguments[0]instanceof a){var o=arguments[0];if(this.init(o.location.length),o!==null)for(var h=0;h<this.location.length;h++)this.location[h]=o.location[h]}}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this.init(3),this.location[K.ON]=g,this.location[K.LEFT]=_,this.location[K.RIGHT]=x}}}])}(),qt=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,i){this.elt[n].setAllLocations(i)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.elt[i].setAllLocationsIfNull(o)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var i=0;i<2;i++)this.elt[i]===null&&n.elt[i]!==null?this.elt[i]=new Wt(n.elt[i]):this.elt[i].merge(n.elt[i])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get(K.ON)}if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.elt[i].get(o)}}},{key:"toString",value:function(){var n=new ti;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this.elt[n].setLocation(K.ON,i)}else if(arguments.length===3){var o=arguments[0],h=arguments[1],g=arguments[2];this.elt[o].setLocation(h,g)}}},{key:"isEqualOnSide",value:function(n,i){return this.elt[0].isEqualOnSide(n.elt[0],i)&&this.elt[1].isEqualOnSide(n.elt[1],i)}},{key:"allPositionsEqual",value:function(n,i){return this.elt[n].allPositionsEqual(i)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new Wt(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Wt(n),this.elt[1]=new Wt(n)}else if(arguments[0]instanceof a){var i=arguments[0];this.elt[0]=new Wt(i.elt[0]),this.elt[1]=new Wt(i.elt[1])}}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this.elt[0]=new Wt(A.NONE),this.elt[1]=new Wt(A.NONE),this.elt[o].setLocation(h)}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this.elt[0]=new Wt(g,_,x),this.elt[1]=new Wt(g,_,x)}else if(arguments.length===4){var E=arguments[0],O=arguments[1],Z=arguments[2],Y=arguments[3];this.elt[0]=new Wt(A.NONE,A.NONE,A.NONE),this.elt[1]=new Wt(A.NONE,A.NONE,A.NONE),this.elt[E].setLocations(O,Z,Y)}}},{key:"toLineLabel",value:function(n){for(var i=new a(A.NONE),o=0;o<2;o++)i.setLocation(o,n.getLocation(o));return i}}])}(),os=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var a=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)a[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=Pe.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(a){this._startDe=a;var n=a,i=!0;do{if(n===null)throw new In("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new In("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var o=n.getLabel();se.isTrue(o.isArea()),this.mergeLabel(o),this.addPoints(n.getEdge(),n.isForward(),i),i=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(a){return this._pts.get(a)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var a=this._startDe;do{var n=a.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(a,n,i){var o=a.getCoordinates();if(n){var h=1;i&&(h=0);for(var g=h;g<o.length;g++)this._pts.add(o[g])}else{var _=o.length-2;i&&(_=o.length-1);for(var x=_;x>=0;x--)this._pts.add(o[x])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var a=this._startDe;do a.getEdge().setInResult(!0),a=a.getNext();while(a!==this._startDe)}},{key:"containsPoint",value:function(a){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(a)||!Zi.isInRing(a,n.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(a))return!1;return!0}},{key:"addHole",value:function(a){this._holes.add(a)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(arguments.length===2){var n=arguments[1],i=arguments[0].getLocation(n,K.RIGHT);if(i===A.NONE)return null;if(this._label.getLocation(n)===A.NONE)return this._label.setLocation(n,i),null}}},{key:"setShell",value:function(a){this._shell=a,a!==null&&a.addHole(this)}},{key:"toPolygon",value:function(a){for(var n=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)n[i]=this._holes.get(i).getLinearRing();return a.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Le,this._pts=new Le,this._label=new qt(A.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Le,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var a=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(a),this.computeRing()}}}}])}(),ze=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"setEdgeRing",value:function(i,o){i.setMinEdgeRing(o)}},{key:"getNext",value:function(i){return i.getNextMin()}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];os.constructor_.call(this,i,o)}}])}(os),Pn=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"buildMinimalRings",value:function(){var i=new Le,o=this._startDe;do{if(o.getMinEdgeRing()===null){var h=new ze(o,this._geometryFactory);i.add(h)}o=o.getNext()}while(o!==this._startDe);return i}},{key:"setEdgeRing",value:function(i,o){i.setEdgeRing(o)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var i=this._startDe;do i.getNode().getEdges().linkMinimalDirectedEdges(this),i=i.getNext();while(i!==this._startDe)}},{key:"getNext",value:function(i){return i.getNext()}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];os.constructor_.call(this,i,o)}}])}(os),Ke=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(a){this._isVisited=a}},{key:"setInResult",value:function(a){this._isInResult=a}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(a){this._label=a}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(a){this._isCovered=a,this._isCoveredSet=!0}},{key:"updateIM",value:function(a){se.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._label=a}}}}])}(),Er=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"isIncidentEdgeInResult",value:function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();)if(i.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(i){i.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(i){}},{key:"computeMergedLocation",value:function(i,o){var h=A.NONE;if(h=this._label.getLocation(o),!i.isNull(o)){var g=i.getLocation(o);h!==A.BOUNDARY&&(h=g)}return h}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return M(n,"setLabel",this,1).apply(this,arguments);var i=arguments[0],o=arguments[1];this._label===null?this._label=new qt(i,o):this._label.setLocation(i,o)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof qt)for(var o=arguments[0],h=0;h<2;h++){var g=this.computeMergedLocation(o,h);this._label.getLocation(h)===A.NONE&&this._label.setLocation(h,g)}}},{key:"add",value:function(i){this._edges.insert(i),i.setNode(this)}},{key:"setLabelBoundary",value:function(i){if(this._label===null)return null;var o=A.NONE;this._label!==null&&(o=this._label.getLocation(i));var h=null;switch(o){case A.BOUNDARY:h=A.INTERIOR;break;case A.INTERIOR:default:h=A.BOUNDARY}this._label.setLocation(i,h)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var i=arguments[0],o=arguments[1];this._coord=i,this._edges=o,this._label=new qt(0,A.NONE)}}])}(Ke),mo=function(a){function n(){return c(this,n),u(this,n,arguments)}return w(n,a),p(n)}(Aa);function as(a){return a==null?0:a.color}function Ve(a){return a==null?null:a.parent}function Tt(a,n){a!==null&&(a.color=n)}function Sr(a){return a==null?null:a.left}function Ui(a){return a==null?null:a.right}var ct=function(a){function n(){var i;return c(this,n),(i=u(this,n)).root_=null,i.size_=0,i}return w(n,a),p(n,[{key:"get",value:function(i){for(var o=this.root_;o!==null;){var h=i.compareTo(o.key);if(h<0)o=o.left;else{if(!(h>0))return o.value;o=o.right}}return null}},{key:"put",value:function(i,o){if(this.root_===null)return this.root_={key:i,value:o,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var h,g,_=this.root_;do if(h=_,(g=i.compareTo(_.key))<0)_=_.left;else{if(!(g>0)){var x=_.value;return _.value=o,x}_=_.right}while(_!==null);var E={key:i,left:null,right:null,value:o,parent:h,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return g<0?h.left=E:h.right=E,this.fixAfterInsertion(E),this.size_++,null}},{key:"fixAfterInsertion",value:function(i){var o;for(i.color=1;i!=null&&i!==this.root_&&i.parent.color===1;)Ve(i)===Sr(Ve(Ve(i)))?as(o=Ui(Ve(Ve(i))))===1?(Tt(Ve(i),0),Tt(o,0),Tt(Ve(Ve(i)),1),i=Ve(Ve(i))):(i===Ui(Ve(i))&&(i=Ve(i),this.rotateLeft(i)),Tt(Ve(i),0),Tt(Ve(Ve(i)),1),this.rotateRight(Ve(Ve(i)))):as(o=Sr(Ve(Ve(i))))===1?(Tt(Ve(i),0),Tt(o,0),Tt(Ve(Ve(i)),1),i=Ve(Ve(i))):(i===Sr(Ve(i))&&(i=Ve(i),this.rotateRight(i)),Tt(Ve(i),0),Tt(Ve(Ve(i)),1),this.rotateLeft(Ve(Ve(i))));this.root_.color=0}},{key:"values",value:function(){var i=new Le,o=this.getFirstEntry();if(o!==null)for(i.add(o.value);(o=n.successor(o))!==null;)i.add(o.value);return i}},{key:"entrySet",value:function(){var i=new we,o=this.getFirstEntry();if(o!==null)for(i.add(o);(o=n.successor(o))!==null;)i.add(o);return i}},{key:"rotateLeft",value:function(i){if(i!=null){var o=i.right;i.right=o.left,o.left!=null&&(o.left.parent=i),o.parent=i.parent,i.parent==null?this.root_=o:i.parent.left===i?i.parent.left=o:i.parent.right=o,o.left=i,i.parent=o}}},{key:"rotateRight",value:function(i){if(i!=null){var o=i.left;i.left=o.right,o.right!=null&&(o.right.parent=i),o.parent=i.parent,i.parent==null?this.root_=o:i.parent.right===i?i.parent.right=o:i.parent.left=o,o.right=i,i.parent=o}}},{key:"getFirstEntry",value:function(){var i=this.root_;if(i!=null)for(;i.left!=null;)i=i.left;return i}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(i){for(var o=this.root_;o!==null;){var h=i.compareTo(o.key);if(h<0)o=o.left;else{if(!(h>0))return!0;o=o.right}}return!1}}],[{key:"successor",value:function(i){var o;if(i===null)return null;if(i.right!==null){for(o=i.right;o.left!==null;)o=o.left;return o}o=i.parent;for(var h=i;o!==null&&h===o.right;)h=o,o=o.parent;return o}}])}(mo),ri=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"find",value:function(a){return this.nodeMap.get(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof U){var a=arguments[0],n=this.nodeMap.get(a);return n===null&&(n=this.nodeFact.createNode(a),this.nodeMap.put(a,n)),n}if(arguments[0]instanceof Er){var i=arguments[0],o=this.nodeMap.get(i.getCoordinate());return o===null?(this.nodeMap.put(i.getCoordinate(),i),i):(o.mergeLabel(i),o)}}},{key:"print",value:function(a){for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(a){for(var n=new Le,i=this.iterator();i.hasNext();){var o=i.next();o.getLabel().getLocation(a)===A.BOUNDARY&&n.add(o)}return n}},{key:"add",value:function(a){var n=a.getCoordinate();this.addNode(n).add(a)}}],[{key:"constructor_",value:function(){this.nodeMap=new ct,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}}])}(),Pt=function(){function a(){c(this,a)}return p(a,null,[{key:"isNorthern",value:function(n){return n===a.NE||n===a.NW}},{key:"isOpposite",value:function(n,i){return n!==i&&(n-i+4)%4===2}},{key:"commonHalfPlane",value:function(n,i){if(n===i)return n;if((n-i+4)%4===2)return-1;var o=n<i?n:i;return o===0&&(n>i?n:i)===3?3:o}},{key:"isInHalfPlane",value:function(n,i){return i===a.SE?n===a.SE||n===a.SW:n===i||n===i+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];if(n===0&&i===0)throw new b("Cannot compute the quadrant for point ( "+n+", "+i+" )");return n>=0?i>=0?a.NE:a.SE:i>=0?a.NW:a.SW}if(arguments[0]instanceof U&&arguments[1]instanceof U){var o=arguments[0],h=arguments[1];if(h.x===o.x&&h.y===o.y)throw new b("Cannot compute the quadrant for two identical points "+o);return h.x>=o.x?h.y>=o.y?a.NE:a.SE:h.y>=o.y?a.NW:a.SW}}}])}();Pt.NE=0,Pt.NW=1,Pt.SW=2,Pt.SE=3;var po=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:Pe.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var i=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),h=o.lastIndexOf("."),g=o.substring(h+1);n.print("  "+g+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)}},{key:"compareTo",value:function(n){var i=n;return this.compareDirection(i)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),o=i.lastIndexOf(".");return"  "+i.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,i){this._p0=n,this._p1=i,this._dx=i.x-n.x,this._dy=i.y-n.y,this._quadrant=Pt.quadrant(this._dx,this._dy),se.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var i=arguments[0],o=arguments[1],h=arguments[2];a.constructor_.call(this,i,o,h,null)}else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],E=arguments[3];a.constructor_.call(this,g),this.init(_,x),this._label=E}}}])}(),vo=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(i){return this._depth[i]}},{key:"setVisited",value:function(i){this._isVisited=i}},{key:"computeDirectedLabel",value:function(){this._label=new qt(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(i,o){if(this._depth[i]!==-999&&this._depth[i]!==o)throw new In("assigned depths do not match",this.getCoordinate());this._depth[i]=o}},{key:"isInteriorAreaEdge",value:function(){for(var i=!0,o=0;o<2;o++)this._label.isArea(o)&&this._label.getLocation(o,K.LEFT)===A.INTERIOR&&this._label.getLocation(o,K.RIGHT)===A.INTERIOR||(i=!1);return i}},{key:"setNextMin",value:function(i){this._nextMin=i}},{key:"print",value:function(i){M(n,"print",this,1).call(this,i),i.print(" "+this._depth[K.LEFT]+"/"+this._depth[K.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")}},{key:"setMinEdgeRing",value:function(i){this._minEdgeRing=i}},{key:"isLineEdge",value:function(){var i=this._label.isLine(0)||this._label.isLine(1),o=!this._label.isArea(0)||this._label.allPositionsEqual(0,A.EXTERIOR),h=!this._label.isArea(1)||this._label.allPositionsEqual(1,A.EXTERIOR);return i&&o&&h}},{key:"setEdgeRing",value:function(i){this._edgeRing=i}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i}},{key:"setInResult",value:function(i){this._isInResult=i}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)}},{key:"setSym",value:function(i){this._sym=i}},{key:"setVisitedEdge",value:function(i){this.setVisited(i),this._sym.setVisited(i)}},{key:"setEdgeDepths",value:function(i,o){var h=this.getEdge().getDepthDelta();this._isForward||(h=-h);var g=1;i===K.LEFT&&(g=-1);var _=K.opposite(i),x=o+h*g;this.setDepth(i,o),this.setDepth(_,x)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(i){this._next=i}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var i=arguments[0],o=arguments[1];if(po.constructor_.call(this,i),this._isForward=o,o)this.init(i.getCoordinate(0),i.getCoordinate(1));else{var h=i.getNumPoints()-1;this.init(i.getCoordinate(h),i.getCoordinate(h-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(i,o){return i===A.EXTERIOR&&o===A.INTERIOR?1:i===A.INTERIOR&&o===A.EXTERIOR?-1:0}}])}(po),_o=function(){return p(function a(){c(this,a)},[{key:"createNode",value:function(a){return new Er(a,null)}}])}(),us=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(a){a.println("Edges:");for(var n=0;n<this._edges.size();n++){a.println("edge "+n+":");var i=this._edges.get(n);i.print(a),i.eiList.print(a)}}},{key:"find",value:function(a){return this._nodes.find(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof Er){var a=arguments[0];return this._nodes.addNode(a)}if(arguments[0]instanceof U){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(a){rn.out.println(a)}},{key:"isBoundaryNode",value:function(a,n){var i=this._nodes.find(n);if(i===null)return!1;var o=i.getLabel();return o!==null&&o.getLocation(a)===A.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(a,n,i,o){return!!a.equals(i)&&Pe.index(a,n,o)===Pe.COLLINEAR&&Pt.quadrant(a,n)===Pt.quadrant(i,o)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(a){rn.out.print(a)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(a,n){for(var i=0;i<this._edges.size();i++){var o=this._edges.get(i),h=o.getCoordinates();if(this.matchInSameDirection(a,n,h[0],h[1])||this.matchInSameDirection(a,n,h[h.length-1],h[h.length-2]))return o}return null}},{key:"insertEdge",value:function(a){this._edges.add(a)}},{key:"findEdgeEnd",value:function(a){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var i=n.next();if(i.getEdge()===a)return i}return null}},{key:"addEdges",value:function(a){for(var n=a.iterator();n.hasNext();){var i=n.next();this._edges.add(i);var o=new vo(i,!0),h=new vo(i,!1);o.setSym(h),h.setSym(o),this.add(o),this.add(h)}}},{key:"add",value:function(a){this._nodes.add(a),this._edgeEndList.add(a)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(a,n){for(var i=0;i<this._edges.size();i++){var o=this._edges.get(i),h=o.getCoordinates();if(a.equals(h[0])&&n.equals(h[1]))return o}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Le,this._nodes=null,this._edgeEndList=new Le,arguments.length===0)this._nodes=new ri(new _o);else if(arguments.length===1){var a=arguments[0];this._nodes=new ri(a)}}},{key:"linkResultDirectedEdges",value:function(a){for(var n=a.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])}(),bl=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"sortShellsAndHoles",value:function(n,i,o){for(var h=n.iterator();h.hasNext();){var g=h.next();g.isHole()?o.add(g):i.add(g)}}},{key:"computePolygons",value:function(n){for(var i=new Le,o=n.iterator();o.hasNext();){var h=o.next().toPolygon(this._geometryFactory);i.add(h)}return i}},{key:"placeFreeHoles",value:function(n,i){for(var o=i.iterator();o.hasNext();){var h=o.next();if(h.getShell()===null){var g=a.findEdgeRingContaining(h,n);if(g===null)throw new In("unable to assign hole to a shell",h.getCoordinate(0));h.setShell(g)}}}},{key:"buildMinimalEdgeRings",value:function(n,i,o){for(var h=new Le,g=n.iterator();g.hasNext();){var _=g.next();if(_.getMaxNodeDegree()>2){_.linkDirectedEdgesForMinimalEdgeRings();var x=_.buildMinimalRings(),E=this.findShell(x);E!==null?(this.placePolygonHoles(E,x),i.add(E)):o.addAll(x)}else h.add(_)}return h}},{key:"buildMaximalEdgeRings",value:function(n){for(var i=new Le,o=n.iterator();o.hasNext();){var h=o.next();if(h.isInResult()&&h.getLabel().isArea()&&h.getEdgeRing()===null){var g=new Pn(h,this._geometryFactory);i.add(g),g.setInResult()}}return i}},{key:"placePolygonHoles",value:function(n,i){for(var o=i.iterator();o.hasNext();){var h=o.next();h.isHole()&&h.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var i=0,o=null,h=n.iterator();h.hasNext();){var g=h.next();g.isHole()||(o=g,i++)}return se.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),o}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var i=arguments[0],o=arguments[1];us.linkResultDirectedEdges(o);var h=this.buildMaximalEdgeRings(i),g=new Le,_=this.buildMinimalEdgeRings(h,this._shellList,g);this.sortShellsAndHoles(_,this._shellList,g),this.placeFreeHoles(this._shellList,g)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Le;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,i){for(var o=n.getLinearRing(),h=o.getEnvelopeInternal(),g=o.getCoordinateN(0),_=null,x=null,E=i.iterator();E.hasNext();){var O=E.next(),Z=O.getLinearRing(),Y=Z.getEnvelopeInternal();if(!Y.equals(h)&&Y.contains(h)){g=pt.ptNotInList(o.getCoordinates(),Z.getCoordinates());var J=!1;Zi.isInRing(g,Z.getCoordinates())&&(J=!0),J&&(_===null||x.contains(Y))&&(x=(_=O).getLinearRing().getEnvelopeInternal())}}return _}}])}(),yo=function(){return p(function a(){c(this,a)},[{key:"getBounds",value:function(){}}])}(),Fe=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[yo,Q]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var a=arguments[0],n=arguments[1];this._bounds=a,this._item=n}}])}(),ls=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(a){for(var n=null,i=this._items.get(a);2*a<=this._size&&((n=2*a)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(i)<0);a=n)this._items.set(a,this._items.get(n));this._items.set(a,i)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(a){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,a)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Le,this._items.add(null)}}])}(),mn=function(){return p(function a(){c(this,a)},[{key:"insert",value:function(a,n){}},{key:"remove",value:function(a,n){}},{key:"query",value:function(){}}])}(),Ot=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(a){se.isTrue(this._bounds===null),this._childBoundables.add(a)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[yo,Q]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Le,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._level=a}}}}])}(),Ei={reverseOrder:function(){return{compare:function(a,n){return n.compareTo(a)}}},min:function(a){return Ei.sort(a),a.get(0)},sort:function(a,n){var i=a.toArray();n?Ct.sort(i,n):Ct.sort(i);for(var o=a.iterator(),h=0,g=i.length;h<g;h++)o.next(),o.set(i[h])},singletonList:function(a){var n=new Le;return n.add(a),n}},Bl=function(){function a(){c(this,a)}return p(a,null,[{key:"maxDistance",value:function(n,i,o,h,g,_,x,E){var O=a.distance(n,i,g,_);return O=Math.max(O,a.distance(n,i,x,E)),O=Math.max(O,a.distance(o,h,g,_)),O=Math.max(O,a.distance(o,h,x,E))}},{key:"distance",value:function(n,i,o,h){var g=o-n,_=h-i;return Math.sqrt(g*g+_*_)}},{key:"maximumDistance",value:function(n,i){var o=Math.min(n.getMinX(),i.getMinX()),h=Math.min(n.getMinY(),i.getMinY()),g=Math.max(n.getMaxX(),i.getMaxX()),_=Math.max(n.getMaxY(),i.getMaxY());return a.distance(o,h,g,_)}},{key:"minMaxDistance",value:function(n,i){var o=n.getMinX(),h=n.getMinY(),g=n.getMaxX(),_=n.getMaxY(),x=i.getMinX(),E=i.getMinY(),O=i.getMaxX(),Z=i.getMaxY(),Y=a.maxDistance(o,h,o,_,x,E,x,Z);return Y=Math.min(Y,a.maxDistance(o,h,o,_,x,E,O,E)),Y=Math.min(Y,a.maxDistance(o,h,o,_,O,Z,x,Z)),Y=Math.min(Y,a.maxDistance(o,h,o,_,O,Z,O,E)),Y=Math.min(Y,a.maxDistance(o,h,g,h,x,E,x,Z)),Y=Math.min(Y,a.maxDistance(o,h,g,h,x,E,O,E)),Y=Math.min(Y,a.maxDistance(o,h,g,h,O,Z,x,Z)),Y=Math.min(Y,a.maxDistance(o,h,g,h,O,Z,O,E)),Y=Math.min(Y,a.maxDistance(g,_,o,_,x,E,x,Z)),Y=Math.min(Y,a.maxDistance(g,_,o,_,x,E,O,E)),Y=Math.min(Y,a.maxDistance(g,_,o,_,O,Z,x,Z)),Y=Math.min(Y,a.maxDistance(g,_,o,_,O,Z,O,E)),Y=Math.min(Y,a.maxDistance(g,_,g,h,x,E,x,Z)),Y=Math.min(Y,a.maxDistance(g,_,g,h,x,E,O,E)),Y=Math.min(Y,a.maxDistance(g,_,g,h,O,Z,x,Z)),Y=Math.min(Y,a.maxDistance(g,_,g,h,O,Z,O,E))}}])}(),si=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"maximumDistance",value:function(){return Bl.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,i){var o=a.isComposite(this._boundable1),h=a.isComposite(this._boundable2);if(o&&h)return a.area(this._boundable1)>a.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,i),null):(this.expand(this._boundable2,this._boundable1,!0,n,i),null);if(o)return this.expand(this._boundable1,this._boundable2,!1,n,i),null;if(h)return this.expand(this._boundable2,this._boundable1,!0,n,i),null;throw new b("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(a.isComposite(this._boundable1)||a.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var i=n;return this._distance<i._distance?-1:this._distance>i._distance?1:0}},{key:"expand",value:function(n,i,o,h,g){for(var _=n.getChildBoundables().iterator();_.hasNext();){var x=_.next(),E=null;(E=o?new a(i,x,this._itemDistance):new a(x,i,this._itemDistance)).getDistance()<g&&h.add(E)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],i=arguments[1],o=arguments[2];this._boundable1=n,this._boundable2=i,this._itemDistance=o,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof Ot}}])}(),Da=function(){return p(function a(){c(this,a)},[{key:"visitItem",value:function(a){}}])}(),Si=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"queryInternal",value:function(){if(Re(arguments[2],Da)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot)for(var n=arguments[0],i=arguments[2],o=arguments[1].getChildBoundables(),h=0;h<o.size();h++){var g=o.get(h);this.getIntersectsOp().intersects(g.getBounds(),n)&&(g instanceof Ot?this.queryInternal(n,g,i):g instanceof Fe?i.visitItem(g.getItem()):se.shouldNeverReachHere())}else if(Re(arguments[2],Sn)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot)for(var _=arguments[0],x=arguments[2],E=arguments[1].getChildBoundables(),O=0;O<E.size();O++){var Z=E.get(O);this.getIntersectsOp().intersects(Z.getBounds(),_)&&(Z instanceof Ot?this.queryInternal(_,Z,x):Z instanceof Fe?x.add(Z.getItem()):se.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Ot?n+=this.size(o):o instanceof Fe&&(n+=1)}return n}}},{key:"removeItem",value:function(n,i){for(var o=null,h=n.getChildBoundables().iterator();h.hasNext();){var g=h.next();g instanceof Fe&&g.getItem()===i&&(o=g)}return o!==null&&(n.getChildBoundables().remove(o),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new Le:n}if(arguments.length===1){for(var i=arguments[0],o=new Le,h=i.getChildBoundables().iterator();h.hasNext();){var g=h.next();if(g instanceof Ot){var _=this.itemsTree(g);_!==null&&o.add(_)}else g instanceof Fe?o.add(g.getItem()):se.shouldNeverReachHere()}return o.size()<=0?null:o}}},{key:"insert",value:function(n,i){se.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Fe(n,i))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],i=new Le;return this.boundablesAtLevel(n,this._root,i),i}if(arguments.length===3){var o=arguments[0],h=arguments[1],g=arguments[2];if(se.isTrue(o>-2),h.getLevel()===o)return g.add(h),null;for(var _=h.getChildBoundables().iterator();_.hasNext();){var x=_.next();x instanceof Ot?this.boundablesAtLevel(o,x,g):(se.isTrue(x instanceof Fe),o===-1&&g.add(x))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var i=new Le;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i),i}if(arguments.length===2){var o=arguments[0],h=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.queryInternal(o,this._root,h)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,i)}if(arguments.length===3){var o=arguments[0],h=arguments[1],g=arguments[2],_=this.removeItem(h,g);if(_)return!0;for(var x=null,E=h.getChildBoundables().iterator();E.hasNext();){var O=E.next();if(this.getIntersectsOp().intersects(O.getBounds(),o)&&O instanceof Ot&&(_=this.remove(o,O,g))){x=O;break}}return x!==null&&x.getChildBoundables().isEmpty()&&h.getChildBoundables().remove(x),_}}},{key:"createHigherLevels",value:function(n,i){se.isTrue(!n.isEmpty());var o=this.createParentBoundables(n,i+1);return o.size()===1?o.get(0):this.createHigherLevels(o,i+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof Ot){var h=this.depth(o);h>n&&(n=h)}}return n+1}}},{key:"createParentBoundables",value:function(n,i){se.isTrue(!n.isEmpty());var o=new Le;o.add(this.createNode(i));var h=new Le(n);Ei.sort(h,this.getComparator());for(var g=h.iterator();g.hasNext();){var _=g.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(i)),this.lastNode(o).addChildBoundable(_)}return o}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[Q]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Le,this._nodeCapacity=null,arguments.length===0)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];se.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,i){return n>i?1:n<i?-1:0}}])}();Si.IntersectsOp=function(){},Si.DEFAULT_NODE_CAPACITY=10;var Gl=function(){return p(function a(){c(this,a)},[{key:"distance",value:function(a,n){}}])}(),On=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(i,o){se.isTrue(i.length>0);for(var h=new Le,g=0;g<i.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(i[g],o));return h}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.nearestNeighbourK(i,B.POSITIVE_INFINITY,o)}if(arguments.length===3){var h=arguments[0],g=arguments[2],_=arguments[1],x=new ls;x.add(h);for(var E=new ls;!x.isEmpty()&&_>=0;){var O=x.poll(),Z=O.getDistance();if(Z>=_)break;O.isLeaves()?E.size()<g?E.add(O):(E.peek().getDistance()>Z&&(E.poll(),E.add(O)),_=E.peek().getDistance()):O.expandToQueue(x,_)}return n.getItems(E)}}},{key:"createNode",value:function(i){return new cs(i)}},{key:"size",value:function(){return arguments.length===0?M(n,"size",this,1).call(this):M(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof De))return M(n,"insert",this,1).apply(this,arguments);var i=arguments[0],o=arguments[1];if(i.isNull())return null;M(n,"insert",this,1).call(this,i,o)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(i,o){for(var h=Math.trunc(Math.ceil(i.size()/o)),g=new Array(o).fill(null),_=i.iterator(),x=0;x<o;x++){g[x]=new Le;for(var E=0;_.hasNext()&&E<h;){var O=_.next();g[x].add(O),E++}}return g}},{key:"query",value:function(){if(arguments.length===1){var i=arguments[0];return M(n,"query",this,1).call(this,i)}if(arguments.length===2){var o=arguments[0],h=arguments[1];M(n,"query",this,1).call(this,o,h)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(i,o){return M(n,"createParentBoundables",this,1).call(this,i,o)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof De){var i=arguments[0],o=arguments[1];return M(n,"remove",this,1).call(this,i,o)}return M(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?M(n,"depth",this,1).call(this):M(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(i,o){se.isTrue(!i.isEmpty());var h=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),g=new Le(i);Ei.sort(g,n.xComparator);var _=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(_,o)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Re(arguments[0],Gl)){var i=arguments[0];if(this.isEmpty())return null;var o=new si(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(o)}if(arguments[0]instanceof si){var h=arguments[0],g=B.POSITIVE_INFINITY,_=null,x=new ls;for(x.add(h);!x.isEmpty()&&g>0;){var E=x.poll(),O=E.getDistance();if(O>=g)break;E.isLeaves()?(g=O,_=E):E.expandToQueue(x,g)}return _===null?null:[_.getBoundable(0).getItem(),_.getBoundable(1).getItem()]}}else{if(arguments.length===2){var Z=arguments[0],Y=arguments[1];if(this.isEmpty()||Z.isEmpty())return null;var J=new si(this.getRoot(),Z.getRoot(),Y);return this.nearestNeighbour(J)}if(arguments.length===3){var he=arguments[2],_e=new Fe(arguments[0],arguments[1]),Se=new si(this.getRoot(),_e,he);return this.nearestNeighbour(Se)[0]}if(arguments.length===4){var je=arguments[2],Be=arguments[3],Je=new Fe(arguments[0],arguments[1]),at=new si(this.getRoot(),Je,je);return this.nearestNeighbourK(at,Be)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var i=arguments[0],o=arguments[1],h=B.POSITIVE_INFINITY,g=new ls;for(g.add(i);!g.isEmpty();){var _=g.poll(),x=_.getDistance();if(x>o)return!1;if(_.maximumDistance()<=o)return!0;if(_.isLeaves()){if((h=x)<=o)return!0}else _.expandToQueue(g,h)}return!1}if(arguments.length===3){var E=arguments[0],O=arguments[1],Z=arguments[2],Y=new si(this.getRoot(),E.getRoot(),O);return this.isWithinDistance(Y,Z)}}},{key:"interfaces_",get:function(){return[mn,Q]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var i=arguments[0];Si.constructor_.call(this,i)}}},{key:"centreX",value:function(i){return n.avg(i.getMinX(),i.getMaxX())}},{key:"avg",value:function(i,o){return(i+o)/2}},{key:"getItems",value:function(i){for(var o=new Array(i.size()).fill(null),h=0;!i.isEmpty();){var g=i.poll();o[h]=g.getBoundable(0).getItem(),h++}return o}},{key:"centreY",value:function(i){return n.avg(i.getMinY(),i.getMaxY())}}])}(Si),cs=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"computeBounds",value:function(){for(var i=null,o=this.getChildBoundables().iterator();o.hasNext();){var h=o.next();i===null?i=new De(h.getBounds()):i.expandToInclude(h.getBounds())}return i}}],[{key:"constructor_",value:function(){var i=arguments[0];Ot.constructor_.call(this,i)}}])}(Ot);On.STRtreeNode=cs,On.xComparator=new(function(){return p(function a(){c(this,a)},[{key:"interfaces_",get:function(){return[ne]}},{key:"compare",value:function(a,n){return Si.compareDoubles(On.centreX(a.getBounds()),On.centreX(n.getBounds()))}}])}()),On.yComparator=new(function(){return p(function a(){c(this,a)},[{key:"interfaces_",get:function(){return[ne]}},{key:"compare",value:function(a,n){return Si.compareDoubles(On.centreY(a.getBounds()),On.centreY(n.getBounds()))}}])}()),On.intersectsOp=new(function(){return p(function a(){c(this,a)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(a,n){return a.intersects(n)}}])}()),On.DEFAULT_NODE_CAPACITY=10;var Zl=function(){function a(){c(this,a)}return p(a,null,[{key:"relativeSign",value:function(n,i){return n<i?-1:n>i?1:0}},{key:"compare",value:function(n,i,o){if(i.equals2D(o))return 0;var h=a.relativeSign(i.x,o.x),g=a.relativeSign(i.y,o.y);switch(n){case 0:return a.compareValue(h,g);case 1:return a.compareValue(g,h);case 2:return a.compareValue(g,-h);case 3:return a.compareValue(-h,g);case 4:return a.compareValue(-h,-g);case 5:return a.compareValue(-g,-h);case 6:return a.compareValue(-g,h);case 7:return a.compareValue(h,-g)}return se.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,i){return n<0?-1:n>0?1:i<0?-1:i>0?1:0}}])}(),Mn=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(a){var n=a;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?Zl.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===a}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this._segString=a,this.coord=new U(n),this.segmentIndex=i,this._segmentOctant=o,this._isInterior=!n.equals2D(a.getCoordinate(i))}}])}(),Ul=function(){return p(function a(){c(this,a)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),za=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var a=new yr;this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next();this.addEdgeCoordinates(i,o,a),i=o}return a.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var a=new Le;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var n=a.iterator();n.hasNext();){var i=n.next().intValue();this.add(this._edge.getCoordinate(i),i)}}},{key:"createSplitEdgePts",value:function(a,n){var i=n.segmentIndex-a.segmentIndex+2;if(i===2)return[new U(a.coord),new U(n.coord)];var o=this._edge.getCoordinate(n.segmentIndex),h=n.isInterior()||!n.coord.equals2D(o);h||i--;var g=new Array(i).fill(null),_=0;g[_++]=new U(a.coord);for(var x=a.segmentIndex+1;x<=n.segmentIndex;x++)g[_++]=this._edge.getCoordinate(x);return h&&(g[_]=new U(n.coord)),g}},{key:"print",value:function(a){a.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"findCollapsesFromExistingVertices",value:function(a){for(var n=0;n<this._edge.size()-2;n++){var i=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var o=this._edge.getCoordinate(n+2);i.equals2D(o)&&a.add(Nn.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(a,n,i){var o=this.createSplitEdgePts(a,n);i.add(o,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next(),h=this.createSplitEdge(i,o);a.add(h),i=o}}},{key:"findCollapseIndex",value:function(a,n,i){if(!a.coord.equals2D(n.coord))return!1;var o=n.segmentIndex-a.segmentIndex;return n.isInterior()||o--,o===1&&(i[0]=a.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(a){for(var n=new Array(1).fill(null),i=this.iterator(),o=i.next();i.hasNext();){var h=i.next();this.findCollapseIndex(o,h,n)&&a.add(Nn.valueOf(n[0])),o=h}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)}},{key:"createSplitEdge",value:function(a,n){var i=this.createSplitEdgePts(a,n);return new Vn(i,this._edge.getData())}},{key:"add",value:function(a,n){var i=new Mn(this._edge,a,n,this._edge.getSegmentOctant(n)),o=this._nodeMap.get(i);return o!==null?(se.isTrue(o.coord.equals2D(a),"Found equal nodes with different coordinates"),o):(this._nodeMap.put(i,i),i)}},{key:"checkSplitEdgesCorrectness",value:function(a){var n=this._edge.getCoordinates(),i=a.get(0).getCoordinate(0);if(!i.equals2D(n[0]))throw new fe("bad split edge start point at "+i);var o=a.get(a.size()-1).getCoordinates(),h=o[o.length-1];if(!h.equals2D(n[n.length-1]))throw new fe("bad split edge end point at "+h)}}],[{key:"constructor_",value:function(){this._nodeMap=new ct,this._edge=null;var a=arguments[0];this._edge=a}}])}(),oi=function(){function a(){c(this,a)}return p(a,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];if(n===0&&i===0)throw new b("Cannot compute the octant for point ( "+n+", "+i+" )");var o=Math.abs(n),h=Math.abs(i);return n>=0?i>=0?o>=h?0:1:o>=h?7:6:i>=0?o>=h?3:2:o>=h?4:5}if(arguments[0]instanceof U&&arguments[1]instanceof U){var g=arguments[0],_=arguments[1],x=_.x-g.x,E=_.y-g.y;if(x===0&&E===0)throw new b("Cannot compute the octant for two identical points "+g);return a.octant(x,E)}}}])}(),Fa=function(){return p(function a(){c(this,a)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(a){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(a){}},{key:"getData",value:function(){}}])}(),ba=function(){return p(function a(){c(this,a)},[{key:"addIntersection",value:function(a,n){}},{key:"interfaces_",get:function(){return[Fa]}}])}(),Vn=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,i){return n.equals2D(i)?0:oi.octant(n,i)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this.addIntersectionNode(n,i)}else if(arguments.length===4){var o=arguments[1],h=arguments[3],g=new U(arguments[0].getIntersection(h));this.addIntersection(g,o)}}},{key:"toString",value:function(){return wr.toLineString(new xr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,i){var o=i,h=o+1;if(h<this._pts.length){var g=this._pts[h];n.equals2D(g)&&(o=h)}return this._nodeList.add(n,o)}},{key:"addIntersections",value:function(n,i,o){for(var h=0;h<n.getIntersectionNum();h++)this.addIntersection(n,i,o,h)}},{key:"interfaces_",get:function(){return[ba]}}],[{key:"constructor_",value:function(){this._nodeList=new za(this),this._pts=null,this._data=null;var n=arguments[0],i=arguments[1];this._pts=n,this._data=i}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],i=new Le;return a.getNodedSubstrings(n,i),i}if(arguments.length===2)for(var o=arguments[1],h=arguments[0].iterator();h.hasNext();)h.next().getNodeList().addSplitEdges(o)}}])}(),$t=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof a){var n=arguments[0],i=Pe.index(this.p0,this.p1,n.p0),o=Pe.index(this.p0,this.p1,n.p1);return i>=0&&o>=0||i<=0&&o<=0?Math.max(i,o):0}if(arguments[0]instanceof U){var h=arguments[0];return Pe.index(this.p0,this.p1,h)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof a))return!1;var i=n;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)}},{key:"intersection",value:function(n){var i=new jn;return i.computeIntersection(this.p0,this.p1,n.p0,n.p1),i.hasIntersection()?i.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof U){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new U(n);var i=this.projectionFactor(n),o=new U;return o.x=this.p0.x+i*(this.p1.x-this.p0.x),o.y=this.p0.y+i*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof a){var h=arguments[0],g=this.projectionFactor(h.p0),_=this.projectionFactor(h.p1);if(g>=1&&_>=1||g<=0&&_<=0)return null;var x=this.project(h.p0);g<0&&(x=this.p0),g>1&&(x=this.p1);var E=this.project(h.p1);return _<0&&(E=this.p0),_>1&&(E=this.p1),new a(x,E)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return gn.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return a.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,h=i*i+o*o;return h<=0?B.NaN:((n.x-this.p0.x)*i+(n.y-this.p0.y)*o)/h}},{key:"closestPoints",value:function(n){var i=this.intersection(n);if(i!==null)return[i,i];var o=new Array(2).fill(null),h=B.MAX_VALUE,g=null,_=this.closestPoint(n.p0);h=_.distance(n.p0),o[0]=_,o[1]=n.p0;var x=this.closestPoint(n.p1);(g=x.distance(n.p1))<h&&(h=g,o[0]=x,o[1]=n.p1);var E=n.closestPoint(this.p0);(g=E.distance(this.p0))<h&&(h=g,o[0]=this.p0,o[1]=E);var O=n.closestPoint(this.p1);return(g=O.distance(this.p1))<h&&(h=g,o[0]=this.p1,o[1]=O),o}},{key:"closestPoint",value:function(n){var i=this.projectionFactor(n);return i>0&&i<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var i=n,o=this.p0.compareTo(i.p0);return o!==0?o:this.p1.compareTo(i.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return io.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,i){var o=this.p0.x+n*(this.p1.x-this.p0.x),h=this.p0.y+n*(this.p1.y-this.p0.y),g=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,x=Math.sqrt(g*g+_*_),E=0,O=0;if(i!==0){if(x<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");E=i*g/x,O=i*_/x}return new U(o-O,h+E)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=o.x,this.p1.y=o.y}}},{key:"segmentFraction",value:function(n){var i=this.projectionFactor(n);return i<0?i=0:(i>1||B.isNaN(i))&&(i=1),i}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var i=this.p1.getY()-this.p0.getY(),o=this.p0.getX()-this.p1.getX(),h=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),g=i*i+o*o,_=i*i-o*o,x=n.getX(),E=n.getY();return new U((-_*x-2*i*o*E-2*i*h)/g,(_*E-2*i*o*x-2*o*h)/g)}},{key:"distance",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return gn.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof U){var i=arguments[0];return gn.pointToSegment(i,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var i=new U;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}},{key:"hashCode",value:function(){var n=B.doubleToLongBits(this.p0.x);n^=31*B.doubleToLongBits(this.p0.y);var i=Math.trunc(n)^Math.trunc(n>>32),o=B.doubleToLongBits(this.p1.x);return o^=31*B.doubleToLongBits(this.p1.y),i^(Math.trunc(o)^Math.trunc(o>>32))}},{key:"interfaces_",get:function(){return[V,Q]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)a.constructor_.call(this,new U,new U);else if(arguments.length===1){var n=arguments[0];a.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.p0=i,this.p1=o}else if(arguments.length===4){var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3];a.constructor_.call(this,new U(h,g),new U(_,x))}}},{key:"midPoint",value:function(n,i){return new U((n.x+i.x)/2,(n.y+i.y)/2)}}])}(),Ba=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var a=arguments[1],n=arguments[2],i=arguments[3];arguments[0].getLineSegment(a,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new $t,this._overlapSeg2=new $t}}])}(),xo=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(a,n){n.p0=this._pts[a],n.p1=this._pts[a+1]}},{key:"computeSelect",value:function(a,n,i,o){var h=this._pts[n],g=this._pts[i];if(i-n==1)return o.select(this,n),null;if(!a.intersects(h,g))return null;var _=Math.trunc((n+i)/2);n<_&&this.computeSelect(a,n,_,o),_<i&&this.computeSelect(a,_,i,o)}},{key:"getCoordinates",value:function(){for(var a=new Array(this._end-this._start+1).fill(null),n=0,i=this._start;i<=this._end;i++)a[n++]=this._pts[i];return a}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var a=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,a,a._start,a._end,n)}else if(arguments.length===6){var i=arguments[0],o=arguments[1],h=arguments[2],g=arguments[3],_=arguments[4],x=arguments[5];if(o-i==1&&_-g==1)return x.overlap(this,i,h,g),null;if(!this.overlaps(i,o,h,g,_))return null;var E=Math.trunc((i+o)/2),O=Math.trunc((g+_)/2);i<E&&(g<O&&this.computeOverlaps(i,E,h,g,O,x),O<_&&this.computeOverlaps(i,E,h,O,_,x)),E<o&&(g<O&&this.computeOverlaps(E,o,h,g,O,x),O<_&&this.computeOverlaps(E,o,h,O,_,x))}}},{key:"setId",value:function(a){this._id=a}},{key:"select",value:function(a,n){this.computeSelect(a,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var a=this._pts[this._start],n=this._pts[this._end];this._env=new De(a,n)}return this._env}},{key:"overlaps",value:function(a,n,i,o,h){return De.intersects(this._pts[a],this._pts[n],i._pts[o],i._pts[h])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this._pts=a,this._start=n,this._end=i,this._context=o}}])}(),Yl=function(){function a(){c(this,a)}return p(a,null,[{key:"findChainEnd",value:function(n,i){for(var o=i;o<n.length-1&&n[o].equals2D(n[o+1]);)o++;if(o>=n.length-1)return n.length-1;for(var h=Pt.quadrant(n[o],n[o+1]),g=i+1;g<n.length&&!(!n[g-1].equals2D(n[g])&&Pt.quadrant(n[g-1],n[g])!==h);)g++;return g-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return a.getChains(n,null)}if(arguments.length===2){var i=arguments[0],o=arguments[1],h=new Le,g=0;do{var _=a.findChainEnd(i,g),x=new xo(i,g,_,o);h.add(x),g=_}while(g<i.length-1);return h}}}])}(),ko=function(){return p(function a(){c(this,a)},[{key:"computeNodes",value:function(a){}},{key:"getNodedSubstrings",value:function(){}}])}(),hs=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(a){this._segInt=a}},{key:"interfaces_",get:function(){return[ko]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.setSegmentIntersector(a)}}}}])}(),wo=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Vn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(i){for(var o=Yl.getChains(i.getCoordinates(),i).iterator();o.hasNext();){var h=o.next();h.setId(this._idCounter++),this._index.insert(h.getEnvelope(),h),this._monoChains.add(h)}}},{key:"computeNodes",value:function(i){this._nodedSegStrings=i;for(var o=i.iterator();o.hasNext();)this.add(o.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var i=new Eo(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var h=o.next(),g=this._index.query(h.getEnvelope()).iterator();g.hasNext();){var _=g.next();if(_.getId()>h.getId()&&(h.computeOverlaps(_,i),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Le,this._index=new On,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var i=arguments[0];hs.constructor_.call(this,i)}}}}])}(hs),Eo=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"overlap",value:function(){if(arguments.length!==4)return M(n,"overlap",this,1).apply(this,arguments);var i=arguments[1],o=arguments[2],h=arguments[3],g=arguments[0].getContext(),_=o.getContext();this._si.processIntersections(g,i,_,h)}}],[{key:"constructor_",value:function(){this._si=null;var i=arguments[0];this._si=i}}])}(Ba);wo.SegmentOverlapAction=Eo;var sn=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"isDeletable",value:function(n,i,o,h){var g=this._inputLine[n],_=this._inputLine[i],x=this._inputLine[o];return!!this.isConcave(g,_,x)&&!!this.isShallow(g,_,x,h)&&this.isShallowSampled(g,_,n,o,h)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,i=this.findNextNonDeletedIndex(n),o=this.findNextNonDeletedIndex(i),h=!1;o<this._inputLine.length;){var g=!1;this.isDeletable(n,i,o,this._distanceTol)&&(this._isDeleted[i]=a.DELETE,g=!0,h=!0),n=g?o:i,i=this.findNextNonDeletedIndex(n),o=this.findNextNonDeletedIndex(i)}return h}},{key:"isShallowConcavity",value:function(n,i,o,h){return Pe.index(n,i,o)===this._angleOrientation&&gn.pointToSegment(i,n,o)<h}},{key:"isShallowSampled",value:function(n,i,o,h,g){var _=Math.trunc((h-o)/a.NUM_PTS_TO_CHECK);_<=0&&(_=1);for(var x=o;x<h;x+=_)if(!this.isShallow(n,i,this._inputLine[x],g))return!1;return!0}},{key:"isConcave",value:function(n,i,o){var h=Pe.index(n,i,o)===this._angleOrientation;return h}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=Pe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var i=n+1;i<this._inputLine.length&&this._isDeleted[i]===a.DELETE;)i++;return i}},{key:"isShallow",value:function(n,i,o,h){return gn.pointToSegment(i,n,o)<h}},{key:"collapseLine",value:function(){for(var n=new yr,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==a.DELETE&&n.add(this._inputLine[i]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Pe.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,i){return new a(n).simplify(i)}}])}();sn.INIT=0,sn.DELETE=1,sn.KEEP=1,sn.NUM_PTS_TO_CHECK=10;var Nr=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getCoordinates",value:function(){return this._ptList.toArray(a.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var i=new U(n);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,i){if(i)for(var o=0;o<n.length;o++)this.addPt(n[o]);else for(var h=n.length-1;h>=0;h--)this.addPt(n[h])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return n.distance(i)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Cn().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new U(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(n.equals(i))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Le}}])}();Nr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var yt=function(){function a(){c(this,a)}return p(a,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=a.PI_TIMES_2;for(;n<=-Math.PI;)n+=a.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var i=arguments[0],o=arguments[1],h=o.x-i.x,g=o.y-i.y;return Math.atan2(g,h)}}},{key:"isAcute",value:function(n,i,o){var h=n.x-i.x,g=n.y-i.y;return h*(o.x-i.x)+g*(o.y-i.y)>0}},{key:"isObtuse",value:function(n,i,o){var h=n.x-i.x,g=n.y-i.y;return h*(o.x-i.x)+g*(o.y-i.y)<0}},{key:"interiorAngle",value:function(n,i,o){var h=a.angle(i,n),g=a.angle(i,o);return Math.abs(g-h)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=a.PI_TIMES_2;n>=a.PI_TIMES_2&&(n=0)}else{for(;n>=a.PI_TIMES_2;)n-=a.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,i,o){var h=a.angle(i,n),g=a.angle(i,o);return a.diff(h,g)}},{key:"diff",value:function(n,i){var o=null;return(o=n<i?i-n:n-i)>Math.PI&&(o=2*Math.PI-o),o}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,i){var o=Math.sin(i-n);return o>0?a.COUNTERCLOCKWISE:o<0?a.CLOCKWISE:a.NONE}},{key:"angleBetweenOriented",value:function(n,i,o){var h=a.angle(i,n),g=a.angle(i,o)-h;return g<=-Math.PI?g+a.PI_TIMES_2:g>Math.PI?g-a.PI_TIMES_2:g}}])}();yt.PI_TIMES_2=2*Math.PI,yt.PI_OVER_2=Math.PI/2,yt.PI_OVER_4=Math.PI/4,yt.COUNTERCLOCKWISE=Pe.COUNTERCLOCKWISE,yt.CLOCKWISE=Pe.CLOCKWISE,yt.NONE=Pe.COLLINEAR;var Ir=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"addNextSegment",value:function(n,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=Pe.index(this._s0,this._s1,this._s2),h=o===Pe.CLOCKWISE&&this._side===K.LEFT||o===Pe.COUNTERCLOCKWISE&&this._side===K.RIGHT;o===0?this.addCollinear(i):h?this.addOutsideTurn(o,i):this.addInsideTurn(o,i)}},{key:"addLineEndCap",value:function(n,i){var o=new $t(n,i),h=new $t;this.computeOffsetSegment(o,K.LEFT,this._distance,h);var g=new $t;this.computeOffsetSegment(o,K.RIGHT,this._distance,g);var _=i.x-n.x,x=i.y-n.y,E=Math.atan2(x,_);switch(this._bufParams.getEndCapStyle()){case P.CAP_ROUND:this._segList.addPt(h.p1),this.addDirectedFillet(i,E+Math.PI/2,E-Math.PI/2,Pe.CLOCKWISE,this._distance),this._segList.addPt(g.p1);break;case P.CAP_FLAT:this._segList.addPt(h.p1),this._segList.addPt(g.p1);break;case P.CAP_SQUARE:var O=new U;O.x=Math.abs(this._distance)*Math.cos(E),O.y=Math.abs(this._distance)*Math.sin(E);var Z=new U(h.p1.x+O.x,h.p1.y+O.y),Y=new U(g.p1.x+O.x,g.p1.y+O.y);this._segList.addPt(Z),this._segList.addPt(Y)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,i,o,h){var g=io.intersection(i.p0,i.p1,o.p0,o.p1);if(g!==null&&(h<=0?1:g.distance(n)/Math.abs(h))<=this._bufParams.getMitreLimit())return this._segList.addPt(g),null;this.addLimitedMitreJoin(i,o,h,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*a.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===P.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===P.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new U(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new U(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new U(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new U(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,i){this._segList.addPts(n,i)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,i,o,h,g){var _=i.x-n.x,x=i.y-n.y,E=Math.atan2(x,_),O=o.x-n.x,Z=o.y-n.y,Y=Math.atan2(Z,O);h===Pe.CLOCKWISE?E<=Y&&(E+=2*Math.PI):E>=Y&&(E-=2*Math.PI),this._segList.addPt(i),this.addDirectedFillet(n,E,Y,h,g),this._segList.addPt(o)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,i,o){this._s1=n,this._s2=i,this._side=o,this._seg1.setCoordinates(n,i),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,i,o,h){var g=this._seg0.p1,_=yt.angle(g,this._seg0.p0),x=yt.angleBetweenOriented(this._seg0.p0,g,this._seg1.p1)/2,E=yt.normalize(_+x),O=yt.normalize(E+Math.PI),Z=h*o,Y=o-Z*Math.abs(Math.sin(x)),J=g.x+Z*Math.cos(O),he=g.y+Z*Math.sin(O),_e=new U(J,he),Se=new $t(g,_e),je=Se.pointAlongOffset(1,Y),Be=Se.pointAlongOffset(1,-Y);this._side===K.LEFT?(this._segList.addPt(je),this._segList.addPt(Be)):(this._segList.addPt(Be),this._segList.addPt(je))}},{key:"addDirectedFillet",value:function(n,i,o,h,g){var _=h===Pe.CLOCKWISE?-1:1,x=Math.abs(i-o),E=Math.trunc(x/this._filletAngleQuantum+.5);if(E<1)return null;for(var O=x/E,Z=new U,Y=0;Y<E;Y++){var J=i+_*Y*O;Z.x=n.x+g*Math.cos(J),Z.y=n.y+g*Math.sin(J),this._segList.addPt(Z)}}},{key:"computeOffsetSegment",value:function(n,i,o,h){var g=i===K.LEFT?1:-1,_=n.p1.x-n.p0.x,x=n.p1.y-n.p0.y,E=Math.sqrt(_*_+x*x),O=g*o*_/E,Z=g*o*x/E;h.p0.x=n.p0.x-Z,h.p0.y=n.p0.y+O,h.p1.x=n.p1.x-Z,h.p1.y=n.p1.y+O}},{key:"addInsideTurn",value:function(n,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*a.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new U((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var h=new U((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(h)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var i=new U(n.x+this._distance,n.y);this._segList.addPt(i),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,i){this._segList.addPt(n.p1),this._segList.addPt(i.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Nr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*a.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===P.JOIN_BEVEL||this._bufParams.getJoinStyle()===P.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Pe.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new $t,this._seg1=new $t,this._offset0=new $t,this._offset1=new $t,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],i=arguments[1],o=arguments[2];this._precisionModel=n,this._bufParams=i,this._li=new jn,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===P.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR),this.init(o)}}])}();Ir.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ir.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ir.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ir.MAX_CLOSING_SEG_LEN_FACTOR=80;var Lr=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getOffsetCurve",value:function(n,i){if(this._distance=i,i===0)return null;var o=i<0,h=Math.abs(i),g=this.getSegGen(h);n.length<=1?this.computePointCurve(n[0],g):this.computeOffsetCurve(n,o,g);var _=g.getCoordinates();return o&&pt.reverse(_),_}},{key:"computeSingleSidedBufferCurve",value:function(n,i,o){var h=this.simplifyTolerance(this._distance);if(i){o.addSegments(n,!0);var g=sn.simplify(n,-h),_=g.length-1;o.initSideSegments(g[_],g[_-1],K.LEFT),o.addFirstSegment();for(var x=_-2;x>=0;x--)o.addNextSegment(g[x],!0)}else{o.addSegments(n,!1);var E=sn.simplify(n,h),O=E.length-1;o.initSideSegments(E[0],E[1],K.LEFT),o.addFirstSegment();for(var Z=2;Z<=O;Z++)o.addNextSegment(E[Z],!0)}o.addLastSegment(),o.closeRing()}},{key:"computeRingBufferCurve",value:function(n,i,o){var h=this.simplifyTolerance(this._distance);i===K.RIGHT&&(h=-h);var g=sn.simplify(n,h),_=g.length-1;o.initSideSegments(g[_-1],g[0],i);for(var x=1;x<=_;x++){var E=x!==1;o.addNextSegment(g[x],E)}o.closeRing()}},{key:"computeLineBufferCurve",value:function(n,i){var o=this.simplifyTolerance(this._distance),h=sn.simplify(n,o),g=h.length-1;i.initSideSegments(h[0],h[1],K.LEFT);for(var _=2;_<=g;_++)i.addNextSegment(h[_],!0);i.addLastSegment(),i.addLineEndCap(h[g-1],h[g]);var x=sn.simplify(n,-o),E=x.length-1;i.initSideSegments(x[E],x[E-1],K.LEFT);for(var O=E-2;O>=0;O--)i.addNextSegment(x[O],!0);i.addLastSegment(),i.addLineEndCap(x[1],x[0]),i.closeRing()}},{key:"computePointCurve",value:function(n,i){switch(this._bufParams.getEndCapStyle()){case P.CAP_ROUND:i.createCircle(n);break;case P.CAP_SQUARE:i.createSquare(n)}}},{key:"getLineCurve",value:function(n,i){if(this._distance=i,this.isLineOffsetEmpty(i))return null;var o=Math.abs(i),h=this.getSegGen(o);if(n.length<=1)this.computePointCurve(n[0],h);else if(this._bufParams.isSingleSided()){var g=i<0;this.computeSingleSidedBufferCurve(n,g,h)}else this.computeLineBufferCurve(n,h);return h.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,i,o){if(this._distance=o,n.length<=2)return this.getLineCurve(n,o);if(o===0)return a.copyCoordinates(n);var h=this.getSegGen(o);return this.computeRingBufferCurve(n,i,h),h.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,i,o){var h=this.simplifyTolerance(this._distance);if(i){var g=sn.simplify(n,-h),_=g.length-1;o.initSideSegments(g[_],g[_-1],K.LEFT),o.addFirstSegment();for(var x=_-2;x>=0;x--)o.addNextSegment(g[x],!0)}else{var E=sn.simplify(n,h),O=E.length-1;o.initSideSegments(E[0],E[1],K.LEFT),o.addFirstSegment();for(var Z=2;Z<=O;Z++)o.addNextSegment(E[Z],!0)}o.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new Ir(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],i=arguments[1];this._precisionModel=n,this._bufParams=i}},{key:"copyCoordinates",value:function(n){for(var i=new Array(n.length).fill(null),o=0;o<i.length;o++)i[o]=new U(n[o]);return i}}])}(),Qt=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var a=arguments[0],n=new Le,i=this._subgraphs.iterator();i.hasNext();){var o=i.next(),h=o.getEnvelope();a.y<h.getMinY()||a.y>h.getMaxY()||this.findStabbedSegments(a,o.getDirectedEdges(),n)}return n}if(arguments.length===3){if(Re(arguments[2],Sn)&&arguments[0]instanceof U&&arguments[1]instanceof vo){for(var g=arguments[0],_=arguments[1],x=arguments[2],E=_.getEdge().getCoordinates(),O=0;O<E.length-1;O++)if(this._seg.p0=E[O],this._seg.p1=E[O+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<g.x||this._seg.isHorizontal()||g.y<this._seg.p0.y||g.y>this._seg.p1.y||Pe.index(this._seg.p0,this._seg.p1,g)===Pe.RIGHT)){var Z=_.getDepth(K.LEFT);this._seg.p0.equals(E[O])||(Z=_.getDepth(K.RIGHT));var Y=new So(this._seg,Z);x.add(Y)}}else if(Re(arguments[2],Sn)&&arguments[0]instanceof U&&Re(arguments[1],Sn))for(var J=arguments[0],he=arguments[2],_e=arguments[1].iterator();_e.hasNext();){var Se=_e.next();Se.isForward()&&this.findStabbedSegments(J,Se,he)}}}},{key:"getDepth",value:function(a){var n=this.findStabbedSegments(a);return n.size()===0?0:Ei.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new $t;var a=arguments[0];this._subgraphs=a}}])}(),So=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(a){var n=a;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(n._upwardSeg);return i!==0||(i=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?i:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(a,n){var i=a.p0.compareTo(n.p0);return i!==0?i:a.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[0],n=arguments[1];this._upwardSeg=new $t(a),this._leftDepth=n}}])}();Qt.DepthSegment=So;var No=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,null,[{key:"constructor_",value:function(){F.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(F),Io=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getY",value:function(){var n=this.y/this.w;if(B.isNaN(n)||B.isInfinite(n))throw new No;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(B.isNaN(n)||B.isInfinite(n))throw new No;return n}},{key:"getCoordinate",value:function(){var n=new U;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],o=arguments[1];this.x=i,this.y=o,this.w=1}else if(arguments[0]instanceof a&&arguments[1]instanceof a){var h=arguments[0],g=arguments[1];this.x=h.y*g.w-g.y*h.w,this.y=g.x*h.w-h.x*g.w,this.w=h.x*g.y-g.x*h.y}else if(arguments[0]instanceof U&&arguments[1]instanceof U){var _=arguments[0],x=arguments[1];this.x=_.y-x.y,this.y=x.x-_.x,this.w=_.x*x.y-x.x*_.y}}else if(arguments.length===3){var E=arguments[0],O=arguments[1],Z=arguments[2];this.x=E,this.y=O,this.w=Z}else if(arguments.length===4){var Y=arguments[0],J=arguments[1],he=arguments[2],_e=arguments[3],Se=Y.y-J.y,je=J.x-Y.x,Be=Y.x*J.y-J.x*Y.y,Je=he.y-_e.y,at=_e.x-he.x,Nt=he.x*_e.y-_e.x*he.y;this.x=je*Nt-at*Be,this.y=Je*Be-Se*Nt,this.w=Se*at-Je*je}}}])}(),Lo=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"area",value:function(){return a.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return a.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new b("Supplied point is null.");return a.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return a.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return a.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return a.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return a.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return a.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return a.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],i=arguments[1],o=arguments[2];this.p0=n,this.p1=i,this.p2=o}},{key:"area",value:function(n,i,o){return Math.abs(((o.x-n.x)*(i.y-n.y)-(i.x-n.x)*(o.y-n.y))/2)}},{key:"signedArea",value:function(n,i,o){return((o.x-n.x)*(i.y-n.y)-(i.x-n.x)*(o.y-n.y))/2}},{key:"det",value:function(n,i,o,h){return n*h-i*o}},{key:"interpolateZ",value:function(n,i,o,h){var g=i.x,_=i.y,x=o.x-g,E=h.x-g,O=o.y-_,Z=h.y-_,Y=x*Z-E*O,J=n.x-g,he=n.y-_,_e=(Z*J-E*he)/Y,Se=(-O*J+x*he)/Y;return i.getZ()+_e*(o.getZ()-i.getZ())+Se*(h.getZ()-i.getZ())}},{key:"longestSideLength",value:function(n,i,o){var h=n.distance(i),g=i.distance(o),_=o.distance(n),x=h;return g>x&&(x=g),_>x&&(x=_),x}},{key:"circumcentreDD",value:function(n,i,o){var h=Ce.valueOf(n.x).subtract(o.x),g=Ce.valueOf(n.y).subtract(o.y),_=Ce.valueOf(i.x).subtract(o.x),x=Ce.valueOf(i.y).subtract(o.y),E=Ce.determinant(h,g,_,x).multiply(2),O=h.sqr().add(g.sqr()),Z=_.sqr().add(x.sqr()),Y=Ce.determinant(g,O,x,Z),J=Ce.determinant(h,O,_,Z),he=Ce.valueOf(o.x).subtract(Y.divide(E)).doubleValue(),_e=Ce.valueOf(o.y).add(J.divide(E)).doubleValue();return new U(he,_e)}},{key:"isAcute",value:function(n,i,o){return!!yt.isAcute(n,i,o)&&!!yt.isAcute(i,o,n)&&!!yt.isAcute(o,n,i)}},{key:"circumcentre",value:function(n,i,o){var h=o.x,g=o.y,_=n.x-h,x=n.y-g,E=i.x-h,O=i.y-g,Z=2*a.det(_,x,E,O),Y=a.det(x,_*_+x*x,O,E*E+O*O),J=a.det(_,_*_+x*x,E,E*E+O*O);return new U(h-Y/Z,g+J/Z)}},{key:"perpendicularBisector",value:function(n,i){var o=i.x-n.x,h=i.y-n.y,g=new Io(n.x+o/2,n.y+h/2,1),_=new Io(n.x-h+o/2,n.y+o+h/2,1);return new Io(g,_)}},{key:"angleBisector",value:function(n,i,o){var h=i.distance(n),g=h/(h+i.distance(o)),_=o.x-n.x,x=o.y-n.y;return new U(n.x+g*_,n.y+g*x)}},{key:"area3D",value:function(n,i,o){var h=i.x-n.x,g=i.y-n.y,_=i.getZ()-n.getZ(),x=o.x-n.x,E=o.y-n.y,O=o.getZ()-n.getZ(),Z=g*O-_*E,Y=_*x-h*O,J=h*E-g*x,he=Z*Z+Y*Y+J*J,_e=Math.sqrt(he)/2;return _e}},{key:"centroid",value:function(n,i,o){var h=(n.x+i.x+o.x)/3,g=(n.y+i.y+o.y)/3;return new U(h,g)}},{key:"inCentre",value:function(n,i,o){var h=i.distance(o),g=n.distance(o),_=n.distance(i),x=h+g+_,E=(h*n.x+g*i.x+_*o.x)/x,O=(h*n.y+g*i.y+_*o.y)/x;return new U(E,O)}}])}(),Co=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(a,n,i,o,h){if(n===0&&a.length<Ln.MINIMUM_VALID_SIZE)return null;var g=o,_=h;a.length>=Ln.MINIMUM_VALID_SIZE&&Pe.isCCW(a)&&(g=h,_=o,i=K.opposite(i));var x=this._curveBuilder.getRingCurve(a,i,n);this.addCurve(x,g,_)}},{key:"addRingBothSides",value:function(a,n){this.addRingSide(a,n,K.LEFT,A.EXTERIOR,A.INTERIOR),this.addRingSide(a,n,K.RIGHT,A.INTERIOR,A.EXTERIOR)}},{key:"addPoint",value:function(a){if(this._distance<=0)return null;var n=a.getCoordinates(),i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,A.EXTERIOR,A.INTERIOR)}},{key:"addPolygon",value:function(a){var n=this._distance,i=K.LEFT;this._distance<0&&(n=-this._distance,i=K.RIGHT);var o=a.getExteriorRing(),h=pt.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance)||this._distance<=0&&h.length<3)return null;this.addRingSide(h,n,i,A.EXTERIOR,A.INTERIOR);for(var g=0;g<a.getNumInteriorRing();g++){var _=a.getInteriorRingN(g),x=pt.removeRepeatedPoints(_.getCoordinates());this._distance>0&&this.isErodedCompletely(_,-this._distance)||this.addRingSide(x,n,K.opposite(i),A.INTERIOR,A.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(a,n){var i=new Lo(a[0],a[1],a[2]),o=i.inCentre();return gn.pointToSegment(o,i.p0,i.p1)<Math.abs(n)}},{key:"addLineString",value:function(a){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=pt.removeRepeatedPoints(a.getCoordinates());if(pt.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,A.EXTERIOR,A.INTERIOR)}}},{key:"addCurve",value:function(a,n,i){if(a===null||a.length<2)return null;var o=new Vn(a,new qt(0,A.BOUNDARY,n,i));this._curveList.add(o)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(a){if(a.isEmpty())return null;if(a instanceof _r)this.addPolygon(a);else if(a instanceof vr)this.addLineString(a);else if(a instanceof so)this.addPoint(a);else if(a instanceof Kr)this.addCollection(a);else if(a instanceof ns)this.addCollection(a);else if(a instanceof lo)this.addCollection(a);else{if(!(a instanceof zt))throw new tt(a.getGeometryType());this.addCollection(a)}}},{key:"isErodedCompletely",value:function(a,n){var i=a.getCoordinates();if(i.length<4)return n<0;if(i.length===4)return this.isTriangleErodedCompletely(i,n);var o=a.getEnvelopeInternal(),h=Math.min(o.getHeight(),o.getWidth());return n<0&&2*Math.abs(n)>h}},{key:"addCollection",value:function(a){for(var n=0;n<a.getNumGeometries();n++){var i=a.getGeometryN(n);this.add(i)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Le;var a=arguments[0],n=arguments[1],i=arguments[2];this._inputGeom=a,this._distance=n,this._curveBuilder=i}}])}(),ql=function(){return p(function a(){c(this,a)},[{key:"locate",value:function(a){}}])}(),jl=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,a.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new kt;var n=this._parent.getGeometryN(this._index++);return n instanceof zt?(this._subcollectionIterator=new a(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new tt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Ul]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof zt)}}])}(),Ga=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"locate",value:function(n){return a.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[ql]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,i){if(i.isEmpty())return A.EXTERIOR;var o=i.getExteriorRing(),h=a.locatePointInRing(n,o);if(h!==A.INTERIOR)return h;for(var g=0;g<i.getNumInteriorRing();g++){var _=i.getInteriorRingN(g),x=a.locatePointInRing(n,_);if(x===A.BOUNDARY)return A.BOUNDARY;if(x===A.INTERIOR)return A.EXTERIOR}return A.INTERIOR}},{key:"locatePointInRing",value:function(n,i){return i.getEnvelopeInternal().intersects(n)?Zi.locateInRing(n,i.getCoordinates()):A.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,i){return A.EXTERIOR!==a.locatePointInPolygon(n,i)}},{key:"locateInGeometry",value:function(n,i){if(i instanceof _r)return a.locatePointInPolygon(n,i);if(i instanceof zt)for(var o=new jl(i);o.hasNext();){var h=o.next();if(h!==i){var g=a.locateInGeometry(n,h);if(g!==A.EXTERIOR)return g}}return A.EXTERIOR}},{key:"isContained",value:function(n,i){return A.EXTERIOR!==a.locate(n,i)}},{key:"locate",value:function(n,i){return i.isEmpty()?A.EXTERIOR:i.getEnvelopeInternal().intersects(n)?a.locateInGeometry(n,i):A.EXTERIOR}}])}(),Vl=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(a){this.getEdges();var n=this._edgeList.indexOf(a),i=n-1;return n===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)}},{key:"propagateSideLabels",value:function(a){for(var n=A.NONE,i=this.iterator();i.hasNext();){var o=i.next().getLabel();o.isArea(a)&&o.getLocation(a,K.LEFT)!==A.NONE&&(n=o.getLocation(a,K.LEFT))}if(n===A.NONE)return null;for(var h=n,g=this.iterator();g.hasNext();){var _=g.next(),x=_.getLabel();if(x.getLocation(a,K.ON)===A.NONE&&x.setLocation(a,K.ON,h),x.isArea(a)){var E=x.getLocation(a,K.LEFT),O=x.getLocation(a,K.RIGHT);if(O!==A.NONE){if(O!==h)throw new In("side location conflict",_.getCoordinate());E===A.NONE&&se.shouldNeverReachHere("found single null side (at "+_.getCoordinate()+")"),h=E}else se.isTrue(x.getLocation(a,K.LEFT)===A.NONE,"found single null side"),x.setLocation(a,K.RIGHT,h),x.setLocation(a,K.LEFT,h)}}}},{key:"getCoordinate",value:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null}},{key:"print",value:function(a){rn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"isAreaLabelsConsistent",value:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(a){var n=this.getEdges();if(n.size()<=0)return!0;var i=n.size()-1,o=n.get(i).getLabel().getLocation(a,K.LEFT);se.isTrue(o!==A.NONE,"Found unlabelled area edge");for(var h=o,g=this.iterator();g.hasNext();){var _=g.next().getLabel();se.isTrue(_.isArea(a),"Found non-area edge");var x=_.getLocation(a,K.LEFT),E=_.getLocation(a,K.RIGHT);if(x===E||E!==h)return!1;h=x}return!0}},{key:"findIndex",value:function(a){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===a)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Le(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(a,n,i){return this._ptInAreaLocation[a]===A.NONE&&(this._ptInAreaLocation[a]=Ga.locate(n,i[a].getGeometry())),this._ptInAreaLocation[a]}},{key:"toString",value:function(){var a=new ti;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append(`
`);for(var n=this.iterator();n.hasNext();){var i=n.next();a.append(i),a.append(`
`)}return a.toString()}},{key:"computeEdgeEndLabels",value:function(a){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(a)}},{key:"computeLabelling",value:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],i=this.iterator();i.hasNext();)for(var o=i.next().getLabel(),h=0;h<2;h++)o.isLine(h)&&o.getLocation(h)===A.BOUNDARY&&(n[h]=!0);for(var g=this.iterator();g.hasNext();)for(var _=g.next(),x=_.getLabel(),E=0;E<2;E++)if(x.isAnyNull(E)){var O=A.NONE;if(n[E])O=A.EXTERIOR;else{var Z=_.getCoordinate();O=this.getLocation(E,Z,a)}x.setAllLocationsIfNull(E,O)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(a,n){this._edgeMap.put(a,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new ct,this._edgeList=null,this._ptInAreaLocation=[A.NONE,A.NONE]}}])}(),pn=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var i=null,o=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var _=this._resultAreaEdgeList.get(g),x=_.getSym();if(_.getLabel().isArea())switch(i===null&&_.isInResult()&&(i=_),h){case this._SCANNING_FOR_INCOMING:if(!x.isInResult())continue;o=x,h=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!_.isInResult())continue;o.setNext(_),h=this._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(i===null)throw new In("no outgoing dirEdge found",this.getCoordinate());se.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),o.setNext(i)}}},{key:"insert",value:function(i){var o=i;this.insertEdgeEnd(o,o)}},{key:"getRightmostEdge",value:function(){var i=this.getEdges(),o=i.size();if(o<1)return null;var h=i.get(0);if(o===1)return h;var g=i.get(o-1),_=h.getQuadrant(),x=g.getQuadrant();return Pt.isNorthern(_)&&Pt.isNorthern(x)?h:Pt.isNorthern(_)||Pt.isNorthern(x)?h.getDy()!==0?h:g.getDy()!==0?g:(se.shouldNeverReachHere("found two horizontal edges incident on node"),null):g}},{key:"print",value:function(i){rn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var o=this.iterator();o.hasNext();){var h=o.next();i.print("out "),h.print(i),i.println(),i.print("in "),h.getSym().print(i),i.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Le;for(var i=this.iterator();i.hasNext();){var o=i.next();(o.isInResult()||o.getSym().isInResult())&&this._resultAreaEdgeList.add(o)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(i){for(var o=this.iterator();o.hasNext();){var h=o.next().getLabel();h.setAllLocationsIfNull(0,i.getLocation(0)),h.setAllLocationsIfNull(1,i.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var i=null,o=null,h=this._edgeList.size()-1;h>=0;h--){var g=this._edgeList.get(h),_=g.getSym();o===null&&(o=_),i!==null&&_.setNext(i),i=g}o.setNext(i)}},{key:"computeDepths",value:function(){if(arguments.length===1){var i=arguments[0],o=this.findIndex(i),h=i.getDepth(K.LEFT),g=i.getDepth(K.RIGHT),_=this.computeDepths(o+1,this._edgeList.size(),h);if(this.computeDepths(0,o,_)!==g)throw new In("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var x=arguments[1],E=arguments[2],O=arguments[0];O<x;O++){var Z=this._edgeList.get(O);Z.setEdgeDepths(K.RIGHT,E),E=Z.getDepth(K.LEFT)}return E}}},{key:"mergeSymLabels",value:function(){for(var i=this.iterator();i.hasNext();){var o=i.next();o.getLabel().merge(o.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(i){for(var o=null,h=null,g=this._SCANNING_FOR_INCOMING,_=this._resultAreaEdgeList.size()-1;_>=0;_--){var x=this._resultAreaEdgeList.get(_),E=x.getSym();switch(o===null&&x.getEdgeRing()===i&&(o=x),g){case this._SCANNING_FOR_INCOMING:if(E.getEdgeRing()!==i)continue;h=E,g=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(x.getEdgeRing()!==i)continue;h.setNextMin(x),g=this._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&(se.isTrue(o!==null,"found null for first outgoing dirEdge"),se.isTrue(o.getEdgeRing()===i,"unable to link last incoming dirEdge"),h.setNextMin(o))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var i=0,o=this.iterator();o.hasNext();)o.next().isInResult()&&i++;return i}if(arguments.length===1){for(var h=arguments[0],g=0,_=this.iterator();_.hasNext();)_.next().getEdgeRing()===h&&g++;return g}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var i=A.NONE,o=this.iterator();o.hasNext();){var h=o.next(),g=h.getSym();if(!h.isLineEdge()){if(h.isInResult()){i=A.INTERIOR;break}if(g.isInResult()){i=A.EXTERIOR;break}}}if(i===A.NONE)return null;for(var _=i,x=this.iterator();x.hasNext();){var E=x.next(),O=E.getSym();E.isLineEdge()?E.getEdge().setCovered(_===A.INTERIOR):(E.isInResult()&&(_=A.EXTERIOR),O.isInResult()&&(_=A.INTERIOR))}}},{key:"computeLabelling",value:function(i){M(n,"computeLabelling",this,1).call(this,i),this._label=new qt(A.NONE);for(var o=this.iterator();o.hasNext();)for(var h=o.next().getEdge().getLabel(),g=0;g<2;g++){var _=h.getLocation(g);_!==A.INTERIOR&&_!==A.BOUNDARY||this._label.setLocation(g,A.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Vl),Yi=function(a){function n(){return c(this,n),u(this,n)}return w(n,a),p(n,[{key:"createNode",value:function(i){return new Er(i,new pn)}}])}(_o),Za=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"compareTo",value:function(n){var i=n;return a.compareOriented(this._pts,this._orientation,i._pts,i._orientation)}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=a.orientation(n)}},{key:"orientation",value:function(n){return pt.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,i,o,h){for(var g=i?1:-1,_=h?1:-1,x=i?n.length:-1,E=h?o.length:-1,O=i?0:n.length-1,Z=h?0:o.length-1;;){var Y=n[O].compareTo(o[Z]);if(Y!==0)return Y;var J=(O+=g)===x,he=(Z+=_)===E;if(J&&!he)return-1;if(!J&&he)return 1;if(J&&he)return 0}}}])}(),Hn=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n);n>0&&a.print(","),a.print("(");for(var o=i.getCoordinates(),h=0;h<o.length;h++)h>0&&a.print(","),a.print(o[h].x+" "+o[h].y);a.println(")")}a.print(")  ")}},{key:"addAll",value:function(a){for(var n=a.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(a){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(a))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(a){return this._edges.get(a)}},{key:"findEqualEdge",value:function(a){var n=new Za(a.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(a){this._edges.add(a);var n=new Za(a.getCoordinates());this._ocaMap.put(n,a)}}],[{key:"constructor_",value:function(){this._edges=new Le,this._ocaMap=new ct}}])}(),Ua=function(){return p(function a(){c(this,a)},[{key:"processIntersections",value:function(a,n,i,o){}},{key:"isDone",value:function(){}}])}(),qi=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"isTrivialIntersection",value:function(n,i,o,h){if(n===o&&this._li.getIntersectionNum()===1){if(a.isAdjacentSegments(i,h))return!0;if(n.isClosed()){var g=n.size()-1;if(i===0&&h===g||h===0&&i===g)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,i,o,h){if(n===o&&i===h)return null;this.numTests++;var g=n.getCoordinates()[i],_=n.getCoordinates()[i+1],x=o.getCoordinates()[h],E=o.getCoordinates()[h+1];this._li.computeIntersection(g,_,x,E),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,i,o,h)||(this._hasIntersection=!0,n.addIntersections(this._li,i,0),o.addIntersections(this._li,h,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Ua]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,i){return Math.abs(n-i)===1}}])}(),Hl=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)}},{key:"compareTo",value:function(a){var n=a;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===a}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(a,n){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],n=arguments[1],i=arguments[2];this.coord=new U(a),this.segmentIndex=n,this.dist=i}}])}(),Cr=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next(),h=this.createSplitEdge(i,o);a.add(h),i=o}}},{key:"addEndpoints",value:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)}},{key:"createSplitEdge",value:function(a,n){var i=n.segmentIndex-a.segmentIndex+2,o=this.edge.pts[n.segmentIndex],h=n.dist>0||!n.coord.equals2D(o);h||i--;var g=new Array(i).fill(null),_=0;g[_++]=new U(a.coord);for(var x=a.segmentIndex+1;x<=n.segmentIndex;x++)g[_++]=this.edge.pts[x];return h&&(g[_]=n.coord),new qa(g,new qt(this.edge._label))}},{key:"add",value:function(a,n,i){var o=new Hl(a,n,i),h=this._nodeMap.get(o);return h!==null?h:(this._nodeMap.put(o,o),o)}},{key:"isIntersection",value:function(a){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(a))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new ct,this.edge=null;var a=arguments[0];this.edge=a}}])}(),Ya=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])||a.isTrue(this._matrix[A.INTERIOR][A.BOUNDARY])||a.isTrue(this._matrix[A.BOUNDARY][A.INTERIOR])||a.isTrue(this._matrix[A.BOUNDARY][A.BOUNDARY]))&&this._matrix[A.EXTERIOR][A.INTERIOR]===ce.FALSE&&this._matrix[A.EXTERIOR][A.BOUNDARY]===ce.FALSE}},{key:"isCoveredBy",value:function(){return(a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])||a.isTrue(this._matrix[A.INTERIOR][A.BOUNDARY])||a.isTrue(this._matrix[A.BOUNDARY][A.INTERIOR])||a.isTrue(this._matrix[A.BOUNDARY][A.BOUNDARY]))&&this._matrix[A.INTERIOR][A.EXTERIOR]===ce.FALSE&&this._matrix[A.BOUNDARY][A.EXTERIOR]===ce.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<n.length;i++){var o=Math.trunc(i/3),h=i%3;this._matrix[o][h]=ce.toDimensionValue(n.charAt(i))}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this._matrix[g][_]=x}}},{key:"isContains",value:function(){return a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])&&this._matrix[A.EXTERIOR][A.INTERIOR]===ce.FALSE&&this._matrix[A.EXTERIOR][A.BOUNDARY]===ce.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<n.length;i++){var o=Math.trunc(i/3),h=i%3;this.setAtLeast(o,h,ce.toDimensionValue(n.charAt(i)))}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this._matrix[g][_]<x&&(this._matrix[g][_]=x)}}},{key:"setAtLeastIfValid",value:function(n,i,o){n>=0&&i>=0&&this.setAtLeast(n,i,o)}},{key:"isWithin",value:function(){return a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])&&this._matrix[A.INTERIOR][A.EXTERIOR]===ce.FALSE&&this._matrix[A.BOUNDARY][A.EXTERIOR]===ce.FALSE}},{key:"isTouches",value:function(n,i){return n>i?this.isTouches(i,n):(n===ce.A&&i===ce.A||n===ce.L&&i===ce.L||n===ce.L&&i===ce.A||n===ce.P&&i===ce.A||n===ce.P&&i===ce.L)&&this._matrix[A.INTERIOR][A.INTERIOR]===ce.FALSE&&(a.isTrue(this._matrix[A.INTERIOR][A.BOUNDARY])||a.isTrue(this._matrix[A.BOUNDARY][A.INTERIOR])||a.isTrue(this._matrix[A.BOUNDARY][A.BOUNDARY]))}},{key:"isOverlaps",value:function(n,i){return n===ce.P&&i===ce.P||n===ce.A&&i===ce.A?a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])&&a.isTrue(this._matrix[A.INTERIOR][A.EXTERIOR])&&a.isTrue(this._matrix[A.EXTERIOR][A.INTERIOR]):n===ce.L&&i===ce.L&&this._matrix[A.INTERIOR][A.INTERIOR]===1&&a.isTrue(this._matrix[A.INTERIOR][A.EXTERIOR])&&a.isTrue(this._matrix[A.EXTERIOR][A.INTERIOR])}},{key:"isEquals",value:function(n,i){return n===i&&a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])&&this._matrix[A.INTERIOR][A.EXTERIOR]===ce.FALSE&&this._matrix[A.BOUNDARY][A.EXTERIOR]===ce.FALSE&&this._matrix[A.EXTERIOR][A.INTERIOR]===ce.FALSE&&this._matrix[A.EXTERIOR][A.BOUNDARY]===ce.FALSE}},{key:"toString",value:function(){for(var n=new ts("123456789"),i=0;i<3;i++)for(var o=0;o<3;o++)n.setCharAt(3*i+o,ce.toDimensionSymbol(this._matrix[i][o]));return n.toString()}},{key:"setAll",value:function(n){for(var i=0;i<3;i++)for(var o=0;o<3;o++)this._matrix[i][o]=n}},{key:"get",value:function(n,i){return this._matrix[n][i]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new b("Should be length 9: "+n);for(var i=0;i<3;i++)for(var o=0;o<3;o++)if(!a.matches(this._matrix[i][o],n.charAt(3*i+o)))return!1;return!0}},{key:"add",value:function(n){for(var i=0;i<3;i++)for(var o=0;o<3;o++)this.setAtLeast(i,o,n.get(i,o))}},{key:"isDisjoint",value:function(){return this._matrix[A.INTERIOR][A.INTERIOR]===ce.FALSE&&this._matrix[A.INTERIOR][A.BOUNDARY]===ce.FALSE&&this._matrix[A.BOUNDARY][A.INTERIOR]===ce.FALSE&&this._matrix[A.BOUNDARY][A.BOUNDARY]===ce.FALSE}},{key:"isCrosses",value:function(n,i){return n===ce.P&&i===ce.L||n===ce.P&&i===ce.A||n===ce.L&&i===ce.A?a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])&&a.isTrue(this._matrix[A.INTERIOR][A.EXTERIOR]):n===ce.L&&i===ce.P||n===ce.A&&i===ce.P||n===ce.A&&i===ce.L?a.isTrue(this._matrix[A.INTERIOR][A.INTERIOR])&&a.isTrue(this._matrix[A.EXTERIOR][A.INTERIOR]):n===ce.L&&i===ce.L&&this._matrix[A.INTERIOR][A.INTERIOR]===0}},{key:"interfaces_",get:function(){return[H]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ce.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];a.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof a){var i=arguments[0];a.constructor_.call(this),this._matrix[A.INTERIOR][A.INTERIOR]=i._matrix[A.INTERIOR][A.INTERIOR],this._matrix[A.INTERIOR][A.BOUNDARY]=i._matrix[A.INTERIOR][A.BOUNDARY],this._matrix[A.INTERIOR][A.EXTERIOR]=i._matrix[A.INTERIOR][A.EXTERIOR],this._matrix[A.BOUNDARY][A.INTERIOR]=i._matrix[A.BOUNDARY][A.INTERIOR],this._matrix[A.BOUNDARY][A.BOUNDARY]=i._matrix[A.BOUNDARY][A.BOUNDARY],this._matrix[A.BOUNDARY][A.EXTERIOR]=i._matrix[A.BOUNDARY][A.EXTERIOR],this._matrix[A.EXTERIOR][A.INTERIOR]=i._matrix[A.EXTERIOR][A.INTERIOR],this._matrix[A.EXTERIOR][A.BOUNDARY]=i._matrix[A.EXTERIOR][A.BOUNDARY],this._matrix[A.EXTERIOR][A.EXTERIOR]=i._matrix[A.EXTERIOR][A.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],i=arguments[1];return i===ce.SYM_DONTCARE||i===ce.SYM_TRUE&&(n>=0||n===ce.TRUE)||i===ce.SYM_FALSE&&n===ce.FALSE||i===ce.SYM_P&&n===ce.P||i===ce.SYM_L&&n===ce.L||i===ce.SYM_A&&n===ce.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var o=arguments[1];return new a(arguments[0]).matches(o)}}},{key:"isTrue",value:function(n){return n>=0||n===ce.TRUE}}])}(),fs=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),rn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var i=Math.max(n,2*this._data.length);this._data=Ct.copyOf(this._data,i)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return rn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)a.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])}(),Xl=function(){function a(){c(this,a)}return p(a,[{key:"getChainStartIndices",value:function(n){var i=0,o=new fs(Math.trunc(n.length/2));o.add(i);do{var h=this.findChainEnd(n,i);o.add(h),i=h}while(i<n.length-1);return o.toArray()}},{key:"findChainEnd",value:function(n,i){for(var o=Pt.quadrant(n[i],n[i+1]),h=i+1;h<n.length&&Pt.quadrant(n[h-1],n[h])===o;)h++;return h-1}},{key:"OLDgetChainStartIndices",value:function(n){var i=0,o=new Le;o.add(i);do{var h=this.findChainEnd(n,i);o.add(h),i=h}while(i<n.length-1);return a.toIntArray(o)}}],[{key:"toIntArray",value:function(n){for(var i=new Array(n.size()).fill(null),o=0;o<i.length;o++)i[o]=n.get(o).intValue();return i}}])}(),ai=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(a){var n=this.pts[this.startIndex[a]].x,i=this.pts[this.startIndex[a+1]].x;return n>i?n:i}},{key:"getMinX",value:function(a){var n=this.pts[this.startIndex[a]].x,i=this.pts[this.startIndex[a+1]].x;return n<i?n:i}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var a=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],n,n.startIndex[i],n.startIndex[i+1],o)}else if(arguments.length===6){var h=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],E=arguments[4],O=arguments[5];if(g-h==1&&E-x==1)return O.addIntersections(this.e,h,_.e,x),null;if(!this.overlaps(h,g,_,x,E))return null;var Z=Math.trunc((h+g)/2),Y=Math.trunc((x+E)/2);h<Z&&(x<Y&&this.computeIntersectsForChain(h,Z,_,x,Y,O),Y<E&&this.computeIntersectsForChain(h,Z,_,Y,E,O)),Z<g&&(x<Y&&this.computeIntersectsForChain(Z,g,_,x,Y,O),Y<E&&this.computeIntersectsForChain(Z,g,_,Y,E,O))}}},{key:"overlaps",value:function(a,n,i,o,h){return De.intersects(this.pts[a],this.pts[n],i.pts[o],i.pts[h])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(a,n){for(var i=0;i<this.startIndex.length-1;i++)for(var o=0;o<a.startIndex.length-1;o++)this.computeIntersectsForChain(i,a,o,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var n=new Xl;this.startIndex=n.getChainStartIndices(this.pts)}}])}(),Tr=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"getDepth",value:function(n,i){return this._depth[n][i]}},{key:"setDepth",value:function(n,i,o){this._depth[n][i]=o}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var i=0;i<3;i++)if(this._depth[n][i]!==a.NULL_VALUE)return!1;return!0}if(arguments.length===1){var o=arguments[0];return this._depth[o][1]===a.NULL_VALUE}if(arguments.length===2){var h=arguments[0],g=arguments[1];return this._depth[h][g]===a.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var i=this._depth[n][1];this._depth[n][2]<i&&(i=this._depth[n][2]),i<0&&(i=0);for(var o=1;o<3;o++){var h=0;this._depth[n][o]>i&&(h=1),this._depth[n][o]=h}}}},{key:"getDelta",value:function(n){return this._depth[n][K.RIGHT]-this._depth[n][K.LEFT]}},{key:"getLocation",value:function(n,i){return this._depth[n][i]<=0?A.EXTERIOR:A.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<2;i++)for(var o=1;o<3;o++){var h=n.getLocation(i,o);h!==A.EXTERIOR&&h!==A.INTERIOR||(this.isNull(i,o)?this._depth[i][o]=a.depthAtLocation(h):this._depth[i][o]+=a.depthAtLocation(h))}else if(arguments.length===3){var g=arguments[0],_=arguments[1];arguments[2]===A.INTERIOR&&this._depth[g][_]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var i=0;i<3;i++)this._depth[n][i]=a.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===A.EXTERIOR?0:n===A.INTERIOR?1:a.NULL_VALUE}}])}();Tr.NULL_VALUE=-1;var qa=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var i=new Array(2).fill(null);return i[0]=this.pts[0],i[1]=this.pts[1],new n(i,qt.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(i){this._isIsolated=i}},{key:"setName",value:function(i){this._name=i}},{key:"equals",value:function(i){if(!(i instanceof n))return!1;var o=i;if(this.pts.length!==o.pts.length)return!1;for(var h=!0,g=!0,_=this.pts.length,x=0;x<this.pts.length;x++)if(this.pts[x].equals2D(o.pts[x])||(h=!1),this.pts[x].equals2D(o.pts[--_])||(g=!1),!h&&!g)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}}},{key:"print",value:function(i){i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&i.print(","),i.print(this.pts[o].x+" "+this.pts[o].y);i.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(i){n.updateIM(this._label,i)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(i){i.print("edge "+this._name+": ");for(var o=this.pts.length-1;o>=0;o--)i.print(this.pts[o]+" ");i.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new ai(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new De;for(var i=0;i<this.pts.length;i++)this._env.expandToInclude(this.pts[i])}return this._env}},{key:"addIntersection",value:function(i,o,h,g){var _=new U(i.getIntersection(g)),x=o,E=i.getEdgeDistance(h,g),O=x+1;if(O<this.pts.length){var Z=this.pts[O];_.equals2D(Z)&&(x=O,E=0)}this.eiList.add(_,x,E)}},{key:"toString",value:function(){var i=new ts;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&i.append(","),i.append(this.pts[o].x+" "+this.pts[o].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()}},{key:"isPointwiseEqual",value:function(i){if(this.pts.length!==i.pts.length)return!1;for(var o=0;o<this.pts.length;o++)if(!this.pts[o].equals2D(i.pts[o]))return!1;return!0}},{key:"setDepthDelta",value:function(i){this._depthDelta=i}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(i,o,h){for(var g=0;g<i.getIntersectionNum();g++)this.addIntersection(i,o,h,g)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Cr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Tr,this._depthDelta=0,arguments.length===1){var i=arguments[0];n.constructor_.call(this,i,null)}else if(arguments.length===2){var o=arguments[0],h=arguments[1];this.pts=o,this._label=h}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Ya&&arguments[0]instanceof qt))return M(n,"updateIM",this).apply(this,arguments);var i=arguments[0],o=arguments[1];o.setAtLeastIfValid(i.getLocation(0,K.ON),i.getLocation(1,K.ON),1),i.isArea()&&(o.setAtLeastIfValid(i.getLocation(0,K.LEFT),i.getLocation(1,K.LEFT),2),o.setAtLeastIfValid(i.getLocation(0,K.RIGHT),i.getLocation(1,K.RIGHT),2))}}])}(Ke),ds=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var i=this._edgeList.findEqualEdge(n);if(i!==null){var o=i.getLabel(),h=n.getLabel();i.isPointwiseEqual(n)||(h=new qt(n.getLabel())).flip(),o.merge(h);var g=a.depthDelta(h),_=i.getDepthDelta()+g;i.setDepthDelta(_)}else this._edgeList.add(n),n.setDepthDelta(a.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,i){for(var o=new Le,h=n.iterator();h.hasNext();){var g=h.next(),_=g.getRightmostCoordinate(),x=new Qt(o).getDepth(_);g.computeDepth(x),g.findResultEdges(),o.add(g),i.add(g.getDirectedEdges(),g.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var i=new Le,o=n.getNodes().iterator();o.hasNext();){var h=o.next();if(!h.isVisited()){var g=new pr;g.create(h),i.add(g)}}return Ei.sort(i,Ei.reverseOrder()),i}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var i=new wo,o=new jn;return o.setPrecisionModel(n),i.setSegmentIntersector(new qi(o)),i}},{key:"buffer",value:function(n,i){var o=this._workingPrecisionModel;o===null&&(o=n.getPrecisionModel()),this._geomFact=n.getFactory();var h=new Lr(o,this._bufParams),g=new Co(n,i,h).getCurves();if(g.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(g,o),this._graph=new us(new Yi),this._graph.addEdges(this._edgeList.getEdges());var _=this.createSubgraphs(this._graph),x=new bl(this._geomFact);this.buildSubgraphs(_,x);var E=x.getPolygons();return E.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(E)}},{key:"computeNodedEdges",value:function(n,i){var o=this.getNoder(i);o.computeNodes(n);for(var h=o.getNodedSubstrings().iterator();h.hasNext();){var g=h.next(),_=g.getCoordinates();if(_.length!==2||!_[0].equals2D(_[1])){var x=g.getData(),E=new qa(g.getCoordinates(),new qt(x));this.insertUniqueEdge(E)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hn;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var i=n.getLocation(0,K.LEFT),o=n.getLocation(0,K.RIGHT);return i===A.INTERIOR&&o===A.EXTERIOR?1:i===A.EXTERIOR&&o===A.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var i=new Cn,o=new Le;n.hasNext();){var h=n.next(),g=i.createLineString(h.getCoordinates());o.add(g)}return i.buildGeometry(o)}}])}(),Wl=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"rescale",value:function(){if(Re(arguments[0],$e))for(var n=arguments[0].iterator();n.hasNext();){var i=n.next();this.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],h=0;h<o.length;h++)o[h].x=o[h].x/this._scaleFactor+this._offsetX,o[h].y=o[h].y/this._scaleFactor+this._offsetY;o.length===2&&o[0].equals2D(o[1])&&rn.out.println(o)}}},{key:"scale",value:function(){if(Re(arguments[0],$e)){for(var n=arguments[0],i=new Le(n.size()),o=n.iterator();o.hasNext();){var h=o.next();i.add(new Vn(this.scale(h.getCoordinates()),h.getData()))}return i}if(arguments[0]instanceof Array){for(var g=arguments[0],_=new Array(g.length).fill(null),x=0;x<g.length;x++)_[x]=new U(Math.round((g[x].x-this._offsetX)*this._scaleFactor),Math.round((g[x].y-this._offsetY)*this._scaleFactor),g[x].getZ());return pt.removeRepeatedPoints(_)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var i=n;this._isScaled&&(i=this.scale(n)),this._noder.computeNodes(i)}},{key:"interfaces_",get:function(){return[ko]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],i=arguments[1];a.constructor_.call(this,n,i,0,0)}else if(arguments.length===4){var o=arguments[0],h=arguments[1];this._noder=o,this._scaleFactor=h,this._isScaled=!this.isIntegerPrecision()}}}])}(),Rn=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next().getCoordinates();this.checkEndPtVertexIntersections(i[0],this._segStrings),this.checkEndPtVertexIntersections(i[i.length-1],this._segStrings)}else if(arguments.length===2){for(var o=arguments[0],h=arguments[1].iterator();h.hasNext();)for(var g=h.next().getCoordinates(),_=1;_<g.length-1;_++)if(g[_].equals(o))throw new fe("found endpt/interior pt intersection at index "+_+" :pt "+o)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var i=n.next(),o=this._segStrings.iterator();o.hasNext();){var h=o.next();this.checkInteriorIntersections(i,h)}else if(arguments.length===2)for(var g=arguments[0],_=arguments[1],x=g.getCoordinates(),E=_.getCoordinates(),O=0;O<x.length-1;O++)for(var Z=0;Z<E.length-1;Z++)this.checkInteriorIntersections(g,O,_,Z);else if(arguments.length===4){var Y=arguments[0],J=arguments[1],he=arguments[2],_e=arguments[3];if(Y===he&&J===_e)return null;var Se=Y.getCoordinates()[J],je=Y.getCoordinates()[J+1],Be=he.getCoordinates()[_e],Je=he.getCoordinates()[_e+1];if(this._li.computeIntersection(Se,je,Be,Je),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Se,je)||this.hasInteriorIntersection(this._li,Be,Je)))throw new fe("found non-noded intersection at "+Se+"-"+je+" and "+Be+"-"+Je)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkCollapses(i)}else if(arguments.length===1)for(var o=arguments[0].getCoordinates(),h=0;h<o.length-2;h++)this.checkCollapse(o[h],o[h+1],o[h+2])}},{key:"hasInteriorIntersection",value:function(n,i,o){for(var h=0;h<n.getIntersectionNum();h++){var g=n.getIntersection(h);if(!g.equals(i)&&!g.equals(o))return!0}return!1}},{key:"checkCollapse",value:function(n,i,o){if(n.equals(o))throw new fe("found non-noded collapse at "+a.fact.createLineString([n,i,o]))}}],[{key:"constructor_",value:function(){this._li=new jn,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])}();Rn.fact=new Cn;var To=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"intersectsScaled",value:function(n,i){var o=Math.min(n.x,i.x),h=Math.max(n.x,i.x),g=Math.min(n.y,i.y),_=Math.max(n.y,i.y),x=this._maxx<o||this._minx>h||this._maxy<g||this._miny>_;if(x)return!1;var E=this.intersectsToleranceSquare(n,i);return se.isTrue(!(x&&E),"Found bad envelope test"),E}},{key:"initCorners",value:function(n){var i=.5;this._minx=n.x-i,this._maxx=n.x+i,this._miny=n.y-i,this._maxy=n.y+i,this._corner[0]=new U(this._maxx,this._maxy),this._corner[1]=new U(this._minx,this._maxy),this._corner[2]=new U(this._minx,this._miny),this._corner[3]=new U(this._maxx,this._miny)}},{key:"intersects",value:function(n,i){return this._scaleFactor===1?this.intersectsScaled(n,i):(this.copyScaled(n,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,i){i.x=this.scale(n.x),i.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=a.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new De(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,i){return this._li.computeIntersection(n,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,i){var o=!1,h=!1;return this._li.computeIntersection(n,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(n,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(h=!0),this._li.computeIntersection(n,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!o||!h)||!!n.equals(this._pt)||!!i.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,i){var o=n.getCoordinate(i),h=n.getCoordinate(i+1);return!!this.intersects(o,h)&&(n.addIntersection(this.getCoordinate(),i),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],i=arguments[1],o=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=i,this._li=o,i<=0)throw new b("Scale factor must be non-zero");i!==1&&(this._pt=new U(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new U,this._p1Scaled=new U),this.initCorners(this._pt)}}])}();To.SAFE_ENV_EXPANSION_FACTOR=.75;var ji=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var a=arguments[1];arguments[0].getLineSegment(a,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new $t}}])}(),ja=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var a=arguments[0];return this.snap(a,null,-1)}if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2],h=n.getSafeEnvelope(),g=new An(n,i,o);return this._index.query(h,new(function(){return p(function _(){c(this,_)},[{key:"interfaces_",get:function(){return[Da]}},{key:"visitItem",value:function(_){_.select(h,g)}}])}())),g.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var a=arguments[0];this._index=a}}])}(),An=function(a){function n(){var i;return c(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return w(n,a),p(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof xo))return M(n,"select",this,1).apply(this,arguments);var i=arguments[1],o=arguments[0].getContext();if(this._parentEdge===o&&(i===this._hotPixelVertexIndex||i+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(o,i)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var i=arguments[0],o=arguments[1],h=arguments[2];this._hotPixel=i,this._parentEdge=o,this._hotPixelVertexIndex=h}}])}(ji);ja.HotPixelSnapAction=An;var gs=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(a,n,i,o){if(a===i&&n===o)return null;var h=a.getCoordinates()[n],g=a.getCoordinates()[n+1],_=i.getCoordinates()[o],x=i.getCoordinates()[o+1];if(this._li.computeIntersection(h,g,_,x),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var E=0;E<this._li.getIntersectionNum();E++)this._interiorIntersections.add(this._li.getIntersection(E));a.addIntersections(this._li,n,0),i.addIntersections(this._li,o,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Ua]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var a=arguments[0];this._li=a,this._interiorIntersections=new Le}}])}(),Va=function(){return p(function a(){c(this,a),a.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(a){var n=Vn.getNodedSubstrings(a),i=new Rn(n);try{i.checkValid()}catch(o){if(!(o instanceof F))throw o;o.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Vn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(a,n){var i=this.findInteriorIntersections(a,n);this.computeIntersectionSnaps(i),this.computeVertexSnaps(a)}},{key:"findInteriorIntersections",value:function(a,n){var i=new gs(n);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(a),i.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Re(arguments[0],$e))for(var a=arguments[0].iterator();a.hasNext();){var n=a.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Vn)for(var i=arguments[0],o=i.getCoordinates(),h=0;h<o.length;h++){var g=new To(o[h],this._scaleFactor,this._li);this._pointSnapper.snap(g,i,h)&&i.addIntersection(o[h],h)}}},{key:"computeNodes",value:function(a){this._nodedSegStrings=a,this._noder=new wo,this._pointSnapper=new ja(this._noder.getIndex()),this.snapRound(a,this._li)}},{key:"computeIntersectionSnaps",value:function(a){for(var n=a.iterator();n.hasNext();){var i=n.next(),o=new To(i,this._scaleFactor,this._li);this._pointSnapper.snap(o)}}},{key:"interfaces_",get:function(){return[ko]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new jn,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()}}])}(),ui=function(){function a(){c(this,a),a.constructor_.apply(this,arguments)}return p(a,[{key:"bufferFixedPrecision",value:function(n){var i=new Wl(new Va(new Ft(1)),n.getScale()),o=new ds(this._bufParams);o.setWorkingPrecisionModel(n),o.setNoder(i),this._resultGeometry=o.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=a.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(g){if(!(g instanceof In))throw g;this._saveException=g}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var i=arguments[0],o=a.precisionScaleFactor(this._argGeom,this._distance,i),h=new Ft(o);this.bufferFixedPrecision(h)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===Ft.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new ds(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof fe))throw i;this._saveException=i}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new P,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this._argGeom=i,this._bufParams=o}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new a(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof me&&typeof arguments[1]=="number"){var i=arguments[1],o=arguments[2],h=new a(arguments[0]);return h.setQuadrantSegments(o),h.getResultGeometry(i)}if(arguments[2]instanceof P&&arguments[0]instanceof me&&typeof arguments[1]=="number"){var g=arguments[1];return new a(arguments[0],arguments[2]).getResultGeometry(g)}}else if(arguments.length===4){var _=arguments[1],x=arguments[2],E=arguments[3],O=new a(arguments[0]);return O.setQuadrantSegments(x),O.setEndCapStyle(E),O.getResultGeometry(_)}}},{key:"precisionScaleFactor",value:function(n,i,o){var h=n.getEnvelopeInternal(),g=zi.max(Math.abs(h.getMaxX()),Math.abs(h.getMaxY()),Math.abs(h.getMinX()),Math.abs(h.getMinY()))+2*(i>0?i:0),_=o-Math.trunc(Math.log(g)/Math.log(10)+1);return Math.pow(10,_)}}])}();ui.CAP_ROUND=P.CAP_ROUND,ui.CAP_BUTT=P.CAP_FLAT,ui.CAP_FLAT=P.CAP_FLAT,ui.CAP_SQUARE=P.CAP_SQUARE,ui.MAX_PRECISION_DIGITS=12;var ms=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ps=function(){return p(function a(n){c(this,a),this.geometryFactory=n||new Cn},[{key:"read",value:function(a){var n,i=(n=typeof a=="string"?JSON.parse(a):a).type;if(!bt[i])throw new Error("Unknown GeoJSON type: "+n.type);return ms.indexOf(i)!==-1?bt[i].call(this,n.coordinates):i==="GeometryCollection"?bt[i].call(this,n.geometries):bt[i].call(this,n)}},{key:"write",value:function(a){var n=a.getGeometryType();if(!Bt[n])throw new Error("Geometry is not supported");return Bt[n].call(this,a)}}])}(),bt={Feature:function(a){var n={};for(var i in a)n[i]=a[i];if(a.geometry){var o=a.geometry.type;if(!bt[o])throw new Error("Unknown GeoJSON type: "+a.type);n.geometry=this.read(a.geometry)}return a.bbox&&(n.bbox=bt.bbox.call(this,a.bbox)),n},FeatureCollection:function(a){var n={};if(a.features){n.features=[];for(var i=0;i<a.features.length;++i)n.features.push(this.read(a.features[i]))}return a.bbox&&(n.bbox=this.parse.bbox.call(this,a.bbox)),n},coordinates:function(a){for(var n=[],i=0;i<a.length;++i){var o=a[i];n.push(d(U,G(o)))}return n},bbox:function(a){return this.geometryFactory.createLinearRing([new U(a[0],a[1]),new U(a[2],a[1]),new U(a[2],a[3]),new U(a[0],a[3]),new U(a[0],a[1])])},Point:function(a){var n=d(U,G(a));return this.geometryFactory.createPoint(n)},MultiPoint:function(a){for(var n=[],i=0;i<a.length;++i)n.push(bt.Point.call(this,a[i]));return this.geometryFactory.createMultiPoint(n)},LineString:function(a){var n=bt.coordinates.call(this,a);return this.geometryFactory.createLineString(n)},MultiLineString:function(a){for(var n=[],i=0;i<a.length;++i)n.push(bt.LineString.call(this,a[i]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(a){for(var n=bt.coordinates.call(this,a[0]),i=this.geometryFactory.createLinearRing(n),o=[],h=1;h<a.length;++h){var g=a[h],_=bt.coordinates.call(this,g),x=this.geometryFactory.createLinearRing(_);o.push(x)}return this.geometryFactory.createPolygon(i,o)},MultiPolygon:function(a){for(var n=[],i=0;i<a.length;++i){var o=a[i];n.push(bt.Polygon.call(this,o))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(a){for(var n=[],i=0;i<a.length;++i){var o=a[i];n.push(this.read(o))}return this.geometryFactory.createGeometryCollection(n)}},Bt={coordinate:function(a){var n=[a.x,a.y];return a.z&&n.push(a.z),a.m&&n.push(a.m),n},Point:function(a){return{type:"Point",coordinates:Bt.coordinate.call(this,a.getCoordinate())}},MultiPoint:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],h=Bt.Point.call(this,o);n.push(h.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(a){for(var n=[],i=a.getCoordinates(),o=0;o<i.length;++o){var h=i[o];n.push(Bt.coordinate.call(this,h))}return{type:"LineString",coordinates:n}},MultiLineString:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],h=Bt.LineString.call(this,o);n.push(h.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(a){var n=[],i=Bt.LineString.call(this,a._shell);n.push(i.coordinates);for(var o=0;o<a._holes.length;++o){var h=a._holes[o],g=Bt.LineString.call(this,h);n.push(g.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],h=Bt.Polygon.call(this,o);n.push(h.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],h=o.getGeometryType();n.push(Bt[h].call(this,o))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:ui,GeoJSONReader:function(){return p(function a(n){c(this,a),this.parser=new ps(n||new Cn)},[{key:"read",value:function(a){return this.parser.read(a)}}])}(),GeoJSONWriter:function(){return p(function a(){c(this,a),this.parser=new ps(this.geometryFactory)},[{key:"write",value:function(a){return this.parser.write(a)}}])}()}})})(ev);var J0=ev.exports;const e1=dl(J0);function mr(){return new ul}function ul(){this.reset()}ul.prototype={constructor:ul,reset:function(){this.s=this.t=0},add:function(e){lg(gu,e,this.t),lg(this,gu.s,this.s),this.s?this.t+=gu.t:this.s=gu.t},valueOf:function(){return this.s}};var gu=new ul;function lg(e,t,s){var u=e.s=t+s,c=u-t,d=u-c;e.t=t-d+(s-c)}var nt=1e-6,Xe=Math.PI,di=Xe/2,cg=Xe/4,vi=Xe*2,Xi=180/Xe,Fn=Xe/180,At=Math.abs,t1=Math.atan,Xs=Math.atan2,ft=Math.cos,dt=Math.sin,eo=Math.sqrt;function tv(e){return e>1?0:e<-1?Xe:Math.acos(e)}function qr(e){return e>1?di:e<-1?-di:Math.asin(e)}function Ho(){}function ll(e,t){e&&fg.hasOwnProperty(e.type)&&fg[e.type](e,t)}var hg={Feature:function(e,t){ll(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,u=-1,c=s.length;++u<c;)ll(s[u].geometry,t)}},fg={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,u=-1,c=s.length;++u<c;)e=s[u],t.point(e[0],e[1],e[2])},LineString:function(e,t){Lh(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,u=-1,c=s.length;++u<c;)Lh(s[u],t,0)},Polygon:function(e,t){dg(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,u=-1,c=s.length;++u<c;)dg(s[u],t)},GeometryCollection:function(e,t){for(var s=e.geometries,u=-1,c=s.length;++u<c;)ll(s[u],t)}};function Lh(e,t,s){var u=-1,c=e.length-s,d;for(t.lineStart();++u<c;)d=e[u],t.point(d[0],d[1],d[2]);t.lineEnd()}function dg(e,t){var s=-1,u=e.length;for(t.polygonStart();++s<u;)Lh(e[s],t,1);t.polygonEnd()}function n1(e,t){e&&hg.hasOwnProperty(e.type)?hg[e.type](e,t):ll(e,t)}mr();mr();function Ch(e){return[Xs(e[1],e[0]),qr(e[2])]}function Ws(e){var t=e[0],s=e[1],u=ft(s);return[u*ft(t),u*dt(t),dt(s)]}function mu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cl(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ic(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function pu(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Th(e){var t=eo(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}mr();function nv(e,t){function s(u,c){return u=e(u,c),t(u[0],u[1])}return e.invert&&t.invert&&(s.invert=function(u,c){return u=t.invert(u,c),u&&e.invert(u[0],u[1])}),s}function Ph(e,t){return[e>Xe?e-vi:e<-Xe?e+vi:e,t]}Ph.invert=Ph;function i1(e,t,s){return(e%=vi)?t||s?nv(mg(e),pg(t,s)):mg(e):t||s?pg(t,s):Ph}function gg(e){return function(t,s){return t+=e,[t>Xe?t-vi:t<-Xe?t+vi:t,s]}}function mg(e){var t=gg(e);return t.invert=gg(-e),t}function pg(e,t){var s=ft(e),u=dt(e),c=ft(t),d=dt(t);function m(p,k){var N=ft(k),C=ft(p)*N,w=dt(p)*N,T=dt(k),D=T*s+C*u;return[Xs(w*c-D*d,C*s-T*u),qr(D*c+w*d)]}return m.invert=function(p,k){var N=ft(k),C=ft(p)*N,w=dt(p)*N,T=dt(k),D=T*c-w*d;return[Xs(w*c+T*d,C*s+D*u),qr(D*s-C*u)]},m}function r1(e,t,s,u,c,d){if(s){var m=ft(t),p=dt(t),k=u*s;c==null?(c=t+u*vi,d=t-k/2):(c=vg(m,c),d=vg(m,d),(u>0?c<d:c>d)&&(c+=u*vi));for(var N,C=c;u>0?C>d:C<d;C-=k)N=Ch([m,-p*ft(C),-p*dt(C)]),e.point(N[0],N[1])}}function vg(e,t){t=Ws(t),t[0]-=e,Th(t);var s=tv(-t[1]);return((-t[2]<0?-s:s)+vi-nt)%vi}function iv(){var e=[],t;return{point:function(s,u){t.push([s,u])},lineStart:function(){e.push(t=[])},lineEnd:Ho,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var s=e;return e=[],t=null,s}}}function s1(e,t,s,u,c,d){var m=e[0],p=e[1],k=t[0],N=t[1],C=0,w=1,T=k-m,D=N-p,M;if(M=s-m,!(!T&&M>0)){if(M/=T,T<0){if(M<C)return;M<w&&(w=M)}else if(T>0){if(M>w)return;M>C&&(C=M)}if(M=c-m,!(!T&&M<0)){if(M/=T,T<0){if(M>w)return;M>C&&(C=M)}else if(T>0){if(M<C)return;M<w&&(w=M)}if(M=u-p,!(!D&&M>0)){if(M/=D,D<0){if(M<C)return;M<w&&(w=M)}else if(D>0){if(M>w)return;M>C&&(C=M)}if(M=d-p,!(!D&&M<0)){if(M/=D,D<0){if(M>w)return;M>C&&(C=M)}else if(D>0){if(M<C)return;M<w&&(w=M)}return C>0&&(e[0]=m+C*T,e[1]=p+C*D),w<1&&(t[0]=m+w*T,t[1]=p+w*D),!0}}}}}function Au(e,t){return At(e[0]-t[0])<nt&&At(e[1]-t[1])<nt}function vu(e,t,s,u){this.x=e,this.z=t,this.o=s,this.e=u,this.v=!1,this.n=this.p=null}function rv(e,t,s,u,c){var d=[],m=[],p,k;if(e.forEach(function(M){if(!((G=M.length-1)<=0)){var G,$=M[0],R=M[G],I;if(Au($,R)){for(c.lineStart(),p=0;p<G;++p)c.point(($=M[p])[0],$[1]);c.lineEnd();return}d.push(I=new vu($,M,null,!0)),m.push(I.o=new vu($,null,I,!1)),d.push(I=new vu(R,M,null,!1)),m.push(I.o=new vu(R,null,I,!0))}}),!!d.length){for(m.sort(t),_g(d),_g(m),p=0,k=m.length;p<k;++p)m[p].e=s=!s;for(var N=d[0],C,w;;){for(var T=N,D=!0;T.v;)if((T=T.n)===N)return;C=T.z,c.lineStart();do{if(T.v=T.o.v=!0,T.e){if(D)for(p=0,k=C.length;p<k;++p)c.point((w=C[p])[0],w[1]);else u(T.x,T.n.x,1,c);T=T.n}else{if(D)for(C=T.p.z,p=C.length-1;p>=0;--p)c.point((w=C[p])[0],w[1]);else u(T.x,T.p.x,-1,c);T=T.p}T=T.o,C=T.z,D=!D}while(!T.v);c.lineEnd()}}}function _g(e){if(t=e.length){for(var t,s=0,u=e[0],c;++s<t;)u.n=c=e[s],c.p=u,u=c;u.n=c=e[0],c.p=u}}function sv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o1(e){return e.length===1&&(e=a1(e)),{left:function(t,s,u,c){for(u==null&&(u=0),c==null&&(c=t.length);u<c;){var d=u+c>>>1;e(t[d],s)<0?u=d+1:c=d}return u},right:function(t,s,u,c){for(u==null&&(u=0),c==null&&(c=t.length);u<c;){var d=u+c>>>1;e(t[d],s)>0?c=d:u=d+1}return u}}}function a1(e){return function(t,s){return sv(e(t),s)}}o1(sv);function ov(e){for(var t=e.length,s,u=-1,c=0,d,m;++u<t;)c+=e[u].length;for(d=new Array(c);--t>=0;)for(m=e[t],s=m.length;--s>=0;)d[--c]=m[s];return d}var Xo=1e9,_u=-Xo;function u1(e,t,s,u){function c(N,C){return e<=N&&N<=s&&t<=C&&C<=u}function d(N,C,w,T){var D=0,M=0;if(N==null||(D=m(N,w))!==(M=m(C,w))||k(N,C)<0^w>0)do T.point(D===0||D===3?e:s,D>1?u:t);while((D=(D+w+4)%4)!==M);else T.point(C[0],C[1])}function m(N,C){return At(N[0]-e)<nt?C>0?0:3:At(N[0]-s)<nt?C>0?2:1:At(N[1]-t)<nt?C>0?1:0:C>0?3:2}function p(N,C){return k(N.x,C.x)}function k(N,C){var w=m(N,1),T=m(C,1);return w!==T?w-T:w===0?C[1]-N[1]:w===1?N[0]-C[0]:w===2?N[1]-C[1]:C[0]-N[0]}return function(N){var C=N,w=iv(),T,D,M,G,$,R,I,P,F,b,j,V={point:H,lineStart:ye,lineEnd:be,polygonStart:le,polygonEnd:ge};function H(Ne,xe){c(Ne,xe)&&C.point(Ne,xe)}function Q(){for(var Ne=0,xe=0,Te=D.length;xe<Te;++xe)for(var W=D[xe],ae=1,B=W.length,ne=W[0],fe,Ie,se=ne[0],ke=ne[1];ae<B;++ae)fe=se,Ie=ke,ne=W[ae],se=ne[0],ke=ne[1],Ie<=u?ke>u&&(se-fe)*(u-Ie)>(ke-Ie)*(e-fe)&&++Ne:ke<=u&&(se-fe)*(u-Ie)<(ke-Ie)*(e-fe)&&--Ne;return Ne}function le(){C=w,T=[],D=[],j=!0}function ge(){var Ne=Q(),xe=j&&Ne,Te=(T=ov(T)).length;(xe||Te)&&(N.polygonStart(),xe&&(N.lineStart(),d(null,null,1,N),N.lineEnd()),Te&&rv(T,p,Ne,d,N),N.polygonEnd()),C=N,T=D=M=null}function ye(){V.point=re,D&&D.push(M=[]),b=!0,F=!1,I=P=NaN}function be(){T&&(re(G,$),R&&F&&w.rejoin(),T.push(w.result())),V.point=H,F&&C.lineEnd()}function re(Ne,xe){var Te=c(Ne,xe);if(D&&M.push([Ne,xe]),b)G=Ne,$=xe,R=Te,b=!1,Te&&(C.lineStart(),C.point(Ne,xe));else if(Te&&F)C.point(Ne,xe);else{var W=[I=Math.max(_u,Math.min(Xo,I)),P=Math.max(_u,Math.min(Xo,P))],ae=[Ne=Math.max(_u,Math.min(Xo,Ne)),xe=Math.max(_u,Math.min(Xo,xe))];s1(W,ae,e,t,s,u)?(F||(C.lineStart(),C.point(W[0],W[1])),C.point(ae[0],ae[1]),Te||C.lineEnd(),j=!1):Te&&(C.lineStart(),C.point(Ne,xe),j=!1)}I=Ne,P=xe,F=Te}return V}}var Lc=mr();function l1(e,t){var s=t[0],u=t[1],c=[dt(s),-ft(s),0],d=0,m=0;Lc.reset();for(var p=0,k=e.length;p<k;++p)if(C=(N=e[p]).length)for(var N,C,w=N[C-1],T=w[0],D=w[1]/2+cg,M=dt(D),G=ft(D),$=0;$<C;++$,T=I,M=F,G=b,w=R){var R=N[$],I=R[0],P=R[1]/2+cg,F=dt(P),b=ft(P),j=I-T,V=j>=0?1:-1,H=V*j,Q=H>Xe,le=M*F;if(Lc.add(Xs(le*V*dt(H),G*b+le*ft(H))),d+=Q?j+V*vi:j,Q^T>=s^I>=s){var ge=cl(Ws(w),Ws(R));Th(ge);var ye=cl(c,ge);Th(ye);var be=(Q^j>=0?-1:1)*qr(ye[2]);(u>be||u===be&&(ge[0]||ge[1]))&&(m+=Q^j>=0?1:-1)}}return(d<-nt||d<nt&&Lc<-nt)^m&1}mr();function yg(e){return e}mr();mr();var $s=1/0,hl=$s,wa=-$s,fl=wa,xg={point:c1,lineStart:Ho,lineEnd:Ho,polygonStart:Ho,polygonEnd:Ho,result:function(){var e=[[$s,hl],[wa,fl]];return wa=fl=-(hl=$s=1/0),e}};function c1(e,t){e<$s&&($s=e),e>wa&&(wa=e),t<hl&&(hl=t),t>fl&&(fl=t)}mr();function av(e,t,s,u){return function(c,d){var m=t(d),p=c.invert(u[0],u[1]),k=iv(),N=t(k),C=!1,w,T,D,M={point:G,lineStart:R,lineEnd:I,polygonStart:function(){M.point=P,M.lineStart=F,M.lineEnd=b,T=[],w=[]},polygonEnd:function(){M.point=G,M.lineStart=R,M.lineEnd=I,T=ov(T);var j=l1(w,p);T.length?(C||(d.polygonStart(),C=!0),rv(T,f1,j,s,d)):j&&(C||(d.polygonStart(),C=!0),d.lineStart(),s(null,null,1,d),d.lineEnd()),C&&(d.polygonEnd(),C=!1),T=w=null},sphere:function(){d.polygonStart(),d.lineStart(),s(null,null,1,d),d.lineEnd(),d.polygonEnd()}};function G(j,V){var H=c(j,V);e(j=H[0],V=H[1])&&d.point(j,V)}function $(j,V){var H=c(j,V);m.point(H[0],H[1])}function R(){M.point=$,m.lineStart()}function I(){M.point=G,m.lineEnd()}function P(j,V){D.push([j,V]);var H=c(j,V);N.point(H[0],H[1])}function F(){N.lineStart(),D=[]}function b(){P(D[0][0],D[0][1]),N.lineEnd();var j=N.clean(),V=k.result(),H,Q=V.length,le,ge,ye;if(D.pop(),w.push(D),D=null,!!Q){if(j&1){if(ge=V[0],(le=ge.length-1)>0){for(C||(d.polygonStart(),C=!0),d.lineStart(),H=0;H<le;++H)d.point((ye=ge[H])[0],ye[1]);d.lineEnd()}return}Q>1&&j&2&&V.push(V.pop().concat(V.shift())),T.push(V.filter(h1))}}return M}}function h1(e){return e.length>1}function f1(e,t){return((e=e.x)[0]<0?e[1]-di-nt:di-e[1])-((t=t.x)[0]<0?t[1]-di-nt:di-t[1])}const kg=av(function(){return!0},d1,m1,[-Xe,-di]);function d1(e){var t=NaN,s=NaN,u=NaN,c;return{lineStart:function(){e.lineStart(),c=1},point:function(d,m){var p=d>0?Xe:-Xe,k=At(d-t);At(k-Xe)<nt?(e.point(t,s=(s+m)/2>0?di:-di),e.point(u,s),e.lineEnd(),e.lineStart(),e.point(p,s),e.point(d,s),c=0):u!==p&&k>=Xe&&(At(t-u)<nt&&(t-=u*nt),At(d-p)<nt&&(d-=p*nt),s=g1(t,s,d,m),e.point(u,s),e.lineEnd(),e.lineStart(),e.point(p,s),c=0),e.point(t=d,s=m),u=p},lineEnd:function(){e.lineEnd(),t=s=NaN},clean:function(){return 2-c}}}function g1(e,t,s,u){var c,d,m=dt(e-s);return At(m)>nt?t1((dt(t)*(d=ft(u))*dt(s)-dt(u)*(c=ft(t))*dt(e))/(c*d*m)):(t+u)/2}function m1(e,t,s,u){var c;if(e==null)c=s*di,u.point(-Xe,c),u.point(0,c),u.point(Xe,c),u.point(Xe,0),u.point(Xe,-c),u.point(0,-c),u.point(-Xe,-c),u.point(-Xe,0),u.point(-Xe,c);else if(At(e[0]-t[0])>nt){var d=e[0]<t[0]?Xe:-Xe;c=s*d/2,u.point(-d,c),u.point(0,c),u.point(d,c)}else u.point(t[0],t[1])}function p1(e,t){var s=ft(e),u=s>0,c=At(s)>nt;function d(C,w,T,D){r1(D,e,t,T,C,w)}function m(C,w){return ft(C)*ft(w)>s}function p(C){var w,T,D,M,G;return{lineStart:function(){M=D=!1,G=1},point:function($,R){var I=[$,R],P,F=m($,R),b=u?F?0:N($,R):F?N($+($<0?Xe:-Xe),R):0;if(!w&&(M=D=F)&&C.lineStart(),F!==D&&(P=k(w,I),(!P||Au(w,P)||Au(I,P))&&(I[0]+=nt,I[1]+=nt,F=m(I[0],I[1]))),F!==D)G=0,F?(C.lineStart(),P=k(I,w),C.point(P[0],P[1])):(P=k(w,I),C.point(P[0],P[1]),C.lineEnd()),w=P;else if(c&&w&&u^F){var j;!(b&T)&&(j=k(I,w,!0))&&(G=0,u?(C.lineStart(),C.point(j[0][0],j[0][1]),C.point(j[1][0],j[1][1]),C.lineEnd()):(C.point(j[1][0],j[1][1]),C.lineEnd(),C.lineStart(),C.point(j[0][0],j[0][1])))}F&&(!w||!Au(w,I))&&C.point(I[0],I[1]),w=I,D=F,T=b},lineEnd:function(){D&&C.lineEnd(),w=null},clean:function(){return G|(M&&D)<<1}}}function k(C,w,T){var D=Ws(C),M=Ws(w),G=[1,0,0],$=cl(D,M),R=mu($,$),I=$[0],P=R-I*I;if(!P)return!T&&C;var F=s*R/P,b=-s*I/P,j=cl(G,$),V=pu(G,F),H=pu($,b);Ic(V,H);var Q=j,le=mu(V,Q),ge=mu(Q,Q),ye=le*le-ge*(mu(V,V)-1);if(!(ye<0)){var be=eo(ye),re=pu(Q,(-le-be)/ge);if(Ic(re,V),re=Ch(re),!T)return re;var Ne=C[0],xe=w[0],Te=C[1],W=w[1],ae;xe<Ne&&(ae=Ne,Ne=xe,xe=ae);var B=xe-Ne,ne=At(B-Xe)<nt,fe=ne||B<nt;if(!ne&&W<Te&&(ae=Te,Te=W,W=ae),fe?ne?Te+W>0^re[1]<(At(re[0]-Ne)<nt?Te:W):Te<=re[1]&&re[1]<=W:B>Xe^(Ne<=re[0]&&re[0]<=xe)){var Ie=pu(Q,(-le+be)/ge);return Ic(Ie,V),[re,Ch(Ie)]}}}function N(C,w){var T=u?e:Xe-e,D=0;return C<-T?D|=1:C>T&&(D|=2),w<-T?D|=4:w>T&&(D|=8),D}return av(m,p,d,u?[0,-e]:[-Xe,e-Xe])}function uv(e){return function(t){var s=new Oh;for(var u in e)s[u]=e[u];return s.stream=t,s}}function Oh(){}Oh.prototype={constructor:Oh,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function lv(e,t,s){var u=t[1][0]-t[0][0],c=t[1][1]-t[0][1],d=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),d!=null&&e.clipExtent(null),n1(s,e.stream(xg));var m=xg.result(),p=Math.min(u/(m[1][0]-m[0][0]),c/(m[1][1]-m[0][1])),k=+t[0][0]+(u-p*(m[1][0]+m[0][0]))/2,N=+t[0][1]+(c-p*(m[1][1]+m[0][1]))/2;return d!=null&&e.clipExtent(d),e.scale(p*150).translate([k,N])}function v1(e,t,s){return lv(e,[[0,0],t],s)}var wg=16,_1=ft(30*Fn);function Eg(e,t){return+t?x1(e,t):y1(e)}function y1(e){return uv({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}function x1(e,t){function s(u,c,d,m,p,k,N,C,w,T,D,M,G,$){var R=N-u,I=C-c,P=R*R+I*I;if(P>4*t&&G--){var F=m+T,b=p+D,j=k+M,V=eo(F*F+b*b+j*j),H=qr(j/=V),Q=At(At(j)-1)<nt||At(d-w)<nt?(d+w)/2:Xs(b,F),le=e(Q,H),ge=le[0],ye=le[1],be=ge-u,re=ye-c,Ne=I*be-R*re;(Ne*Ne/P>t||At((R*be+I*re)/P-.5)>.3||m*T+p*D+k*M<_1)&&(s(u,c,d,m,p,k,ge,ye,Q,F/=V,b/=V,j,G,$),$.point(ge,ye),s(ge,ye,Q,F,b,j,N,C,w,T,D,M,G,$))}}return function(u){var c,d,m,p,k,N,C,w,T,D,M,G,$={point:R,lineStart:I,lineEnd:F,polygonStart:function(){u.polygonStart(),$.lineStart=b},polygonEnd:function(){u.polygonEnd(),$.lineStart=I}};function R(H,Q){H=e(H,Q),u.point(H[0],H[1])}function I(){w=NaN,$.point=P,u.lineStart()}function P(H,Q){var le=Ws([H,Q]),ge=e(H,Q);s(w,T,C,D,M,G,w=ge[0],T=ge[1],C=H,D=le[0],M=le[1],G=le[2],wg,u),u.point(w,T)}function F(){$.point=R,u.lineEnd()}function b(){I(),$.point=j,$.lineEnd=V}function j(H,Q){P(c=H,Q),d=w,m=T,p=D,k=M,N=G,$.point=P}function V(){s(w,T,C,D,M,G,d,m,c,p,k,N,wg,u),$.lineEnd=F,F()}return $}}var k1=uv({point:function(e,t){this.stream.point(e*Fn,t*Fn)}});function w1(e){return E1(function(){return e})()}function E1(e){var t,s=150,u=480,c=250,d,m,p=0,k=0,N=0,C=0,w=0,T,D,M=null,G=kg,$=null,R,I,P,F=yg,b=.5,j=Eg(ge,b),V,H;function Q(re){return re=D(re[0]*Fn,re[1]*Fn),[re[0]*s+d,m-re[1]*s]}function le(re){return re=D.invert((re[0]-d)/s,(m-re[1])/s),re&&[re[0]*Xi,re[1]*Xi]}function ge(re,Ne){return re=t(re,Ne),[re[0]*s+d,m-re[1]*s]}Q.stream=function(re){return V&&H===re?V:V=k1(G(T,j(F(H=re))))},Q.clipAngle=function(re){return arguments.length?(G=+re?p1(M=re*Fn,6*Fn):(M=null,kg),be()):M*Xi},Q.clipExtent=function(re){return arguments.length?(F=re==null?($=R=I=P=null,yg):u1($=+re[0][0],R=+re[0][1],I=+re[1][0],P=+re[1][1]),be()):$==null?null:[[$,R],[I,P]]},Q.scale=function(re){return arguments.length?(s=+re,ye()):s},Q.translate=function(re){return arguments.length?(u=+re[0],c=+re[1],ye()):[u,c]},Q.center=function(re){return arguments.length?(p=re[0]%360*Fn,k=re[1]%360*Fn,ye()):[p*Xi,k*Xi]},Q.rotate=function(re){return arguments.length?(N=re[0]%360*Fn,C=re[1]%360*Fn,w=re.length>2?re[2]%360*Fn:0,ye()):[N*Xi,C*Xi,w*Xi]},Q.precision=function(re){return arguments.length?(j=Eg(ge,b=re*re),be()):eo(b)},Q.fitExtent=function(re,Ne){return lv(Q,re,Ne)},Q.fitSize=function(re,Ne){return v1(Q,re,Ne)};function ye(){D=nv(T=i1(N,C,w),t);var re=t(p,k);return d=u-re[0]*s,m=c+re[1]*s,be()}function be(){return V=H=null,Q}return function(){return t=e.apply(this,arguments),Q.invert=t.invert&&le,ye()}}function cv(e){return function(t,s){var u=ft(t),c=ft(s),d=e(u*c);return[d*c*dt(t),d*dt(s)]}}function hv(e){return function(t,s){var u=eo(t*t+s*s),c=e(u),d=dt(c),m=ft(c);return[Xs(t*d,u*m),qr(u&&s*d/u)]}}var S1=cv(function(e){return eo(2/(1+e))});S1.invert=hv(function(e){return 2*qr(e/2)});var fv=cv(function(e){return(e=tv(e))&&e/dt(e)});fv.invert=hv(function(e){return e});function N1(){return w1(fv).scale(79.4188).clipAngle(180-.001)}function Sg(e,t){return[e,t]}Sg.invert=Sg;var{BufferOp:I1,GeoJSONReader:L1,GeoJSONWriter:C1}=e1;function T1(e,t,s){s=s||{};var u=s.units||"kilometers",c=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var d=[];switch(e.type){case"GeometryCollection":return Kp(e,function(m){var p=Du(m,t,u,c);p&&d.push(p)}),al(d);case"FeatureCollection":return ag(e,function(m){var p=Du(m,t,u,c);p&&ag(p,function(k){k&&d.push(k)})}),al(d)}return Du(e,t,u,c)}function Du(e,t,s,u){var c=e.properties||{},d=e.type==="Feature"?e.geometry:e;if(d.type==="GeometryCollection"){var m=[];return Kp(e,function(G){var $=Du(G,t,s,u);$&&m.push($)}),al(m)}var p=P1(d),k={type:d.type,coordinates:gv(d.coordinates,p)},N=new L1,C=N.read(k),w=G0(Z0(t,s),"meters"),T=I1.bufferOp(C,w,u),D=new C1;if(T=D.write(T),!dv(T.coordinates)){var M={type:T.type,coordinates:mv(T.coordinates,p)};return Ol(M,c)}}function dv(e){return Array.isArray(e[0])?dv(e[0]):isNaN(e[0])}function gv(e,t){return typeof e[0]!="object"?t(e):e.map(function(s){return gv(s,t)})}function mv(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(s){return mv(s,t)})}function P1(e){var t=K0(e).geometry.coordinates,s=[-t[0],-t[1]];return N1().rotate(s).scale(an)}var bf={exports:{}};const O1=Pg(Q0);class M1{constructor(t=[],s=R1){if(this.data=t,this.length=this.data.length,this.compare=s,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:s,compare:u}=this,c=s[t];for(;t>0;){const d=t-1>>1,m=s[d];if(u(c,m)>=0)break;s[t]=m,t=d}s[t]=c}_down(t){const{data:s,compare:u}=this,c=this.length>>1,d=s[t];for(;t<c;){let m=(t<<1)+1,p=s[m];const k=m+1;if(k<this.length&&u(s[k],p)<0&&(m=k,p=s[k]),u(p,d)>=0)break;s[t]=p,t=m}s[t]=d}}function R1(e,t){return e<t?-1:e>t?1:0}const A1=Object.freeze(Object.defineProperty({__proto__:null,default:M1},Symbol.toStringTag,{value:"Module"})),D1=Pg(A1);var Ml={exports:{}},z1=function(t,s,u,c){var d=t[0],m=t[1],p=!1;u===void 0&&(u=0),c===void 0&&(c=s.length);for(var k=(c-u)/2,N=0,C=k-1;N<k;C=N++){var w=s[u+N*2+0],T=s[u+N*2+1],D=s[u+C*2+0],M=s[u+C*2+1],G=T>m!=M>m&&d<(D-w)*(m-T)/(M-T)+w;G&&(p=!p)}return p},F1=function(t,s,u,c){var d=t[0],m=t[1],p=!1;u===void 0&&(u=0),c===void 0&&(c=s.length);for(var k=c-u,N=0,C=k-1;N<k;C=N++){var w=s[N+u][0],T=s[N+u][1],D=s[C+u][0],M=s[C+u][1],G=T>m!=M>m&&d<(D-w)*(m-T)/(M-T)+w;G&&(p=!p)}return p},pv=z1,vv=F1;Ml.exports=function(t,s,u,c){return s.length>0&&Array.isArray(s[0])?vv(t,s,u,c):pv(t,s,u,c)};Ml.exports.nested=vv;Ml.exports.flat=pv;var b1=Ml.exports,Mh={exports:{}};(function(e,t){(function(s,u){u(t)})(Ah,function(s){const c=33306690738754706e-32;function d(G,$,R,I,P){let F,b,j,V,H=$[0],Q=I[0],le=0,ge=0;Q>H==Q>-H?(F=H,H=$[++le]):(F=Q,Q=I[++ge]);let ye=0;if(le<G&&ge<R)for(Q>H==Q>-H?(j=F-((b=H+F)-H),H=$[++le]):(j=F-((b=Q+F)-Q),Q=I[++ge]),F=b,j!==0&&(P[ye++]=j);le<G&&ge<R;)Q>H==Q>-H?(j=F-((b=F+H)-(V=b-F))+(H-V),H=$[++le]):(j=F-((b=F+Q)-(V=b-F))+(Q-V),Q=I[++ge]),F=b,j!==0&&(P[ye++]=j);for(;le<G;)j=F-((b=F+H)-(V=b-F))+(H-V),H=$[++le],F=b,j!==0&&(P[ye++]=j);for(;ge<R;)j=F-((b=F+Q)-(V=b-F))+(Q-V),Q=I[++ge],F=b,j!==0&&(P[ye++]=j);return F===0&&ye!==0||(P[ye++]=F),ye}function m(G){return new Float64Array(G)}const p=33306690738754716e-32,k=22204460492503146e-32,N=11093356479670487e-47,C=m(4),w=m(8),T=m(12),D=m(16),M=m(4);s.orient2d=function(G,$,R,I,P,F){const b=($-F)*(R-P),j=(G-P)*(I-F),V=b-j;if(b===0||j===0||b>0!=j>0)return V;const H=Math.abs(b+j);return Math.abs(V)>=p*H?V:-function(Q,le,ge,ye,be,re,Ne){let xe,Te,W,ae,B,ne,fe,Ie,se,ke,de,Ge,U,lt,De,me,A,$e;const kt=Q-be,tt=ge-be,ie=le-re,we=ye-re;B=(De=(Ie=kt-(fe=(ne=134217729*kt)-(ne-kt)))*(ke=we-(se=(ne=134217729*we)-(ne-we)))-((lt=kt*we)-fe*se-Ie*se-fe*ke))-(de=De-(A=(Ie=ie-(fe=(ne=134217729*ie)-(ne-ie)))*(ke=tt-(se=(ne=134217729*tt)-(ne-tt)))-((me=ie*tt)-fe*se-Ie*se-fe*ke))),C[0]=De-(de+B)+(B-A),B=(U=lt-((Ge=lt+de)-(B=Ge-lt))+(de-B))-(de=U-me),C[1]=U-(de+B)+(B-me),B=($e=Ge+de)-Ge,C[2]=Ge-($e-B)+(de-B),C[3]=$e;let Me=function(Xr,Re){let ti=Re[0];for(let Nn=1;Nn<Xr;Nn++)ti+=Re[Nn];return ti}(4,C),K=k*Ne;if(Me>=K||-Me>=K||(xe=Q-(kt+(B=Q-kt))+(B-be),W=ge-(tt+(B=ge-tt))+(B-be),Te=le-(ie+(B=le-ie))+(B-re),ae=ye-(we+(B=ye-we))+(B-re),xe===0&&Te===0&&W===0&&ae===0)||(K=N*Ne+c*Math.abs(Me),(Me+=kt*ae+we*xe-(ie*W+tt*Te))>=K||-Me>=K))return Me;B=(De=(Ie=xe-(fe=(ne=134217729*xe)-(ne-xe)))*(ke=we-(se=(ne=134217729*we)-(ne-we)))-((lt=xe*we)-fe*se-Ie*se-fe*ke))-(de=De-(A=(Ie=Te-(fe=(ne=134217729*Te)-(ne-Te)))*(ke=tt-(se=(ne=134217729*tt)-(ne-tt)))-((me=Te*tt)-fe*se-Ie*se-fe*ke))),M[0]=De-(de+B)+(B-A),B=(U=lt-((Ge=lt+de)-(B=Ge-lt))+(de-B))-(de=U-me),M[1]=U-(de+B)+(B-me),B=($e=Ge+de)-Ge,M[2]=Ge-($e-B)+(de-B),M[3]=$e;const Yt=d(4,C,4,M,w);B=(De=(Ie=kt-(fe=(ne=134217729*kt)-(ne-kt)))*(ke=ae-(se=(ne=134217729*ae)-(ne-ae)))-((lt=kt*ae)-fe*se-Ie*se-fe*ke))-(de=De-(A=(Ie=ie-(fe=(ne=134217729*ie)-(ne-ie)))*(ke=W-(se=(ne=134217729*W)-(ne-W)))-((me=ie*W)-fe*se-Ie*se-fe*ke))),M[0]=De-(de+B)+(B-A),B=(U=lt-((Ge=lt+de)-(B=Ge-lt))+(de-B))-(de=U-me),M[1]=U-(de+B)+(B-me),B=($e=Ge+de)-Ge,M[2]=Ge-($e-B)+(de-B),M[3]=$e;const dn=d(Yt,w,4,M,T);B=(De=(Ie=xe-(fe=(ne=134217729*xe)-(ne-xe)))*(ke=ae-(se=(ne=134217729*ae)-(ne-ae)))-((lt=xe*ae)-fe*se-Ie*se-fe*ke))-(de=De-(A=(Ie=Te-(fe=(ne=134217729*Te)-(ne-Te)))*(ke=W-(se=(ne=134217729*W)-(ne-W)))-((me=Te*W)-fe*se-Ie*se-fe*ke))),M[0]=De-(de+B)+(B-A),B=(U=lt-((Ge=lt+de)-(B=Ge-lt))+(de-B))-(de=U-me),M[1]=U-(de+B)+(B-me),B=($e=Ge+de)-Ge,M[2]=Ge-($e-B)+(de-B),M[3]=$e;const Sn=d(dn,T,4,M,D);return D[Sn-1]}(G,$,R,I,P,F,H)},s.orient2dfast=function(G,$,R,I,P,F){return($-F)*(R-P)-(G-P)*(I-F)},Object.defineProperty(s,"__esModule",{value:!0})})})(Mh,Mh.exports);var B1=Mh.exports,Ng=O1,zu=D1,G1=b1,Z1=B1.orient2d;zu.default&&(zu=zu.default);bf.exports=_v;bf.exports.default=_v;function _v(e,t,s){t=Math.max(0,t===void 0?2:t),s=s||0;var u=V1(e),c=new Ng(16);c.toBBox=function(I){return{minX:I[0],minY:I[1],maxX:I[0],maxY:I[1]}},c.compareMinX=function(I,P){return I[0]-P[0]},c.compareMinY=function(I,P){return I[1]-P[1]},c.load(e);for(var d=[],m=0,p;m<u.length;m++){var k=u[m];c.remove(k),p=Cg(k,p),d.push(p)}var N=new Ng(16);for(m=0;m<d.length;m++)N.insert(Cc(d[m]));for(var C=t*t,w=s*s;d.length;){var T=d.shift(),D=T.p,M=T.next.p,G=Tc(D,M);if(!(G<w)){var $=G/C;k=U1(c,T.prev.p,D,M,T.next.next.p,$,N),k&&Math.min(Tc(k,D),Tc(k,M))<=$&&(d.push(T),d.push(Cg(k,T)),c.remove(k),N.remove(T),N.insert(Cc(T)),N.insert(Cc(T.next)))}}T=p;var R=[];do R.push(T.p),T=T.next;while(T!==p);return R.push(T.p),R}function U1(e,t,s,u,c,d,m){for(var p=new zu([],Y1),k=e.data;k;){for(var N=0;N<k.children.length;N++){var C=k.children[N],w=k.leaf?Pc(C,s,u):q1(s,u,C);w>d||p.push({node:C,dist:w})}for(;p.length&&!p.peek().node.children;){var T=p.pop(),D=T.node,M=Pc(D,t,s),G=Pc(D,u,c);if(T.dist<M&&T.dist<G&&Lg(s,D,m)&&Lg(u,D,m))return D}k=p.pop(),k&&(k=k.node)}return null}function Y1(e,t){return e.dist-t.dist}function q1(e,t,s){if(Ig(e,s)||Ig(t,s))return 0;var u=yu(e[0],e[1],t[0],t[1],s.minX,s.minY,s.maxX,s.minY);if(u===0)return 0;var c=yu(e[0],e[1],t[0],t[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var d=yu(e[0],e[1],t[0],t[1],s.maxX,s.minY,s.maxX,s.maxY);if(d===0)return 0;var m=yu(e[0],e[1],t[0],t[1],s.minX,s.maxY,s.maxX,s.maxY);return m===0?0:Math.min(u,c,d,m)}function Ig(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function Lg(e,t,s){for(var u=Math.min(e[0],t[0]),c=Math.min(e[1],t[1]),d=Math.max(e[0],t[0]),m=Math.max(e[1],t[1]),p=s.search({minX:u,minY:c,maxX:d,maxY:m}),k=0;k<p.length;k++)if(j1(p[k].p,p[k].next.p,e,t))return!1;return!0}function As(e,t,s){return Z1(e[0],e[1],t[0],t[1],s[0],s[1])}function j1(e,t,s,u){return e!==u&&t!==s&&As(e,t,s)>0!=As(e,t,u)>0&&As(s,u,e)>0!=As(s,u,t)>0}function Cc(e){var t=e.p,s=e.next.p;return e.minX=Math.min(t[0],s[0]),e.minY=Math.min(t[1],s[1]),e.maxX=Math.max(t[0],s[0]),e.maxY=Math.max(t[1],s[1]),e}function V1(e){for(var t=e[0],s=e[0],u=e[0],c=e[0],d=0;d<e.length;d++){var m=e[d];m[0]<t[0]&&(t=m),m[0]>u[0]&&(u=m),m[1]<s[1]&&(s=m),m[1]>c[1]&&(c=m)}var p=[t,s,u,c],k=p.slice();for(d=0;d<e.length;d++)G1(e[d],p)||k.push(e[d]);return X1(k)}function Cg(e,t){var s={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(s.next=t.next,s.prev=t,t.next.prev=s,t.next=s):(s.prev=s,s.next=s),s}function Tc(e,t){var s=e[0]-t[0],u=e[1]-t[1];return s*s+u*u}function Pc(e,t,s){var u=t[0],c=t[1],d=s[0]-u,m=s[1]-c;if(d!==0||m!==0){var p=((e[0]-u)*d+(e[1]-c)*m)/(d*d+m*m);p>1?(u=s[0],c=s[1]):p>0&&(u+=d*p,c+=m*p)}return d=e[0]-u,m=e[1]-c,d*d+m*m}function yu(e,t,s,u,c,d,m,p){var k=s-e,N=u-t,C=m-c,w=p-d,T=e-c,D=t-d,M=k*k+N*N,G=k*C+N*w,$=C*C+w*w,R=k*T+N*D,I=C*T+w*D,P=M*$-G*G,F,b,j,V,H=P,Q=P;P===0?(b=0,H=1,V=I,Q=$):(b=G*I-$*R,V=M*I-G*R,b<0?(b=0,V=I,Q=$):b>H&&(b=H,V=I+G,Q=$)),V<0?(V=0,-R<0?b=0:-R>M?b=H:(b=-R,H=M)):V>Q&&(V=Q,-R+G<0?b=0:-R+G>M?b=H:(b=-R+G,H=M)),F=b===0?0:b/H,j=V===0?0:V/Q;var le=(1-F)*e+F*s,ge=(1-F)*t+F*u,ye=(1-j)*c+j*m,be=(1-j)*d+j*p,re=ye-le,Ne=be-ge;return re*re+Ne*Ne}function H1(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}function X1(e){e.sort(H1);for(var t=[],s=0;s<e.length;s++){for(;t.length>=2&&As(t[t.length-2],t[t.length-1],e[s])<=0;)t.pop();t.push(e[s])}for(var u=[],c=e.length-1;c>=0;c--){for(;u.length>=2&&As(u[u.length-2],u[u.length-1],e[c])<=0;)u.pop();u.push(e[c])}return u.pop(),t.pop(),t.concat(u)}var W1=bf.exports;const $1=dl(W1);function Q1(e,t={}){t.concavity=t.concavity||1/0;const s=[];if(Ff(e,c=>{s.push([c[0],c[1]])}),!s.length)return null;const u=$1(s,t.concavity);return u.length>3?b0([u]):null}function Rh(e){const t=e.trim().split(`
`);if(t.length<2)return[];function s(d){const m=[];let p="",k=!1;for(let N=0;N<d.length;N++){const C=d[N];C==='"'?k=!k:C===","&&!k?(m.push(p.trim()),p=""):p+=C}return m.push(p.trim()),m}const u=s(t[0]),c=[];for(let d=1;d<t.length;d++){const m=s(t[d]),p={};u.forEach((k,N)=>{p[k]=m[N]||""}),c.push(p)}return c}function K1(e){if(!e||typeof e!="string")return null;const t=e.split(",").map(c=>c.trim());if(t.length!==2)return null;const s=parseFloat(t[0]),u=parseFloat(t[1]);return isNaN(s)||isNaN(u)||s<-90||s>90||u<-180||u>180?null:[u,s]}async function J1(e,t){try{const s=`https://docs.google.com/spreadsheets/d/${e}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent(t)}`;console.log("[fetchSheetData] Fetching from:",s);const u=await fetch(s);if(!u.ok)throw new Error(`Failed to fetch sheet data: ${u.status} ${u.statusText}`);const c=await u.text();console.log("[fetchSheetData] Received CSV data:",c.substring(0,200));const d=Rh(c);console.log("[fetchSheetData] Parsed rows:",d.length);const m=d.map(p=>{const k=K1(p.Latlon),N=parseFloat(p.Poeng);return!k||isNaN(N)||N<0?null:{name:p.Sted||"Unknown",coordinates:k,score:N}}).filter(p=>p!==null);return console.log("[fetchSheetData] Valid places with scores:",m.length),m}catch(s){throw console.error("[fetchSheetData] Error fetching sheet data:",s),s}}async function ex(e){try{const t=`https://docs.google.com/spreadsheets/d/${e}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent("Sprsml og svar")}`;console.log("[fetchAllQuizQuestions] Fetching questions from:",t);const s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch questions: ${s.status}`);const u=await s.text(),c=Rh(u),d=`https://docs.google.com/spreadsheets/d/${e}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent("Svaralternativer")}`;console.log("[fetchAllQuizQuestions] Fetching answers from:",d);const m=await fetch(d);if(!m.ok)throw new Error(`Failed to fetch answers: ${m.status}`);const p=await m.text(),k=Rh(p),C=c.map(w=>{const T=w.Nr,D=w.Tekst||"",M=w.Svar,$=k.filter(I=>I.Nr===T).map(I=>I.Alternativ).filter(I=>I&&I.trim().length>0),R=M!=null&&typeof M=="string"&&M.trim().length>0;return{number:T,question:D,alternatives:$,answer:M||null,isAnswered:R}}).filter(w=>w.question&&w.alternatives.length>0);return console.log("[fetchAllQuizQuestions] Loaded",C.length,"questions"),console.log("[fetchAllQuizQuestions] Answered:",C.filter(w=>w.isAnswered).length),C}catch(t){return console.error("[fetchAllQuizQuestions] Error:",t),[]}}function tx(e,t,s=10){if(!e||t<=0)return[];const u=[];try{for(let c=s;c>=0;c--){const d=t*c/s,m=1-c/s;if(d>0){const p=T1(e,d,{units:"kilometers"});p&&u.push({geometry:p.geometry,opacity:m*.3})}else u.push({geometry:e,opacity:.3})}return u}catch(c){return console.error("[createGradientBuffers] Error creating buffers:",c),[]}}function nx(e){const t=document.createElement("script");t.src="https://apis.google.com/js/api.js",t.onload=()=>{window.gapi.load("client",async()=>{await window.gapi.client.init({apiKey:"",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}),console.log("[googleAuth] GAPI client initialized"),e()})},document.body.appendChild(t)}async function ix(e,t,s,u){try{window.gapi.client.setToken({access_token:u});const c="Sprsml og svar!A:Z";console.log("[googleAuth] Fetching sheet data to find question:",t);const m=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:c})).result.values;let p=-1,k=-1;if(m&&m.length>0){if(k=m[0].findIndex(T=>T==="Svar"),k===-1)throw new Error('Could not find "Svar" column in sheet');console.log('[googleAuth] Found "Svar" column at index:',k)}for(let w=1;w<m.length;w++)if(m[w][0]===t){p=w+1;break}if(p===-1)throw new Error(`Question number ${t} not found in sheet`);console.log("[googleAuth] Found question at row:",p);const C=`Sprsml og svar!${String.fromCharCode(65+k)}${p}`;return console.log("[googleAuth] Updating range:",C,"with value:",s),await window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:e,range:C,valueInputOption:"RAW",resource:{values:[[s]]}}),console.log("[googleAuth]  Answer submitted successfully:",s),!0}catch(c){throw console.error("[googleAuth] Error submitting answer:",c),c}}async function rx(e,t){try{window.gapi.client.setToken({access_token:t});const s="Sprsml og svar!A:Z";console.log("[googleAuth] Fetching sheet data to reset all answers");const c=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:s})).result.values;let d=-1;if(c&&c.length>0){if(d=c[0].findIndex(N=>N==="Svar"),d===-1)throw new Error('Could not find "Svar" column in sheet');console.log('[googleAuth] Found "Svar" column at index:',d)}const m=String.fromCharCode(65+d),p=`Sprsml og svar!${m}2:${m}`;return console.log("[googleAuth] Clearing range:",p),await window.gapi.client.sheets.spreadsheets.values.clear({spreadsheetId:e,range:p}),console.log("[googleAuth]  All answers cleared successfully"),!0}catch(s){throw console.error("[googleAuth] Error clearing answers:",s),s}}const sx="/kartquiz/assets/sverre-DV3cbHdf.jpg",ox="/kartquiz/assets/dawn-DUFnYeur.aac",Oc="/kartquiz/assets/guri-vinner-CTPzqNnf.mp4",ax="/kartquiz/assets/guri-uavgjort-CMXh4Fqu.mp4",xu="10SnSQIjUFzHz0zXi1TbXbescLkO4ZYqRXJncA7VROZI",ux="Resultater",lx=1e4,cx=250,Tg=1e4,hx="171406747768-ketclf1h4jbp4hdrqg720d4ftoc6re6u.apps.googleusercontent.com";function fx(){var tt;const[e,t]=ue.useState([]),s=ue.useRef([]),[u,c]=ue.useState([]),[d,m]=ue.useState(null),[p,k]=ue.useState([]),[N,C]=ue.useState(!0),[w,T]=ue.useState(null),[D,M]=ue.useState(null),[G,$]=ue.useState([]),[R,I]=ue.useState(null),[P,F]=ue.useState(!1),[b,j]=ue.useState(null),[V,H]=ue.useState(!1),[Q,le]=ue.useState(null),[ge,ye]=ue.useState(!0),[be,re]=ue.useState(!1),[Ne,xe]=ue.useState(!1),[Te,W]=ue.useState(!1),ae=ue.useRef(null);ue.useEffect(()=>(ge?(ae.current||(ae.current=new Audio(ox),ae.current.volume=.6,ae.current.loop=!1),ae.current.play().catch(ie=>{console.log("[PlacesVisualization] Splash audio autoplay blocked:",ie)})):ae.current&&(ae.current.pause(),ae.current.currentTime=0),()=>{ae.current&&(ae.current.pause(),ae.current=null)}),[ge]);const B=async()=>{try{C(!0),T(null),console.log("[PlacesVisualization] Fetching data...");const ie=await J1(xu,ux);if(console.log("[PlacesVisualization] Loaded places:",ie.length),console.log("[PlacesVisualization] Previous places count:",s.current.length),s.current.length>0){console.log("[PlacesVisualization] Checking for changes...");const we=[];ie.forEach(Me=>{const K=s.current.find(Yt=>Yt.name===Me.name);if(!K)console.log("[PlacesVisualization] New place:",Me.name),we.push({...Me,changeType:"new"});else if(K.score!==Me.score){const Yt=K.score===0&&Me.score>0;console.log("[PlacesVisualization] Score changed for",Me.name,"from",K.score,"to",Me.score,Yt?"(NEWLY APPEARING)":""),we.push({...Me,changeType:Yt?"new":"updated",previousScore:K.score})}else Me.name==="Oslo"&&console.log("[PlacesVisualization] Oslo unchanged - prev:",K.score,"current:",Me.score)}),s.current.forEach(Me=>{ie.find(K=>K.name===Me.name)||(console.log("[PlacesVisualization] Place removed:",Me.name),we.push({...Me,changeType:"removed"}))}),we.length>0?(console.log("[PlacesVisualization]  Total changes detected:",we.length),console.log("[PlacesVisualization] Changes:",we.map(Me=>`${Me.name} (${Me.changeType})`).join(", ")),c(we),setTimeout(()=>{console.log("[PlacesVisualization] Clearing changed places after animation"),c([])},Tg)):console.log("[PlacesVisualization] No changes detected")}else console.log("[PlacesVisualization] Skipping change detection - first load or no previous data");if(s.current=ie,t(ie),M(new Date),ie.length>0){const we=ie.filter(Me=>Me.score>0);if(console.log("[PlacesVisualization] Places with score > 0:",we.length),we.length>=3){const Me=al(we.map(dn=>Qp(dn.coordinates))),K=Q1(Me);console.log("[PlacesVisualization] Convex hull:",K?"created":"failed");const Yt=K?K.geometry:null;if(m(Yt),Yt){const dn=tx(Yt,cx);console.log("[PlacesVisualization] Created",dn.length,"gradient buffers"),k(dn)}}else if(we.length===2){const Me=B0(we.map(K=>K.coordinates));m(Me.geometry),k([])}else m(null),k([])}else m(null),k([]);C(!1)}catch(ie){console.error("[PlacesVisualization] Error loading data:",ie),T(ie.message),C(!1)}},ne=async()=>{try{const ie=await ex(xu);$(ie),console.log("[PlacesVisualization] Loaded",ie.length,"questions"),ie.some(Me=>Me.isAnswered)&&ye(!1)}catch(ie){console.error("[PlacesVisualization] Error loading quiz questions:",ie)}},fe=()=>G.find(ie=>!ie.isAnswered)||null,Ie=()=>{const ie=fe();ie?(I(ie),F(!0)):alert("Alle sprsml er besvart!")},se=ie=>{const we=G.find(Me=>Me.number===ie);we&&(I(we),F(!0))},ke=async()=>{F(!1),I(null),await B(),await ne()};ue.useEffect(()=>{if(G.length===0||Ne)return;const ie=G.filter(Me=>Me.isAnswered).length,we=G.length;ie===we-1&&!Ne&&(console.log("[PlacesVisualization] Second-to-last question answered! Showing surprise..."),re(!0),xe(!0))},[G,Ne]),ue.useEffect(()=>{nx(()=>{console.log("[PlacesVisualization] GAPI initialized"),H(!0)})},[]);const de=r0({onSuccess:ie=>{console.log("[PlacesVisualization] OAuth login successful"),j(ie.access_token)},onError:ie=>{console.error("[PlacesVisualization] OAuth login failed:",ie),alert("Kunne ikke logge inn. Prv igjen.")},scope:"https://www.googleapis.com/auth/spreadsheets"}),Ge=async(ie,we)=>{if(!b||!V)throw new Error("Not authenticated or GAPI not ready");console.log("[PlacesVisualization] Submitting answer:",we,"for question:",ie),await ix(xu,ie,we,b),await ne()},U=async()=>{if(!b||!V){alert("Du m logge inn frst for  nullstille svar.");return}if(window.confirm("Er du sikker p at du vil nullstille alle svar? Dette kan ikke angres."))try{console.log("[PlacesVisualization] Resetting all answers"),await rx(xu,b),await B(),await ne(),xe(!1),re(!1),alert("Alle svar er nullstilt!")}catch(we){console.error("[PlacesVisualization] Error resetting answers:",we),alert("Kunne ikke nullstille svar. Prv igjen.")}},lt=()=>{re(!1)},De=()=>{if(!e||e.length===0)return Oc;const ie=e.filter(K=>K.score>0);if(ie.length===0)return Oc;const we=Math.max(...ie.map(K=>K.score));return ie.filter(K=>K.score===we).length===1?Oc:ax},me=()=>{W(!0)},A=()=>{W(!1)},$e=()=>{W(!1);const ie=G.find(we=>!we.isAnswered);ie&&(I(ie),F(!0))};if(ue.useEffect(()=>{const ie=we=>{P||be||Te||we.target.tagName==="INPUT"||we.target.tagName==="SELECT"||(we.key==="n"||we.key==="N")&&(we.preventDefault(),Ie())};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[P,be,Te,G]),ue.useEffect(()=>{B(),ne();const ie=setInterval(()=>{console.log("[PlacesVisualization] Auto-refreshing data..."),B(),ne()},lx);return()=>clearInterval(ie)},[]),N&&e.length===0)return ee.jsx("div",{className:"visualization-container",children:ee.jsxs("div",{className:"loading-message",children:[ee.jsx("h2",{children:"Laster data..."}),ee.jsx("p",{children:"Henter resultater fra Google Sheets"})]})});if(w&&e.length===0)return ee.jsx("div",{className:"visualization-container",children:ee.jsxs("div",{className:"error-message",children:[ee.jsx("h2",{children:"Feil ved lasting av data"}),ee.jsx("p",{children:w}),ee.jsx("button",{onClick:B,className:"btn-retry",children:"Prv igjen"})]})});const kt=()=>{ae.current&&ae.current.paused&&ae.current.play().catch(ie=>{console.log("[PlacesVisualization] Could not play splash audio:",ie)}),ye(!1)};return ee.jsxs("div",{className:"visualization-container",children:[ge&&ee.jsx("div",{className:"splash-screen",onClick:kt,children:ee.jsxs("div",{className:"splash-content",children:[ee.jsx("h1",{children:"Sverres reisequiz!"}),ee.jsx("img",{src:sx,alt:"Sverre",className:"splash-image"}),ee.jsx("p",{className:"splash-instruction",children:"Klikk for  starte"})]})}),ee.jsxs("div",{className:"control-panel",children:[ee.jsxs("div",{className:"header",children:[ee.jsx("h1",{children:"Kor ska vi reis?"}),ee.jsx("p",{className:"description"})]}),ee.jsxs("div",{className:"quiz-controls",children:[!b&&ee.jsx("button",{onClick:()=>de(),className:"btn-login",children:" Logg inn med Google"}),ee.jsxs("button",{onClick:Ie,className:"btn-quiz",children:[" Sprsml ",((tt=fe())==null?void 0:tt.number)||""]}),G.length>0&&ee.jsxs("div",{className:"question-selector",children:[ee.jsx("label",{htmlFor:"question-select"}),ee.jsxs("select",{id:"question-select",onChange:ie=>se(ie.target.value),value:"",children:[ee.jsx("option",{value:"",children:"-- Velg et sprsml --"}),G.map(ie=>ee.jsxs("option",{value:ie.number,children:[ie.number,". ",ie.question.substring(0,50),ie.question.length>50?"...":"",ie.isAnswered?" ":""]},ie.number))]})]}),Ne&&G.filter(ie=>!ie.isAnswered).length===1&&ee.jsx("button",{onClick:me,className:"btn-video",children:" Se videoen!"})]}),ee.jsxs("div",{className:"places-list",children:[ee.jsx("h3",{children:"Resultatliste:"}),ee.jsx("div",{className:"places-scroll",children:e.filter(ie=>ie.score>0).sort((ie,we)=>we.score-ie.score).map((ie,we)=>{const Me=u.some(K=>K.name===ie.name);return ee.jsxs("div",{className:`place-item ${Me?"place-changed":""}`,children:[ee.jsx("span",{className:"place-name",children:ie.name}),ee.jsxs("span",{className:"place-score",children:[ie.score," poeng"]})]},we)})})]}),ee.jsxs("div",{className:"stats",children:[ee.jsxs("div",{className:"stat-item",children:[ee.jsx("span",{className:"stat-label",children:"Antall steder:"}),ee.jsx("span",{className:"stat-value",children:e.filter(ie=>ie.score>0).length})]}),ee.jsxs("div",{className:"stat-item",children:[ee.jsx("span",{className:"stat-label",children:"Totalt poeng:"}),ee.jsx("span",{className:"stat-value",children:e.reduce((ie,we)=>ie+we.score,0).toFixed(0)})]}),D&&ee.jsxs("div",{className:"stat-item",children:[ee.jsx("span",{className:"stat-label",children:"Sist oppdatert:"}),ee.jsx("span",{className:"stat-value",children:D.toLocaleTimeString("nb-NO")})]}),u.length>0&&ee.jsxs("div",{className:"stat-item",children:[ee.jsx("span",{className:"stat-label",children:"Endringer:"}),ee.jsxs("span",{className:"stat-value",style:{color:"#ef4444"},children:[u.length," "]})]})]}),ee.jsxs("div",{className:"bounding-box-control",children:[ee.jsxs("label",{htmlFor:"bounding-box-slider",children:["Antall steder for kartvisning: ",Q===null?e.filter(ie=>ie.score>0).length:Q]}),ee.jsx("input",{id:"bounding-box-slider",type:"range",min:"1",max:Math.max(1,e.filter(ie=>ie.score>0).length),value:Q===null?e.filter(ie=>ie.score>0).length:Q,onChange:ie=>le(parseInt(ie.target.value)),className:"bounding-box-slider"})]}),ee.jsx("div",{className:"reset-control",children:ee.jsx("button",{onClick:U,className:"btn-reset",children:"Start p nytt"})}),w&&ee.jsx("div",{className:"warning-message",children:ee.jsxs("small",{children:["Advarsel: ",w]})})]}),ee.jsx("div",{className:"map-panel",children:ee.jsx(S0,{places:e.filter(ie=>ie.score>0),convexHull:d,gradientBuffers:p,changedPlaces:u,animationDuration:Tg,boundingBoxPlaces:Q})}),P&&ee.jsx(N0,{questionData:R,onSubmitAnswer:Ge,isAuthenticated:!!b,onSignIn:()=>de(),onClose:ke}),be&&ee.jsx(z0,{onContinue:lt,places:e}),Te&&ee.jsx(F0,{onContinue:$e,onClose:A,videoSrc:De()})]})}function dx(){return ee.jsx(n0,{clientId:hx,children:ee.jsx(fx,{})})}function gx(){return ee.jsx("div",{className:"app",children:ee.jsx(dx,{})})}Mc.createRoot(document.getElementById("root")).render(ee.jsx(pi.StrictMode,{children:ee.jsx(gx,{})}));
