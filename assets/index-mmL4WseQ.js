(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function s(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerPolicy&&(d.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?d.credentials="include":h.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(h){if(h.ep)return;h.ep=!0;const d=s(h);fetch(h.href,d)}})();var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _g(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function u(){return this instanceof u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var h=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(s,u,h.get?h:{enumerable:!0,get:function(){return t[u]}})}),s}var yg={exports:{}},ul={},xg={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=Symbol.for("react.element"),_v=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),kv=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),Nv=Symbol.for("react.suspense"),Iv=Symbol.for("react.memo"),Lv=Symbol.for("react.lazy"),Bf=Symbol.iterator;function Tv(t){return t===null||typeof t!="object"?null:(t=Bf&&t[Bf]||t["@@iterator"],typeof t=="function"?t:null)}var kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wg=Object.assign,Eg={};function Vs(t,e,s){this.props=t,this.context=e,this.refs=Eg,this.updater=s||kg}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sg(){}Sg.prototype=Vs.prototype;function Lc(t,e,s){this.props=t,this.context=e,this.refs=Eg,this.updater=s||kg}var Tc=Lc.prototype=new Sg;Tc.constructor=Lc;wg(Tc,Vs.prototype);Tc.isPureReactComponent=!0;var bf=Array.isArray,Ng=Object.prototype.hasOwnProperty,Cc={current:null},Ig={key:!0,ref:!0,__self:!0,__source:!0};function Lg(t,e,s){var u,h={},d=null,p=null;if(e!=null)for(u in e.ref!==void 0&&(p=e.ref),e.key!==void 0&&(d=""+e.key),e)Ng.call(e,u)&&!Ig.hasOwnProperty(u)&&(h[u]=e[u]);var v=arguments.length-2;if(v===1)h.children=s;else if(1<v){for(var k=Array(v),N=0;N<v;N++)k[N]=arguments[N+2];h.children=k}if(t&&t.defaultProps)for(u in v=t.defaultProps,v)h[u]===void 0&&(h[u]=v[u]);return{$$typeof:ya,type:t,key:d,ref:p,props:h,_owner:Cc.current}}function Cv(t,e){return{$$typeof:ya,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ya}function Pv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Zf=/\/+/g;function Hl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pv(""+t.key):e.toString(36)}function mu(t,e,s,u,h){var d=typeof t;(d==="undefined"||d==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(d){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case ya:case _v:p=!0}}if(p)return p=t,h=h(p),t=u===""?"."+Hl(p,0):u,bf(h)?(s="",t!=null&&(s=t.replace(Zf,"$&/")+"/"),mu(h,e,s,"",function(N){return N})):h!=null&&(Pc(h)&&(h=Cv(h,s+(!h.key||p&&p.key===h.key?"":(""+h.key).replace(Zf,"$&/")+"/")+t)),e.push(h)),1;if(p=0,u=u===""?".":u+":",bf(t))for(var v=0;v<t.length;v++){d=t[v];var k=u+Hl(d,v);p+=mu(d,e,s,k,h)}else if(k=Tv(t),typeof k=="function")for(t=k.call(t),v=0;!(d=t.next()).done;)d=d.value,k=u+Hl(d,v++),p+=mu(d,e,s,k,h);else if(d==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return p}function qa(t,e,s){if(t==null)return t;var u=[],h=0;return mu(t,u,"","",function(d){return e.call(s,d,h++)}),u}function Ov(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},pu={transition:null},Mv={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:pu,ReactCurrentOwner:Cc};function Tg(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:qa,forEach:function(t,e,s){qa(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return qa(t,function(){e++}),e},toArray:function(t){return qa(t,function(e){return e})||[]},only:function(t){if(!Pc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Zt.Component=Vs;Zt.Fragment=yv;Zt.Profiler=kv;Zt.PureComponent=Lc;Zt.StrictMode=xv;Zt.Suspense=Nv;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;Zt.act=Tg;Zt.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var u=wg({},t.props),h=t.key,d=t.ref,p=t._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,p=Cc.current),e.key!==void 0&&(h=""+e.key),t.type&&t.type.defaultProps)var v=t.type.defaultProps;for(k in e)Ng.call(e,k)&&!Ig.hasOwnProperty(k)&&(u[k]=e[k]===void 0&&v!==void 0?v[k]:e[k])}var k=arguments.length-2;if(k===1)u.children=s;else if(1<k){v=Array(k);for(var N=0;N<k;N++)v[N]=arguments[N+2];u.children=v}return{$$typeof:ya,type:t.type,key:h,ref:d,props:u,_owner:p}};Zt.createContext=function(t){return t={$$typeof:Ev,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wv,_context:t},t.Consumer=t};Zt.createElement=Lg;Zt.createFactory=function(t){var e=Lg.bind(null,t);return e.type=t,e};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(t){return{$$typeof:Sv,render:t}};Zt.isValidElement=Pc;Zt.lazy=function(t){return{$$typeof:Lv,_payload:{_status:-1,_result:t},_init:Ov}};Zt.memo=function(t,e){return{$$typeof:Iv,type:t,compare:e===void 0?null:e}};Zt.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};Zt.unstable_act=Tg;Zt.useCallback=function(t,e){return tn.current.useCallback(t,e)};Zt.useContext=function(t){return tn.current.useContext(t)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Zt.useEffect=function(t,e){return tn.current.useEffect(t,e)};Zt.useId=function(){return tn.current.useId()};Zt.useImperativeHandle=function(t,e,s){return tn.current.useImperativeHandle(t,e,s)};Zt.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Zt.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Zt.useMemo=function(t,e){return tn.current.useMemo(t,e)};Zt.useReducer=function(t,e,s){return tn.current.useReducer(t,e,s)};Zt.useRef=function(t){return tn.current.useRef(t)};Zt.useState=function(t){return tn.current.useState(t)};Zt.useSyncExternalStore=function(t,e,s){return tn.current.useSyncExternalStore(t,e,s)};Zt.useTransition=function(){return tn.current.useTransition()};Zt.version="18.3.1";xg.exports=Zt;var Rt=xg.exports;const Pu=al(Rt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=Rt,Av=Symbol.for("react.element"),Dv=Symbol.for("react.fragment"),zv=Object.prototype.hasOwnProperty,Fv=Rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bv={key:!0,ref:!0,__self:!0,__source:!0};function Cg(t,e,s){var u,h={},d=null,p=null;s!==void 0&&(d=""+s),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(p=e.ref);for(u in e)zv.call(e,u)&&!Bv.hasOwnProperty(u)&&(h[u]=e[u]);if(t&&t.defaultProps)for(u in e=t.defaultProps,e)h[u]===void 0&&(h[u]=e[u]);return{$$typeof:Av,type:t,key:d,ref:p,props:h,_owner:Fv.current}}ul.Fragment=Dv;ul.jsx=Cg;ul.jsxs=Cg;yg.exports=ul;var wt=yg.exports,Nh={},Pg={exports:{}},yn={},Og={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,ht){var F=j.length;j.push(ht);t:for(;0<F;){var nt=F-1>>>1,ut=j[nt];if(0<h(ut,ht))j[nt]=ht,j[F]=ut,F=nt;else break t}}function s(j){return j.length===0?null:j[0]}function u(j){if(j.length===0)return null;var ht=j[0],F=j.pop();if(F!==ht){j[0]=F;t:for(var nt=0,ut=j.length,Et=ut>>>1;nt<Et;){var it=2*(nt+1)-1,_t=j[it],lt=it+1,zt=j[lt];if(0>h(_t,F))lt<ut&&0>h(zt,_t)?(j[nt]=zt,j[lt]=F,nt=lt):(j[nt]=_t,j[it]=F,nt=it);else if(lt<ut&&0>h(zt,F))j[nt]=zt,j[lt]=F,nt=lt;else break t}}return ht}function h(j,ht){var F=j.sortIndex-ht.sortIndex;return F!==0?F:j.id-ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var p=Date,v=p.now();t.unstable_now=function(){return p.now()-v}}var k=[],N=[],S=1,I=null,T=3,z=!1,M=!1,b=!1,$=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(j){for(var ht=s(N);ht!==null;){if(ht.callback===null)u(N);else if(ht.startTime<=j)u(N),ht.sortIndex=ht.expirationTime,e(k,ht);else break;ht=s(N)}}function Z(j){if(b=!1,O(j),!M)if(s(k)!==null)M=!0,vt(U);else{var ht=s(N);ht!==null&&Ct(Z,ht.startTime-j)}}function U(j,ht){M=!1,b&&(b=!1,A(W),W=-1),z=!0;var F=T;try{for(O(ht),I=s(k);I!==null&&(!(I.expirationTime>ht)||j&&!ft());){var nt=I.callback;if(typeof nt=="function"){I.callback=null,T=I.priorityLevel;var ut=nt(I.expirationTime<=ht);ht=t.unstable_now(),typeof ut=="function"?I.callback=ut:I===s(k)&&u(k),O(ht)}else u(k);I=s(k)}if(I!==null)var Et=!0;else{var it=s(N);it!==null&&Ct(Z,it.startTime-ht),Et=!1}return Et}finally{I=null,T=F,z=!1}}var X=!1,V=null,W=-1,K=5,at=-1;function ft(){return!(t.unstable_now()-at<K)}function pt(){if(V!==null){var j=t.unstable_now();at=j;var ht=!0;try{ht=V(!0,j)}finally{ht?Bt():(X=!1,V=null)}}else X=!1}var Bt;if(typeof C=="function")Bt=function(){C(pt)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Nt=et.port2;et.port1.onmessage=pt,Bt=function(){Nt.postMessage(null)}}else Bt=function(){$(pt,0)};function vt(j){V=j,X||(X=!0,Bt())}function Ct(j,ht){W=$(function(){j(t.unstable_now())},ht)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){M||z||(M=!0,vt(U))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return s(k)},t.unstable_next=function(j){switch(T){case 1:case 2:case 3:var ht=3;break;default:ht=T}var F=T;T=ht;try{return j()}finally{T=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,ht){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=T;T=j;try{return ht()}finally{T=F}},t.unstable_scheduleCallback=function(j,ht,F){var nt=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?nt+F:nt):F=nt,j){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=F+ut,j={id:S++,callback:ht,priorityLevel:j,startTime:F,expirationTime:ut,sortIndex:-1},F>nt?(j.sortIndex=F,e(N,j),s(k)===null&&j===s(N)&&(b?(A(W),W=-1):b=!0,Ct(Z,F-nt))):(j.sortIndex=ut,e(k,j),M||z||(M=!0,vt(U))),j},t.unstable_shouldYield=ft,t.unstable_wrapCallback=function(j){var ht=T;return function(){var F=T;T=ht;try{return j.apply(this,arguments)}finally{T=F}}}})(Mg);Og.exports=Mg;var bv=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv=Rt,_n=bv;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rg=new Set,ea={};function Ur(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(ea[t]=e,t=0;t<e.length;t++)Rg.add(e[t])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,Gv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gf={},Uf={};function Uv(t){return Ih.call(Uf,t)?!0:Ih.call(Gf,t)?!1:Gv.test(t)?Uf[t]=!0:(Gf[t]=!0,!1)}function Yv(t,e,s,u){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qv(t,e,s,u){if(e===null||typeof e>"u"||Yv(t,e,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,s,u,h,d,p){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=d,this.removeEmptyString=p}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oc=/[\-:]([a-z])/g;function Mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Oc,Mc);Ge[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Oc,Mc);Ge[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Oc,Mc);Ge[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rc(t,e,s,u){var h=Ge.hasOwnProperty(e)?Ge[e]:null;(h!==null?h.type!==0:u||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qv(e,s,h,u)&&(s=null),u||h===null?Uv(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):h.mustUseProperty?t[h.propertyName]=s===null?h.type===3?!1:"":s:(e=h.attributeName,u=h.attributeNamespace,s===null?t.removeAttribute(e):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?t.setAttributeNS(u,e,s):t.setAttribute(e,s))))}var Oi=Zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),Ac=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Ag=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),zg=Symbol.for("react.offscreen"),Yf=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=Yf&&t[Yf]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,Vl;function Bo(t){if(Vl===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Vl=e&&e[1]||""}return`
`+Vl+t}var jl=!1;function Wl(t,e){if(!t||jl)return"";jl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(N){var u=N}Reflect.construct(t,[],e)}else{try{e.call()}catch(N){u=N}t.call(e.prototype)}else{try{throw Error()}catch(N){u=N}t()}}catch(N){if(N&&u&&typeof N.stack=="string"){for(var h=N.stack.split(`
`),d=u.stack.split(`
`),p=h.length-1,v=d.length-1;1<=p&&0<=v&&h[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(h[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||h[p]!==d[v]){var k=`
`+h[p].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=p&&0<=v);break}}}finally{jl=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Bo(t):""}function Xv(t){switch(t.tag){case 5:return Bo(t.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return t=Wl(t.type,!1),t;case 11:return t=Wl(t.type.render,!1),t;case 1:return t=Wl(t.type,!0),t;default:return""}}function Ph(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ys:return"Fragment";case _s:return"Portal";case Lh:return"Profiler";case Ac:return"StrictMode";case Th:return"Suspense";case Ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dg:return(t.displayName||"Context")+".Consumer";case Ag:return(t._context.displayName||"Context")+".Provider";case Dc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zc:return e=t.displayName||null,e!==null?e:Ph(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return Ph(t(e))}catch{}}return null}function Hv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ph(e);case 8:return e===Ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vv(t){var e=Fg(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),u=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(p){u=""+p,d.call(this,p)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ha(t){t._valueTracker||(t._valueTracker=Vv(t))}function Bg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),u="";return t&&(u=Fg(t)?t.checked?"true":"false":t.value),t=u,t!==s?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oh(t,e){var s=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function qf(t,e){var s=e.defaultValue==null?"":e.defaultValue,u=e.checked!=null?e.checked:e.defaultChecked;s=or(e.value!=null?e.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bg(t,e){e=e.checked,e!=null&&Rc(t,"checked",e,!1)}function Mh(t,e){bg(t,e);var s=or(e.value),u=e.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rh(t,e.type,s):e.hasOwnProperty("defaultValue")&&Rh(t,e.type,or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xf(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var u=e.type;if(!(u!=="submit"&&u!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Rh(t,e,s){(e!=="number"||Ou(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var bo=Array.isArray;function Os(t,e,s,u){if(t=t.options,e){e={};for(var h=0;h<s.length;h++)e["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=e.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+or(s),e=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function Ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hf(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(rt(92));if(bo(s)){if(1<s.length)throw Error(rt(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:or(s)}}function Zg(t,e){var s=or(e.value),u=or(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function Vf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Va,Ug=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,u,h){MSApp.execUnsafeLocalFunction(function(){return t(e,s,u,h)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Va=Va||document.createElement("div"),Va.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Va.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function na(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jv=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){jv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ho[e]=Ho[t]})});function Yg(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Ho.hasOwnProperty(t)&&Ho[t]?(""+e).trim():e+"px"}function qg(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=Yg(s,e[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,h):t[s]=h}}var Wv=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zh(t,e){if(e){if(Wv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function Fh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function Fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bh=null,Ms=null,Rs=null;function jf(t){if(t=wa(t)){if(typeof bh!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=dl(e),bh(t.stateNode,t.type,e))}}function Xg(t){Ms?Rs?Rs.push(t):Rs=[t]:Ms=t}function Hg(){if(Ms){var t=Ms,e=Rs;if(Rs=Ms=null,jf(t),e)for(t=0;t<e.length;t++)jf(e[t])}}function Vg(t,e){return t(e)}function jg(){}var $l=!1;function Wg(t,e,s){if($l)return t(e,s);$l=!0;try{return Vg(t,e,s)}finally{$l=!1,(Ms!==null||Rs!==null)&&(jg(),Hg())}}function ia(t,e){var s=t.stateNode;if(s===null)return null;var u=dl(s);if(u===null)return null;s=u[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(rt(231,e,typeof s));return s}var Zh=!1;if(Li)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Zh=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Zh=!1}function $v(t,e,s,u,h,d,p,v,k){var N=Array.prototype.slice.call(arguments,3);try{e.apply(s,N)}catch(S){this.onError(S)}}var Vo=!1,Mu=null,Ru=!1,Gh=null,Kv={onError:function(t){Vo=!0,Mu=t}};function Qv(t,e,s,u,h,d,p,v,k){Vo=!1,Mu=null,$v.apply(Kv,arguments)}function Jv(t,e,s,u,h,d,p,v,k){if(Qv.apply(this,arguments),Vo){if(Vo){var N=Mu;Vo=!1,Mu=null}else throw Error(rt(198));Ru||(Ru=!0,Gh=N)}}function Yr(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function $g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wf(t){if(Yr(t)!==t)throw Error(rt(188))}function t_(t){var e=t.alternate;if(!e){if(e=Yr(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var s=t,u=e;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return Wf(h),t;if(d===u)return Wf(h),e;d=d.sibling}throw Error(rt(188))}if(s.return!==u.return)s=h,u=d;else{for(var p=!1,v=h.child;v;){if(v===s){p=!0,s=h,u=d;break}if(v===u){p=!0,u=h,s=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===s){p=!0,s=d,u=h;break}if(v===u){p=!0,u=d,s=h;break}v=v.sibling}if(!p)throw Error(rt(189))}}if(s.alternate!==u)throw Error(rt(190))}if(s.tag!==3)throw Error(rt(188));return s.stateNode.current===s?t:e}function Kg(t){return t=t_(t),t!==null?Qg(t):null}function Qg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qg(t);if(e!==null)return e;t=t.sibling}return null}var Jg=_n.unstable_scheduleCallback,$f=_n.unstable_cancelCallback,e_=_n.unstable_shouldYield,n_=_n.unstable_requestPaint,ve=_n.unstable_now,i_=_n.unstable_getCurrentPriorityLevel,Bc=_n.unstable_ImmediatePriority,tm=_n.unstable_UserBlockingPriority,Au=_n.unstable_NormalPriority,r_=_n.unstable_LowPriority,em=_n.unstable_IdlePriority,ll=null,ci=null;function s_(t){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(ll,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:u_,o_=Math.log,a_=Math.LN2;function u_(t){return t>>>=0,t===0?32:31-(o_(t)/a_|0)|0}var ja=64,Wa=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Du(t,e){var s=t.pendingLanes;if(s===0)return 0;var u=0,h=t.suspendedLanes,d=t.pingedLanes,p=s&268435455;if(p!==0){var v=p&~h;v!==0?u=Zo(v):(d&=p,d!==0&&(u=Zo(d)))}else p=s&~h,p!==0?u=Zo(p):d!==0&&(u=Zo(d));if(u===0)return 0;if(e!==0&&e!==u&&!(e&h)&&(h=u&-u,d=e&-e,h>=d||h===16&&(d&4194240)!==0))return e;if(u&4&&(u|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=u;0<e;)s=31-Wn(e),h=1<<s,u|=t[s],e&=~h;return u}function l_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h_(t,e){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes;0<d;){var p=31-Wn(d),v=1<<p,k=h[p];k===-1?(!(v&s)||v&u)&&(h[p]=l_(v,e)):k<=e&&(t.expiredLanes|=v),d&=~v}}function Uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nm(){var t=ja;return ja<<=1,!(ja&4194240)&&(ja=64),t}function Kl(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function xa(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=s}function c_(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var h=31-Wn(s),d=1<<h;e[h]=0,u[h]=-1,t[h]=-1,s&=~d}}function bc(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var u=31-Wn(s),h=1<<u;h&e|t[u]&e&&(t[u]|=e),s&=~h}}var $t=0;function im(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rm,Zc,sm,om,am,Yh=!1,$a=[],Qi=null,Ji=null,tr=null,ra=new Map,sa=new Map,ji=[],f_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(t,e){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(e.pointerId)}}function Oo(t,e,s,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},e!==null&&(e=wa(e),e!==null&&Zc(e)),t):(t.eventSystemFlags|=u,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function d_(t,e,s,u,h){switch(e){case"focusin":return Qi=Oo(Qi,t,e,s,u,h),!0;case"dragenter":return Ji=Oo(Ji,t,e,s,u,h),!0;case"mouseover":return tr=Oo(tr,t,e,s,u,h),!0;case"pointerover":var d=h.pointerId;return ra.set(d,Oo(ra.get(d)||null,t,e,s,u,h)),!0;case"gotpointercapture":return d=h.pointerId,sa.set(d,Oo(sa.get(d)||null,t,e,s,u,h)),!0}return!1}function um(t){var e=Or(t.target);if(e!==null){var s=Yr(e);if(s!==null){if(e=s.tag,e===13){if(e=$g(s),e!==null){t.blockedOn=e,am(t.priority,function(){sm(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=qh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Bh=u,s.target.dispatchEvent(u),Bh=null}else return e=wa(s),e!==null&&Zc(e),t.blockedOn=s,!1;e.shift()}return!0}function Qf(t,e,s){vu(t)&&s.delete(e)}function g_(){Yh=!1,Qi!==null&&vu(Qi)&&(Qi=null),Ji!==null&&vu(Ji)&&(Ji=null),tr!==null&&vu(tr)&&(tr=null),ra.forEach(Qf),sa.forEach(Qf)}function Mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Yh||(Yh=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,g_)))}function oa(t){function e(h){return Mo(h,t)}if(0<$a.length){Mo($a[0],t);for(var s=1;s<$a.length;s++){var u=$a[s];u.blockedOn===t&&(u.blockedOn=null)}}for(Qi!==null&&Mo(Qi,t),Ji!==null&&Mo(Ji,t),tr!==null&&Mo(tr,t),ra.forEach(e),sa.forEach(e),s=0;s<ji.length;s++)u=ji[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<ji.length&&(s=ji[0],s.blockedOn===null);)um(s),s.blockedOn===null&&ji.shift()}var As=Oi.ReactCurrentBatchConfig,zu=!0;function m_(t,e,s,u){var h=$t,d=As.transition;As.transition=null;try{$t=1,Gc(t,e,s,u)}finally{$t=h,As.transition=d}}function p_(t,e,s,u){var h=$t,d=As.transition;As.transition=null;try{$t=4,Gc(t,e,s,u)}finally{$t=h,As.transition=d}}function Gc(t,e,s,u){if(zu){var h=qh(t,e,s,u);if(h===null)ah(t,e,u,Fu,s),Kf(t,u);else if(d_(h,t,e,s,u))u.stopPropagation();else if(Kf(t,u),e&4&&-1<f_.indexOf(t)){for(;h!==null;){var d=wa(h);if(d!==null&&rm(d),d=qh(t,e,s,u),d===null&&ah(t,e,u,Fu,s),d===h)break;h=d}h!==null&&u.stopPropagation()}else ah(t,e,u,null,s)}}var Fu=null;function qh(t,e,s,u){if(Fu=null,t=Fc(u),t=Or(t),t!==null)if(e=Yr(t),e===null)t=null;else if(s=e.tag,s===13){if(t=$g(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fu=t,null}function lm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i_()){case Bc:return 1;case tm:return 4;case Au:case r_:return 16;case em:return 536870912;default:return 16}default:return 16}}var $i=null,Uc=null,_u=null;function hm(){if(_u)return _u;var t,e=Uc,s=e.length,u,h="value"in $i?$i.value:$i.textContent,d=h.length;for(t=0;t<s&&e[t]===h[t];t++);var p=s-t;for(u=1;u<=p&&e[s-u]===h[d-u];u++);return _u=h.slice(t,1<u?1-u:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Jf(){return!1}function xn(t){function e(s,u,h,d,p){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(s=t[v],this[v]=s?s(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ka:Jf,this.isPropagationStopped=Jf,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=xn(js),ka=ce({},js,{view:0,detail:0}),v_=xn(ka),Ql,Jl,Ro,hl=ce({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(Ql=t.screenX-Ro.screenX,Jl=t.screenY-Ro.screenY):Jl=Ql=0,Ro=t),Ql)},movementY:function(t){return"movementY"in t?t.movementY:Jl}}),td=xn(hl),__=ce({},hl,{dataTransfer:0}),y_=xn(__),x_=ce({},ka,{relatedTarget:0}),th=xn(x_),k_=ce({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),w_=xn(k_),E_=ce({},js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S_=xn(E_),N_=ce({},js,{data:0}),ed=xn(N_),I_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T_[t])?!!e[t]:!1}function qc(){return C_}var P_=ce({},ka,{key:function(t){if(t.key){var e=I_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O_=xn(P_),M_=ce({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=xn(M_),R_=ce({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),A_=xn(R_),D_=ce({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),z_=xn(D_),F_=ce({},hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=xn(F_),b_=[9,13,27,32],Xc=Li&&"CompositionEvent"in window,jo=null;Li&&"documentMode"in document&&(jo=document.documentMode);var Z_=Li&&"TextEvent"in window&&!jo,cm=Li&&(!Xc||jo&&8<jo&&11>=jo),id=" ",rd=!1;function fm(t,e){switch(t){case"keyup":return b_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function G_(t,e){switch(t){case"compositionend":return dm(e);case"keypress":return e.which!==32?null:(rd=!0,id);case"textInput":return t=e.data,t===id&&rd?null:t;default:return null}}function U_(t,e){if(xs)return t==="compositionend"||!Xc&&fm(t,e)?(t=hm(),_u=Uc=$i=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cm&&e.locale!=="ko"?null:e.data;default:return null}}var Y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y_[t.type]:e==="textarea"}function gm(t,e,s,u){Xg(u),e=Bu(e,"onChange"),0<e.length&&(s=new Yc("onChange","change",null,s,u),t.push({event:s,listeners:e}))}var Wo=null,aa=null;function q_(t){Nm(t,0)}function cl(t){var e=Es(t);if(Bg(e))return t}function X_(t,e){if(t==="change")return e}var mm=!1;if(Li){var eh;if(Li){var nh="oninput"in document;if(!nh){var od=document.createElement("div");od.setAttribute("oninput","return;"),nh=typeof od.oninput=="function"}eh=nh}else eh=!1;mm=eh&&(!document.documentMode||9<document.documentMode)}function ad(){Wo&&(Wo.detachEvent("onpropertychange",pm),aa=Wo=null)}function pm(t){if(t.propertyName==="value"&&cl(aa)){var e=[];gm(e,aa,t,Fc(t)),Wg(q_,e)}}function H_(t,e,s){t==="focusin"?(ad(),Wo=e,aa=s,Wo.attachEvent("onpropertychange",pm)):t==="focusout"&&ad()}function V_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(aa)}function j_(t,e){if(t==="click")return cl(e)}function W_(t,e){if(t==="input"||t==="change")return cl(e)}function $_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:$_;function ua(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),u=Object.keys(e);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Ih.call(e,h)||!Kn(t[h],e[h]))return!1}return!0}function ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ld(t,e){var s=ud(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=e&&u>=e)return{node:s,offset:e-t};t=u}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ud(s)}}function vm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _m(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K_(t){var e=_m(),s=t.focusedElem,u=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&vm(s.ownerDocument.documentElement,s)){if(u!==null&&Hc(s)){if(e=u.start,t=u.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var h=s.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!t.extend&&d>u&&(h=u,u=d,d=h),h=ld(s,d);var p=ld(s,u);h&&p&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),t.removeAllRanges(),d>u?(t.addRange(e),t.extend(p.node,p.offset)):(e.setEnd(p.node,p.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q_=Li&&"documentMode"in document&&11>=document.documentMode,ks=null,Xh=null,$o=null,Hh=!1;function hd(t,e,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hh||ks==null||ks!==Ou(u)||(u=ks,"selectionStart"in u&&Hc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$o&&ua($o,u)||($o=u,u=Bu(Xh,"onSelect"),0<u.length&&(e=new Yc("onSelect","select",null,e,s),t.push({event:e,listeners:u}),e.target=ks)))}function Qa(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var ws={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},ih={},ym={};Li&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function fl(t){if(ih[t])return ih[t];if(!ws[t])return t;var e=ws[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in ym)return ih[t]=e[s];return t}var xm=fl("animationend"),km=fl("animationiteration"),wm=fl("animationstart"),Em=fl("transitionend"),Sm=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){Sm.set(t,e),Ur(e,[t])}for(var rh=0;rh<cd.length;rh++){var sh=cd[rh],J_=sh.toLowerCase(),ty=sh[0].toUpperCase()+sh.slice(1);ur(J_,"on"+ty)}ur(xm,"onAnimationEnd");ur(km,"onAnimationIteration");ur(wm,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Em,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ey=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function fd(t,e,s){var u=t.type||"unknown-event";t.currentTarget=s,Jv(u,e,void 0,t),t.currentTarget=null}function Nm(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;t:{var d=void 0;if(e)for(var p=u.length-1;0<=p;p--){var v=u[p],k=v.instance,N=v.currentTarget;if(v=v.listener,k!==d&&h.isPropagationStopped())break t;fd(h,v,N),d=k}else for(p=0;p<u.length;p++){if(v=u[p],k=v.instance,N=v.currentTarget,v=v.listener,k!==d&&h.isPropagationStopped())break t;fd(h,v,N),d=k}}}if(Ru)throw t=Gh,Ru=!1,Gh=null,t}function ee(t,e){var s=e[Kh];s===void 0&&(s=e[Kh]=new Set);var u=t+"__bubble";s.has(u)||(Im(e,t,2,!1),s.add(u))}function oh(t,e,s){var u=0;e&&(u|=4),Im(s,t,u,e)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[Ja]){t[Ja]=!0,Rg.forEach(function(s){s!=="selectionchange"&&(ey.has(s)||oh(s,!1,t),oh(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ja]||(e[Ja]=!0,oh("selectionchange",!1,e))}}function Im(t,e,s,u){switch(lm(e)){case 1:var h=m_;break;case 4:h=p_;break;default:h=Gc}s=h.bind(null,e,s,t),h=void 0,!Zh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(e,s,{capture:!0,passive:h}):t.addEventListener(e,s,!0):h!==void 0?t.addEventListener(e,s,{passive:h}):t.addEventListener(e,s,!1)}function ah(t,e,s,u,h){var d=u;if(!(e&1)&&!(e&2)&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var v=u.stateNode.containerInfo;if(v===h||v.nodeType===8&&v.parentNode===h)break;if(p===4)for(p=u.return;p!==null;){var k=p.tag;if((k===3||k===4)&&(k=p.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;p=p.return}for(;v!==null;){if(p=Or(v),p===null)return;if(k=p.tag,k===5||k===6){u=d=p;continue t}v=v.parentNode}}u=u.return}Wg(function(){var N=d,S=Fc(s),I=[];t:{var T=Sm.get(t);if(T!==void 0){var z=Yc,M=t;switch(t){case"keypress":if(yu(s)===0)break t;case"keydown":case"keyup":z=O_;break;case"focusin":M="focus",z=th;break;case"focusout":M="blur",z=th;break;case"beforeblur":case"afterblur":z=th;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=A_;break;case xm:case km:case wm:z=w_;break;case Em:z=z_;break;case"scroll":z=v_;break;case"wheel":z=B_;break;case"copy":case"cut":case"paste":z=S_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=nd}var b=(e&4)!==0,$=!b&&t==="scroll",A=b?T!==null?T+"Capture":null:T;b=[];for(var C=N,O;C!==null;){O=C;var Z=O.stateNode;if(O.tag===5&&Z!==null&&(O=Z,A!==null&&(Z=ia(C,A),Z!=null&&b.push(ha(C,Z,O)))),$)break;C=C.return}0<b.length&&(T=new z(T,M,null,s,S),I.push({event:T,listeners:b}))}}if(!(e&7)){t:{if(T=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",T&&s!==Bh&&(M=s.relatedTarget||s.fromElement)&&(Or(M)||M[Ti]))break t;if((z||T)&&(T=S.window===S?S:(T=S.ownerDocument)?T.defaultView||T.parentWindow:window,z?(M=s.relatedTarget||s.toElement,z=N,M=M?Or(M):null,M!==null&&($=Yr(M),M!==$||M.tag!==5&&M.tag!==6)&&(M=null)):(z=null,M=N),z!==M)){if(b=td,Z="onMouseLeave",A="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(b=nd,Z="onPointerLeave",A="onPointerEnter",C="pointer"),$=z==null?T:Es(z),O=M==null?T:Es(M),T=new b(Z,C+"leave",z,s,S),T.target=$,T.relatedTarget=O,Z=null,Or(S)===N&&(b=new b(A,C+"enter",M,s,S),b.target=O,b.relatedTarget=$,Z=b),$=Z,z&&M)e:{for(b=z,A=M,C=0,O=b;O;O=ms(O))C++;for(O=0,Z=A;Z;Z=ms(Z))O++;for(;0<C-O;)b=ms(b),C--;for(;0<O-C;)A=ms(A),O--;for(;C--;){if(b===A||A!==null&&b===A.alternate)break e;b=ms(b),A=ms(A)}b=null}else b=null;z!==null&&dd(I,T,z,b,!1),M!==null&&$!==null&&dd(I,$,M,b,!0)}}t:{if(T=N?Es(N):window,z=T.nodeName&&T.nodeName.toLowerCase(),z==="select"||z==="input"&&T.type==="file")var U=X_;else if(sd(T))if(mm)U=W_;else{U=V_;var X=H_}else(z=T.nodeName)&&z.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(U=j_);if(U&&(U=U(t,N))){gm(I,U,s,S);break t}X&&X(t,T,N),t==="focusout"&&(X=T._wrapperState)&&X.controlled&&T.type==="number"&&Rh(T,"number",T.value)}switch(X=N?Es(N):window,t){case"focusin":(sd(X)||X.contentEditable==="true")&&(ks=X,Xh=N,$o=null);break;case"focusout":$o=Xh=ks=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,hd(I,s,S);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":hd(I,s,S)}var V;if(Xc)t:{switch(t){case"compositionstart":var W="onCompositionStart";break t;case"compositionend":W="onCompositionEnd";break t;case"compositionupdate":W="onCompositionUpdate";break t}W=void 0}else xs?fm(t,s)&&(W="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(W="onCompositionStart");W&&(cm&&s.locale!=="ko"&&(xs||W!=="onCompositionStart"?W==="onCompositionEnd"&&xs&&(V=hm()):($i=S,Uc="value"in $i?$i.value:$i.textContent,xs=!0)),X=Bu(N,W),0<X.length&&(W=new ed(W,t,null,s,S),I.push({event:W,listeners:X}),V?W.data=V:(V=dm(s),V!==null&&(W.data=V)))),(V=Z_?G_(t,s):U_(t,s))&&(N=Bu(N,"onBeforeInput"),0<N.length&&(S=new ed("onBeforeInput","beforeinput",null,s,S),I.push({event:S,listeners:N}),S.data=V))}Nm(I,e)})}function ha(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Bu(t,e){for(var s=e+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=ia(t,s),d!=null&&u.unshift(ha(t,d,h)),d=ia(t,e),d!=null&&u.push(ha(t,d,h))),t=t.return}return u}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dd(t,e,s,u,h){for(var d=e._reactName,p=[];s!==null&&s!==u;){var v=s,k=v.alternate,N=v.stateNode;if(k!==null&&k===u)break;v.tag===5&&N!==null&&(v=N,h?(k=ia(s,d),k!=null&&p.unshift(ha(s,k,v))):h||(k=ia(s,d),k!=null&&p.push(ha(s,k,v)))),s=s.return}p.length!==0&&t.push({event:e,listeners:p})}var ny=/\r\n?/g,iy=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(ny,`
`).replace(iy,"")}function tu(t,e,s){if(e=gd(e),gd(t)!==e&&s)throw Error(rt(425))}function bu(){}var Vh=null,jh=null;function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,ry=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,sy=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(t){return md.resolve(null).then(t).catch(oy)}:$h;function oy(t){setTimeout(function(){throw t})}function uh(t,e){var s=e,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){t.removeChild(h),oa(e);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);oa(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),li="__reactFiber$"+Ws,ca="__reactProps$"+Ws,Ti="__reactContainer$"+Ws,Kh="__reactEvents$"+Ws,ay="__reactListeners$"+Ws,uy="__reactHandles$"+Ws;function Or(t){var e=t[li];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Ti]||s[li]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=pd(t);t!==null;){if(s=t[li])return s;t=pd(t)}return e}t=s,s=t.parentNode}return null}function wa(t){return t=t[li]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function dl(t){return t[ca]||null}var Qh=[],Ss=-1;function lr(t){return{current:t}}function ne(t){0>Ss||(t.current=Qh[Ss],Qh[Ss]=null,Ss--)}function Jt(t,e){Ss++,Qh[Ss]=t.current,t.current=e}var ar={},He=lr(ar),ln=lr(!1),zr=ar;function Bs(t,e){var s=t.type.contextTypes;if(!s)return ar;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===e)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in s)h[d]=e[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=h),h}function hn(t){return t=t.childContextTypes,t!=null}function Zu(){ne(ln),ne(He)}function vd(t,e,s){if(He.current!==ar)throw Error(rt(168));Jt(He,e),Jt(ln,s)}function Lm(t,e,s){var u=t.stateNode;if(e=e.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in e))throw Error(rt(108,Hv(t)||"Unknown",h));return ce({},s,u)}function Gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ar,zr=He.current,Jt(He,t),Jt(ln,ln.current),!0}function _d(t,e,s){var u=t.stateNode;if(!u)throw Error(rt(169));s?(t=Lm(t,e,zr),u.__reactInternalMemoizedMergedChildContext=t,ne(ln),ne(He),Jt(He,t)):ne(ln),Jt(ln,s)}var Ei=null,gl=!1,lh=!1;function Tm(t){Ei===null?Ei=[t]:Ei.push(t)}function ly(t){gl=!0,Tm(t)}function hr(){if(!lh&&Ei!==null){lh=!0;var t=0,e=$t;try{var s=Ei;for($t=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}Ei=null,gl=!1}catch(h){throw Ei!==null&&(Ei=Ei.slice(t+1)),Jg(Bc,hr),h}finally{$t=e,lh=!1}}return null}var Ns=[],Is=0,Uu=null,Yu=0,Dn=[],zn=0,Fr=null,Si=1,Ni="";function Cr(t,e){Ns[Is++]=Yu,Ns[Is++]=Uu,Uu=t,Yu=e}function Cm(t,e,s){Dn[zn++]=Si,Dn[zn++]=Ni,Dn[zn++]=Fr,Fr=t;var u=Si;t=Ni;var h=32-Wn(u)-1;u&=~(1<<h),s+=1;var d=32-Wn(e)+h;if(30<d){var p=h-h%5;d=(u&(1<<p)-1).toString(32),u>>=p,h-=p,Si=1<<32-Wn(e)+h|s<<h|u,Ni=d+t}else Si=1<<d|s<<h|u,Ni=t}function Vc(t){t.return!==null&&(Cr(t,1),Cm(t,1,0))}function jc(t){for(;t===Uu;)Uu=Ns[--Is],Ns[Is]=null,Yu=Ns[--Is],Ns[Is]=null;for(;t===Fr;)Fr=Dn[--zn],Dn[zn]=null,Ni=Dn[--zn],Dn[zn]=null,Si=Dn[--zn],Dn[zn]=null}var vn=null,pn=null,re=!1,jn=null;function Pm(t,e){var s=Fn(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function yd(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,pn=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Fr!==null?{id:Si,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Fn(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,vn=t,pn=null,!0):!1;default:return!1}}function Jh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tc(t){if(re){var e=pn;if(e){var s=e;if(!yd(t,e)){if(Jh(t))throw Error(rt(418));e=er(s.nextSibling);var u=vn;e&&yd(t,e)?Pm(u,s):(t.flags=t.flags&-4097|2,re=!1,vn=t)}}else{if(Jh(t))throw Error(rt(418));t.flags=t.flags&-4097|2,re=!1,vn=t}}}function xd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function eu(t){if(t!==vn)return!1;if(!re)return xd(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wh(t.type,t.memoizedProps)),e&&(e=pn)){if(Jh(t))throw Om(),Error(rt(418));for(;e;)Pm(t,e),e=er(e.nextSibling)}if(xd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){pn=er(t.nextSibling);break t}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=vn?er(t.stateNode.nextSibling):null;return!0}function Om(){for(var t=pn;t;)t=er(t.nextSibling)}function bs(){pn=vn=null,re=!1}function Wc(t){jn===null?jn=[t]:jn.push(t)}var hy=Oi.ReactCurrentBatchConfig;function Ao(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(rt(309));var u=s.stateNode}if(!u)throw Error(rt(147,t));var h=u,d=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===d?e.ref:(e=function(p){var v=h.refs;p===null?delete v[d]:v[d]=p},e._stringRef=d,e)}if(typeof t!="string")throw Error(rt(284));if(!s._owner)throw Error(rt(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kd(t){var e=t._init;return e(t._payload)}function Mm(t){function e(A,C){if(t){var O=A.deletions;O===null?(A.deletions=[C],A.flags|=16):O.push(C)}}function s(A,C){if(!t)return null;for(;C!==null;)e(A,C),C=C.sibling;return null}function u(A,C){for(A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function h(A,C){return A=sr(A,C),A.index=0,A.sibling=null,A}function d(A,C,O){return A.index=O,t?(O=A.alternate,O!==null?(O=O.index,O<C?(A.flags|=2,C):O):(A.flags|=2,C)):(A.flags|=1048576,C)}function p(A){return t&&A.alternate===null&&(A.flags|=2),A}function v(A,C,O,Z){return C===null||C.tag!==6?(C=ph(O,A.mode,Z),C.return=A,C):(C=h(C,O),C.return=A,C)}function k(A,C,O,Z){var U=O.type;return U===ys?S(A,C,O.props.children,Z,O.key):C!==null&&(C.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Hi&&kd(U)===C.type)?(Z=h(C,O.props),Z.ref=Ao(A,C,O),Z.return=A,Z):(Z=Iu(O.type,O.key,O.props,null,A.mode,Z),Z.ref=Ao(A,C,O),Z.return=A,Z)}function N(A,C,O,Z){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=vh(O,A.mode,Z),C.return=A,C):(C=h(C,O.children||[]),C.return=A,C)}function S(A,C,O,Z,U){return C===null||C.tag!==7?(C=Dr(O,A.mode,Z,U),C.return=A,C):(C=h(C,O),C.return=A,C)}function I(A,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=ph(""+C,A.mode,O),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xa:return O=Iu(C.type,C.key,C.props,null,A.mode,O),O.ref=Ao(A,null,C),O.return=A,O;case _s:return C=vh(C,A.mode,O),C.return=A,C;case Hi:var Z=C._init;return I(A,Z(C._payload),O)}if(bo(C)||Co(C))return C=Dr(C,A.mode,O,null),C.return=A,C;nu(A,C)}return null}function T(A,C,O,Z){var U=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return U!==null?null:v(A,C,""+O,Z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xa:return O.key===U?k(A,C,O,Z):null;case _s:return O.key===U?N(A,C,O,Z):null;case Hi:return U=O._init,T(A,C,U(O._payload),Z)}if(bo(O)||Co(O))return U!==null?null:S(A,C,O,Z,null);nu(A,O)}return null}function z(A,C,O,Z,U){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return A=A.get(O)||null,v(C,A,""+Z,U);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Xa:return A=A.get(Z.key===null?O:Z.key)||null,k(C,A,Z,U);case _s:return A=A.get(Z.key===null?O:Z.key)||null,N(C,A,Z,U);case Hi:var X=Z._init;return z(A,C,O,X(Z._payload),U)}if(bo(Z)||Co(Z))return A=A.get(O)||null,S(C,A,Z,U,null);nu(C,Z)}return null}function M(A,C,O,Z){for(var U=null,X=null,V=C,W=C=0,K=null;V!==null&&W<O.length;W++){V.index>W?(K=V,V=null):K=V.sibling;var at=T(A,V,O[W],Z);if(at===null){V===null&&(V=K);break}t&&V&&at.alternate===null&&e(A,V),C=d(at,C,W),X===null?U=at:X.sibling=at,X=at,V=K}if(W===O.length)return s(A,V),re&&Cr(A,W),U;if(V===null){for(;W<O.length;W++)V=I(A,O[W],Z),V!==null&&(C=d(V,C,W),X===null?U=V:X.sibling=V,X=V);return re&&Cr(A,W),U}for(V=u(A,V);W<O.length;W++)K=z(V,A,W,O[W],Z),K!==null&&(t&&K.alternate!==null&&V.delete(K.key===null?W:K.key),C=d(K,C,W),X===null?U=K:X.sibling=K,X=K);return t&&V.forEach(function(ft){return e(A,ft)}),re&&Cr(A,W),U}function b(A,C,O,Z){var U=Co(O);if(typeof U!="function")throw Error(rt(150));if(O=U.call(O),O==null)throw Error(rt(151));for(var X=U=null,V=C,W=C=0,K=null,at=O.next();V!==null&&!at.done;W++,at=O.next()){V.index>W?(K=V,V=null):K=V.sibling;var ft=T(A,V,at.value,Z);if(ft===null){V===null&&(V=K);break}t&&V&&ft.alternate===null&&e(A,V),C=d(ft,C,W),X===null?U=ft:X.sibling=ft,X=ft,V=K}if(at.done)return s(A,V),re&&Cr(A,W),U;if(V===null){for(;!at.done;W++,at=O.next())at=I(A,at.value,Z),at!==null&&(C=d(at,C,W),X===null?U=at:X.sibling=at,X=at);return re&&Cr(A,W),U}for(V=u(A,V);!at.done;W++,at=O.next())at=z(V,A,W,at.value,Z),at!==null&&(t&&at.alternate!==null&&V.delete(at.key===null?W:at.key),C=d(at,C,W),X===null?U=at:X.sibling=at,X=at);return t&&V.forEach(function(pt){return e(A,pt)}),re&&Cr(A,W),U}function $(A,C,O,Z){if(typeof O=="object"&&O!==null&&O.type===ys&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Xa:t:{for(var U=O.key,X=C;X!==null;){if(X.key===U){if(U=O.type,U===ys){if(X.tag===7){s(A,X.sibling),C=h(X,O.props.children),C.return=A,A=C;break t}}else if(X.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Hi&&kd(U)===X.type){s(A,X.sibling),C=h(X,O.props),C.ref=Ao(A,X,O),C.return=A,A=C;break t}s(A,X);break}else e(A,X);X=X.sibling}O.type===ys?(C=Dr(O.props.children,A.mode,Z,O.key),C.return=A,A=C):(Z=Iu(O.type,O.key,O.props,null,A.mode,Z),Z.ref=Ao(A,C,O),Z.return=A,A=Z)}return p(A);case _s:t:{for(X=O.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){s(A,C.sibling),C=h(C,O.children||[]),C.return=A,A=C;break t}else{s(A,C);break}else e(A,C);C=C.sibling}C=vh(O,A.mode,Z),C.return=A,A=C}return p(A);case Hi:return X=O._init,$(A,C,X(O._payload),Z)}if(bo(O))return M(A,C,O,Z);if(Co(O))return b(A,C,O,Z);nu(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(s(A,C.sibling),C=h(C,O),C.return=A,A=C):(s(A,C),C=ph(O,A.mode,Z),C.return=A,A=C),p(A)):s(A,C)}return $}var Zs=Mm(!0),Rm=Mm(!1),qu=lr(null),Xu=null,Ls=null,$c=null;function Kc(){$c=Ls=Xu=null}function Qc(t){var e=qu.current;ne(qu),t._currentValue=e}function ec(t,e,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,u!==null&&(u.childLanes|=e)):u!==null&&(u.childLanes&e)!==e&&(u.childLanes|=e),t===s)break;t=t.return}}function Ds(t,e){Xu=t,$c=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if($c!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(Xu===null)throw Error(rt(308));Ls=t,Xu.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Mr=null;function Jc(t){Mr===null?Mr=[t]:Mr.push(t)}function Am(t,e,s,u){var h=e.interleaved;return h===null?(s.next=s,Jc(e)):(s.next=h.next,h.next=s),e.interleaved=s,Ci(t,u)}function Ci(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Vi=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nr(t,e,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,qt&2){var h=u.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),u.pending=e,Ci(t,s)}return h=u.interleaved,h===null?(e.next=e,Jc(u)):(e.next=h.next,h.next=e),u.interleaved=e,Ci(t,s)}function xu(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var u=e.lanes;u&=t.pendingLanes,s|=u,e.lanes=s,bc(t,s)}}function wd(t,e){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?h=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?h=d=e:d=d.next=e}else h=d=e;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Hu(t,e,s,u){var h=t.updateQueue;Vi=!1;var d=h.firstBaseUpdate,p=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var k=v,N=k.next;k.next=null,p===null?d=N:p.next=N,p=k;var S=t.alternate;S!==null&&(S=S.updateQueue,v=S.lastBaseUpdate,v!==p&&(v===null?S.firstBaseUpdate=N:v.next=N,S.lastBaseUpdate=k))}if(d!==null){var I=h.baseState;p=0,S=N=k=null,v=d;do{var T=v.lane,z=v.eventTime;if((u&T)===T){S!==null&&(S=S.next={eventTime:z,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});t:{var M=t,b=v;switch(T=e,z=s,b.tag){case 1:if(M=b.payload,typeof M=="function"){I=M.call(z,I,T);break t}I=M;break t;case 3:M.flags=M.flags&-65537|128;case 0:if(M=b.payload,T=typeof M=="function"?M.call(z,I,T):M,T==null)break t;I=ce({},I,T);break t;case 2:Vi=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,T=h.effects,T===null?h.effects=[v]:T.push(v))}else z={eventTime:z,lane:T,tag:v.tag,payload:v.payload,callback:v.callback,next:null},S===null?(N=S=z,k=I):S=S.next=z,p|=T;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;T=v,v=T.next,T.next=null,h.lastBaseUpdate=T,h.shared.pending=null}}while(!0);if(S===null&&(k=I),h.baseState=k,h.firstBaseUpdate=N,h.lastBaseUpdate=S,e=h.shared.interleaved,e!==null){h=e;do p|=h.lane,h=h.next;while(h!==e)}else d===null&&(h.shared.lanes=0);br|=p,t.lanes=p,t.memoizedState=I}}function Ed(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var u=t[e],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(rt(191,h));h.call(u)}}}var Ea={},fi=lr(Ea),fa=lr(Ea),da=lr(Ea);function Rr(t){if(t===Ea)throw Error(rt(174));return t}function ef(t,e){switch(Jt(da,e),Jt(fa,t),Jt(fi,Ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dh(e,t)}ne(fi),Jt(fi,e)}function Gs(){ne(fi),ne(fa),ne(da)}function zm(t){Rr(da.current);var e=Rr(fi.current),s=Dh(e,t.type);e!==s&&(Jt(fa,t),Jt(fi,s))}function nf(t){fa.current===t&&(ne(fi),ne(fa))}var ae=lr(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hh=[];function rf(){for(var t=0;t<hh.length;t++)hh[t]._workInProgressVersionPrimary=null;hh.length=0}var ku=Oi.ReactCurrentDispatcher,ch=Oi.ReactCurrentBatchConfig,Br=0,he=null,Ee=null,Oe=null,ju=!1,Ko=!1,ga=0,cy=0;function Ye(){throw Error(rt(321))}function sf(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Kn(t[s],e[s]))return!1;return!0}function of(t,e,s,u,h,d){if(Br=d,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?my:py,t=s(u,h),Ko){d=0;do{if(Ko=!1,ga=0,25<=d)throw Error(rt(301));d+=1,Oe=Ee=null,e.updateQueue=null,ku.current=vy,t=s(u,h)}while(Ko)}if(ku.current=Wu,e=Ee!==null&&Ee.next!==null,Br=0,Oe=Ee=he=null,ju=!1,e)throw Error(rt(300));return t}function af(){var t=ga!==0;return ga=0,t}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?he.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function Zn(){if(Ee===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Oe===null?he.memoizedState:Oe.next;if(e!==null)Oe=e,Ee=t;else{if(t===null)throw Error(rt(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Oe===null?he.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function ma(t,e){return typeof e=="function"?e(t):e}function fh(t){var e=Zn(),s=e.queue;if(s===null)throw Error(rt(311));s.lastRenderedReducer=t;var u=Ee,h=u.baseQueue,d=s.pending;if(d!==null){if(h!==null){var p=h.next;h.next=d.next,d.next=p}u.baseQueue=h=d,s.pending=null}if(h!==null){d=h.next,u=u.baseState;var v=p=null,k=null,N=d;do{var S=N.lane;if((Br&S)===S)k!==null&&(k=k.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),u=N.hasEagerState?N.eagerState:t(u,N.action);else{var I={lane:S,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};k===null?(v=k=I,p=u):k=k.next=I,he.lanes|=S,br|=S}N=N.next}while(N!==null&&N!==d);k===null?p=u:k.next=v,Kn(u,e.memoizedState)||(un=!0),e.memoizedState=u,e.baseState=p,e.baseQueue=k,s.lastRenderedState=u}if(t=s.interleaved,t!==null){h=t;do d=h.lane,he.lanes|=d,br|=d,h=h.next;while(h!==t)}else h===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function dh(t){var e=Zn(),s=e.queue;if(s===null)throw Error(rt(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,d=e.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do d=t(d,p.action),p=p.next;while(p!==h);Kn(d,e.memoizedState)||(un=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),s.lastRenderedState=d}return[d,u]}function Fm(){}function Bm(t,e){var s=he,u=Zn(),h=e(),d=!Kn(u.memoizedState,h);if(d&&(u.memoizedState=h,un=!0),u=u.queue,uf(Gm.bind(null,s,u,t),[t]),u.getSnapshot!==e||d||Oe!==null&&Oe.memoizedState.tag&1){if(s.flags|=2048,pa(9,Zm.bind(null,s,u,h,e),void 0,null),Re===null)throw Error(rt(349));Br&30||bm(s,e,h)}return h}function bm(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function Zm(t,e,s,u){e.value=s,e.getSnapshot=u,Um(e)&&Ym(t)}function Gm(t,e,s){return s(function(){Um(e)&&Ym(t)})}function Um(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Kn(t,s)}catch{return!0}}function Ym(t){var e=Ci(t,1);e!==null&&$n(e,t,1,-1)}function Sd(t){var e=ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:t},e.queue=t,t=t.dispatch=gy.bind(null,he,t),[e.memoizedState,t]}function pa(t,e,s,u){return t={tag:t,create:e,destroy:s,deps:u,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,e.lastEffect=t)),t}function qm(){return Zn().memoizedState}function wu(t,e,s,u){var h=ui();he.flags|=t,h.memoizedState=pa(1|e,s,void 0,u===void 0?null:u)}function ml(t,e,s,u){var h=Zn();u=u===void 0?null:u;var d=void 0;if(Ee!==null){var p=Ee.memoizedState;if(d=p.destroy,u!==null&&sf(u,p.deps)){h.memoizedState=pa(e,s,d,u);return}}he.flags|=t,h.memoizedState=pa(1|e,s,d,u)}function Nd(t,e){return wu(8390656,8,t,e)}function uf(t,e){return ml(2048,8,t,e)}function Xm(t,e){return ml(4,2,t,e)}function Hm(t,e){return ml(4,4,t,e)}function Vm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jm(t,e,s){return s=s!=null?s.concat([t]):null,ml(4,4,Vm.bind(null,e,t),s)}function lf(){}function Wm(t,e){var s=Zn();e=e===void 0?null:e;var u=s.memoizedState;return u!==null&&e!==null&&sf(e,u[1])?u[0]:(s.memoizedState=[t,e],t)}function $m(t,e){var s=Zn();e=e===void 0?null:e;var u=s.memoizedState;return u!==null&&e!==null&&sf(e,u[1])?u[0]:(t=t(),s.memoizedState=[t,e],t)}function Km(t,e,s){return Br&21?(Kn(s,e)||(s=nm(),he.lanes|=s,br|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=s)}function fy(t,e){var s=$t;$t=s!==0&&4>s?s:4,t(!0);var u=ch.transition;ch.transition={};try{t(!1),e()}finally{$t=s,ch.transition=u}}function Qm(){return Zn().memoizedState}function dy(t,e,s){var u=rr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},Jm(t))tp(e,s);else if(s=Am(t,e,s,u),s!==null){var h=Je();$n(s,t,u,h),ep(s,e,u)}}function gy(t,e,s){var u=rr(t),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jm(t))tp(e,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var p=e.lastRenderedState,v=d(p,s);if(h.hasEagerState=!0,h.eagerState=v,Kn(v,p)){var k=e.interleaved;k===null?(h.next=h,Jc(e)):(h.next=k.next,k.next=h),e.interleaved=h;return}}catch{}finally{}s=Am(t,e,h,u),s!==null&&(h=Je(),$n(s,t,u,h),ep(s,e,u))}}function Jm(t){var e=t.alternate;return t===he||e!==null&&e===he}function tp(t,e){Ko=ju=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function ep(t,e,s){if(s&4194240){var u=e.lanes;u&=t.pendingLanes,s|=u,e.lanes=s,bc(t,s)}}var Wu={readContext:bn,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},my={readContext:bn,useCallback:function(t,e){return ui().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:Nd,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,wu(4194308,4,Vm.bind(null,e,t),s)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var s=ui();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var u=ui();return e=s!==void 0?s(e):e,u.memoizedState=u.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},u.queue=t,t=t.dispatch=dy.bind(null,he,t),[u.memoizedState,t]},useRef:function(t){var e=ui();return t={current:t},e.memoizedState=t},useState:Sd,useDebugValue:lf,useDeferredValue:function(t){return ui().memoizedState=t},useTransition:function(){var t=Sd(!1),e=t[0];return t=fy.bind(null,t[1]),ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var u=he,h=ui();if(re){if(s===void 0)throw Error(rt(407));s=s()}else{if(s=e(),Re===null)throw Error(rt(349));Br&30||bm(u,e,s)}h.memoizedState=s;var d={value:s,getSnapshot:e};return h.queue=d,Nd(Gm.bind(null,u,d,t),[t]),u.flags|=2048,pa(9,Zm.bind(null,u,d,s,e),void 0,null),s},useId:function(){var t=ui(),e=Re.identifierPrefix;if(re){var s=Ni,u=Si;s=(u&~(1<<32-Wn(u)-1)).toString(32)+s,e=":"+e+"R"+s,s=ga++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=cy++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},py={readContext:bn,useCallback:Wm,useContext:bn,useEffect:uf,useImperativeHandle:jm,useInsertionEffect:Xm,useLayoutEffect:Hm,useMemo:$m,useReducer:fh,useRef:qm,useState:function(){return fh(ma)},useDebugValue:lf,useDeferredValue:function(t){var e=Zn();return Km(e,Ee.memoizedState,t)},useTransition:function(){var t=fh(ma)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Fm,useSyncExternalStore:Bm,useId:Qm,unstable_isNewReconciler:!1},vy={readContext:bn,useCallback:Wm,useContext:bn,useEffect:uf,useImperativeHandle:jm,useInsertionEffect:Xm,useLayoutEffect:Hm,useMemo:$m,useReducer:dh,useRef:qm,useState:function(){return dh(ma)},useDebugValue:lf,useDeferredValue:function(t){var e=Zn();return Ee===null?e.memoizedState=t:Km(e,Ee.memoizedState,t)},useTransition:function(){var t=dh(ma)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Fm,useSyncExternalStore:Bm,useId:Qm,unstable_isNewReconciler:!1};function Hn(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function nc(t,e,s,u){e=t.memoizedState,s=s(u,e),s=s==null?e:ce({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var pl={isMounted:function(t){return(t=t._reactInternals)?Yr(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var u=Je(),h=rr(t),d=Ii(u,h);d.payload=e,s!=null&&(d.callback=s),e=nr(t,d,h),e!==null&&($n(e,t,h,u),xu(e,t,h))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var u=Je(),h=rr(t),d=Ii(u,h);d.tag=1,d.payload=e,s!=null&&(d.callback=s),e=nr(t,d,h),e!==null&&($n(e,t,h,u),xu(e,t,h))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Je(),u=rr(t),h=Ii(s,u);h.tag=2,e!=null&&(h.callback=e),e=nr(t,h,u),e!==null&&($n(e,t,u,s),xu(e,t,u))}};function Id(t,e,s,u,h,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,p):e.prototype&&e.prototype.isPureReactComponent?!ua(s,u)||!ua(h,d):!0}function np(t,e,s){var u=!1,h=ar,d=e.contextType;return typeof d=="object"&&d!==null?d=bn(d):(h=hn(e)?zr:He.current,u=e.contextTypes,d=(u=u!=null)?Bs(t,h):ar),e=new e(s,d),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pl,t.stateNode=e,e._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=d),e}function Ld(t,e,s,u){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,u),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,u),e.state!==t&&pl.enqueueReplaceState(e,e.state,null)}function ic(t,e,s,u){var h=t.stateNode;h.props=s,h.state=t.memoizedState,h.refs={},tf(t);var d=e.contextType;typeof d=="object"&&d!==null?h.context=bn(d):(d=hn(e)?zr:He.current,h.context=Bs(t,d)),h.state=t.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(nc(t,e,d,s),h.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(e=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),e!==h.state&&pl.enqueueReplaceState(h,h.state,null),Hu(t,s,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Us(t,e){try{var s="",u=e;do s+=Xv(u),u=u.return;while(u);var h=s}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:e,stack:h,digest:null}}function gh(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function rc(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function ip(t,e,s){s=Ii(-1,s),s.tag=3,s.payload={element:null};var u=e.value;return s.callback=function(){Ku||(Ku=!0,gc=u),rc(t,e)},s}function rp(t,e,s){s=Ii(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=e.value;s.payload=function(){return u(h)},s.callback=function(){rc(t,e)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){rc(t,e),typeof u!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var p=e.stack;this.componentDidCatch(e.value,{componentStack:p!==null?p:""})}),s}function Td(t,e,s){var u=t.pingCache;if(u===null){u=t.pingCache=new _y;var h=new Set;u.set(e,h)}else h=u.get(e),h===void 0&&(h=new Set,u.set(e,h));h.has(s)||(h.add(s),t=My.bind(null,t,e,s),e.then(t,t))}function Cd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pd(t,e,s,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Ii(-1,1),e.tag=2,nr(s,e,1))),s.lanes|=1),t)}var yy=Oi.ReactCurrentOwner,un=!1;function Qe(t,e,s,u){e.child=t===null?Rm(e,null,s,u):Zs(e,t.child,s,u)}function Od(t,e,s,u,h){s=s.render;var d=e.ref;return Ds(e,h),u=of(t,e,s,u,d,h),s=af(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~h,Pi(t,e,h)):(re&&s&&Vc(e),e.flags|=1,Qe(t,e,u,h),e.child)}function Md(t,e,s,u,h){if(t===null){var d=s.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=d,sp(t,e,d,u,h)):(t=Iu(s.type,null,u,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!(t.lanes&h)){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:ua,s(p,u)&&t.ref===e.ref)return Pi(t,e,h)}return e.flags|=1,t=sr(d,u),t.ref=e.ref,t.return=e,e.child=t}function sp(t,e,s,u,h){if(t!==null){var d=t.memoizedProps;if(ua(d,u)&&t.ref===e.ref)if(un=!1,e.pendingProps=u=d,(t.lanes&h)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Pi(t,e,h)}return sc(t,e,s,u,h)}function op(t,e,s){var u=e.pendingProps,h=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Cs,mn),mn|=s;else{if(!(s&1073741824))return t=d!==null?d.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(Cs,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,Jt(Cs,mn),mn|=u}else d!==null?(u=d.baseLanes|s,e.memoizedState=null):u=s,Jt(Cs,mn),mn|=u;return Qe(t,e,h,s),e.child}function ap(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function sc(t,e,s,u,h){var d=hn(s)?zr:He.current;return d=Bs(e,d),Ds(e,h),s=of(t,e,s,u,d,h),u=af(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~h,Pi(t,e,h)):(re&&u&&Vc(e),e.flags|=1,Qe(t,e,s,h),e.child)}function Rd(t,e,s,u,h){if(hn(s)){var d=!0;Gu(e)}else d=!1;if(Ds(e,h),e.stateNode===null)Eu(t,e),np(e,s,u),ic(e,s,u,h),u=!0;else if(t===null){var p=e.stateNode,v=e.memoizedProps;p.props=v;var k=p.context,N=s.contextType;typeof N=="object"&&N!==null?N=bn(N):(N=hn(s)?zr:He.current,N=Bs(e,N));var S=s.getDerivedStateFromProps,I=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function";I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==u||k!==N)&&Ld(e,p,u,N),Vi=!1;var T=e.memoizedState;p.state=T,Hu(e,u,p,h),k=e.memoizedState,v!==u||T!==k||ln.current||Vi?(typeof S=="function"&&(nc(e,s,S,u),k=e.memoizedState),(v=Vi||Id(e,s,v,u,T,k,N))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(e.flags|=4194308)):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=u,e.memoizedState=k),p.props=u,p.state=k,p.context=N,u=v):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),u=!1)}else{p=e.stateNode,Dm(t,e),v=e.memoizedProps,N=e.type===e.elementType?v:Hn(e.type,v),p.props=N,I=e.pendingProps,T=p.context,k=s.contextType,typeof k=="object"&&k!==null?k=bn(k):(k=hn(s)?zr:He.current,k=Bs(e,k));var z=s.getDerivedStateFromProps;(S=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==I||T!==k)&&Ld(e,p,u,k),Vi=!1,T=e.memoizedState,p.state=T,Hu(e,u,p,h);var M=e.memoizedState;v!==I||T!==M||ln.current||Vi?(typeof z=="function"&&(nc(e,s,z,u),M=e.memoizedState),(N=Vi||Id(e,s,N,u,T,M,k)||!1)?(S||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,M,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,M,k)),typeof p.componentDidUpdate=="function"&&(e.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=u,e.memoizedState=M),p.props=u,p.state=M,p.context=k,u=N):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),u=!1)}return oc(t,e,s,u,d,h)}function oc(t,e,s,u,h,d){ap(t,e);var p=(e.flags&128)!==0;if(!u&&!p)return h&&_d(e,s,!1),Pi(t,e,d);u=e.stateNode,yy.current=e;var v=p&&typeof s.getDerivedStateFromError!="function"?null:u.render();return e.flags|=1,t!==null&&p?(e.child=Zs(e,t.child,null,d),e.child=Zs(e,null,v,d)):Qe(t,e,v,d),e.memoizedState=u.state,h&&_d(e,s,!0),e.child}function up(t){var e=t.stateNode;e.pendingContext?vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vd(t,e.context,!1),ef(t,e.containerInfo)}function Ad(t,e,s,u,h){return bs(),Wc(h),e.flags|=256,Qe(t,e,s,u),e.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function lp(t,e,s){var u=e.pendingProps,h=ae.current,d=!1,p=(e.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(h&2)!==0),v?(d=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Jt(ae,h&1),t===null)return tc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(p=u.children,t=u.fallback,d?(u=e.mode,d=e.child,p={mode:"hidden",children:p},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=p):d=yl(p,u,0,null),t=Dr(t,u,s,null),d.return=e,t.return=e,d.sibling=t,e.child=d,e.child.memoizedState=uc(s),e.memoizedState=ac,t):hf(e,p));if(h=t.memoizedState,h!==null&&(v=h.dehydrated,v!==null))return xy(t,e,p,u,v,h,s);if(d){d=u.fallback,p=e.mode,h=t.child,v=h.sibling;var k={mode:"hidden",children:u.children};return!(p&1)&&e.child!==h?(u=e.child,u.childLanes=0,u.pendingProps=k,e.deletions=null):(u=sr(h,k),u.subtreeFlags=h.subtreeFlags&14680064),v!==null?d=sr(v,d):(d=Dr(d,p,s,null),d.flags|=2),d.return=e,u.return=e,u.sibling=d,e.child=u,u=d,d=e.child,p=t.child.memoizedState,p=p===null?uc(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=t.childLanes&~s,e.memoizedState=ac,u}return d=t.child,t=d.sibling,u=sr(d,{mode:"visible",children:u.children}),!(e.mode&1)&&(u.lanes=s),u.return=e,u.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=u,e.memoizedState=null,u}function hf(t,e){return e=yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,s,u){return u!==null&&Wc(u),Zs(e,t.child,null,s),t=hf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xy(t,e,s,u,h,d,p){if(s)return e.flags&256?(e.flags&=-257,u=gh(Error(rt(422))),iu(t,e,p,u)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(d=u.fallback,h=e.mode,u=yl({mode:"visible",children:u.children},h,0,null),d=Dr(d,h,p,null),d.flags|=2,u.return=e,d.return=e,u.sibling=d,e.child=u,e.mode&1&&Zs(e,t.child,null,p),e.child.memoizedState=uc(p),e.memoizedState=ac,d);if(!(e.mode&1))return iu(t,e,p,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var v=u.dgst;return u=v,d=Error(rt(419)),u=gh(d,u,void 0),iu(t,e,p,u)}if(v=(p&t.childLanes)!==0,un||v){if(u=Re,u!==null){switch(p&-p){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|p)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,Ci(t,h),$n(u,t,h,-1))}return pf(),u=gh(Error(rt(421))),iu(t,e,p,u)}return h.data==="$?"?(e.flags|=128,e.child=t.child,e=Ry.bind(null,t),h._reactRetry=e,null):(t=d.treeContext,pn=er(h.nextSibling),vn=e,re=!0,jn=null,t!==null&&(Dn[zn++]=Si,Dn[zn++]=Ni,Dn[zn++]=Fr,Si=t.id,Ni=t.overflow,Fr=e),e=hf(e,u.children),e.flags|=4096,e)}function Dd(t,e,s){t.lanes|=e;var u=t.alternate;u!==null&&(u.lanes|=e),ec(t.return,e,s)}function mh(t,e,s,u,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=h)}function hp(t,e,s){var u=e.pendingProps,h=u.revealOrder,d=u.tail;if(Qe(t,e,u.children,s),u=ae.current,u&2)u=u&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dd(t,s,e);else if(t.tag===19)Dd(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Jt(ae,u),!(e.mode&1))e.memoizedState=null;else switch(h){case"forwards":for(s=e.child,h=null;s!==null;)t=s.alternate,t!==null&&Vu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=e.child,e.child=null):(h=s.sibling,s.sibling=null),mh(e,!1,h,s,d);break;case"backwards":for(s=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){e.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}mh(e,!0,s,null,d);break;case"together":mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),br|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,s=sr(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=sr(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function ky(t,e,s){switch(e.tag){case 3:up(e),bs();break;case 5:zm(e);break;case 1:hn(e.type)&&Gu(e);break;case 4:ef(e,e.stateNode.containerInfo);break;case 10:var u=e.type._context,h=e.memoizedProps.value;Jt(qu,u._currentValue),u._currentValue=h;break;case 13:if(u=e.memoizedState,u!==null)return u.dehydrated!==null?(Jt(ae,ae.current&1),e.flags|=128,null):s&e.child.childLanes?lp(t,e,s):(Jt(ae,ae.current&1),t=Pi(t,e,s),t!==null?t.sibling:null);Jt(ae,ae.current&1);break;case 19:if(u=(s&e.childLanes)!==0,t.flags&128){if(u)return hp(t,e,s);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Jt(ae,ae.current),u)break;return null;case 22:case 23:return e.lanes=0,op(t,e,s)}return Pi(t,e,s)}var cp,lc,fp,dp;cp=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};lc=function(){};fp=function(t,e,s,u){var h=t.memoizedProps;if(h!==u){t=e.stateNode,Rr(fi.current);var d=null;switch(s){case"input":h=Oh(t,h),u=Oh(t,u),d=[];break;case"select":h=ce({},h,{value:void 0}),u=ce({},u,{value:void 0}),d=[];break;case"textarea":h=Ah(t,h),u=Ah(t,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=bu)}zh(s,u);var p;s=null;for(N in h)if(!u.hasOwnProperty(N)&&h.hasOwnProperty(N)&&h[N]!=null)if(N==="style"){var v=h[N];for(p in v)v.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(ea.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in u){var k=u[N];if(v=h!=null?h[N]:void 0,u.hasOwnProperty(N)&&k!==v&&(k!=null||v!=null))if(N==="style")if(v){for(p in v)!v.hasOwnProperty(p)||k&&k.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in k)k.hasOwnProperty(p)&&v[p]!==k[p]&&(s||(s={}),s[p]=k[p])}else s||(d||(d=[]),d.push(N,s)),s=k;else N==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,v=v?v.__html:void 0,k!=null&&v!==k&&(d=d||[]).push(N,k)):N==="children"?typeof k!="string"&&typeof k!="number"||(d=d||[]).push(N,""+k):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(ea.hasOwnProperty(N)?(k!=null&&N==="onScroll"&&ee("scroll",t),d||v===k||(d=[])):(d=d||[]).push(N,k))}s&&(d=d||[]).push("style",s);var N=d;(e.updateQueue=N)&&(e.flags|=4)}};dp=function(t,e,s,u){s!==u&&(e.flags|=4)};function Do(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(e)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,e}function wy(t,e,s){var u=e.pendingProps;switch(jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return hn(e.type)&&Zu(),qe(e),null;case 3:return u=e.stateNode,Gs(),ne(ln),ne(He),rf(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(vc(jn),jn=null))),lc(t,e),qe(e),null;case 5:nf(e);var h=Rr(da.current);if(s=e.type,t!==null&&e.stateNode!=null)fp(t,e,s,u,h),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!u){if(e.stateNode===null)throw Error(rt(166));return qe(e),null}if(t=Rr(fi.current),eu(e)){u=e.stateNode,s=e.type;var d=e.memoizedProps;switch(u[li]=e,u[ca]=d,t=(e.mode&1)!==0,s){case"dialog":ee("cancel",u),ee("close",u);break;case"iframe":case"object":case"embed":ee("load",u);break;case"video":case"audio":for(h=0;h<Go.length;h++)ee(Go[h],u);break;case"source":ee("error",u);break;case"img":case"image":case"link":ee("error",u),ee("load",u);break;case"details":ee("toggle",u);break;case"input":qf(u,d),ee("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},ee("invalid",u);break;case"textarea":Hf(u,d),ee("invalid",u)}zh(s,d),h=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?u.textContent!==v&&(d.suppressHydrationWarning!==!0&&tu(u.textContent,v,t),h=["children",v]):typeof v=="number"&&u.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&tu(u.textContent,v,t),h=["children",""+v]):ea.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&ee("scroll",u)}switch(s){case"input":Ha(u),Xf(u,d,!0);break;case"textarea":Ha(u),Vf(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=bu)}u=h,e.updateQueue=u,u!==null&&(e.flags|=4)}else{p=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gg(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=p.createElement(s,{is:u.is}):(t=p.createElement(s),s==="select"&&(p=t,u.multiple?p.multiple=!0:u.size&&(p.size=u.size))):t=p.createElementNS(t,s),t[li]=e,t[ca]=u,cp(t,e,!1,!1),e.stateNode=t;t:{switch(p=Fh(s,u),s){case"dialog":ee("cancel",t),ee("close",t),h=u;break;case"iframe":case"object":case"embed":ee("load",t),h=u;break;case"video":case"audio":for(h=0;h<Go.length;h++)ee(Go[h],t);h=u;break;case"source":ee("error",t),h=u;break;case"img":case"image":case"link":ee("error",t),ee("load",t),h=u;break;case"details":ee("toggle",t),h=u;break;case"input":qf(t,u),h=Oh(t,u),ee("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ce({},u,{value:void 0}),ee("invalid",t);break;case"textarea":Hf(t,u),h=Ah(t,u),ee("invalid",t);break;default:h=u}zh(s,h),v=h;for(d in v)if(v.hasOwnProperty(d)){var k=v[d];d==="style"?qg(t,k):d==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ug(t,k)):d==="children"?typeof k=="string"?(s!=="textarea"||k!=="")&&na(t,k):typeof k=="number"&&na(t,""+k):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?k!=null&&d==="onScroll"&&ee("scroll",t):k!=null&&Rc(t,d,k,p))}switch(s){case"input":Ha(t),Xf(t,u,!1);break;case"textarea":Ha(t),Vf(t);break;case"option":u.value!=null&&t.setAttribute("value",""+or(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?Os(t,!!u.multiple,d,!1):u.defaultValue!=null&&Os(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=bu)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}}u&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)dp(t,e,t.memoizedProps,u);else{if(typeof u!="string"&&e.stateNode===null)throw Error(rt(166));if(s=Rr(da.current),Rr(fi.current),eu(e)){if(u=e.stateNode,s=e.memoizedProps,u[li]=e,(d=u.nodeValue!==s)&&(t=vn,t!==null))switch(t.tag){case 3:tu(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tu(u.nodeValue,s,(t.mode&1)!==0)}d&&(e.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[li]=e,e.stateNode=u}return qe(e),null;case 13:if(ne(ae),u=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&pn!==null&&e.mode&1&&!(e.flags&128))Om(),bs(),e.flags|=98560,d=!1;else if(d=eu(e),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(rt(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(rt(317));d[li]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),d=!1}else jn!==null&&(vc(jn),jn=null),d=!0;if(!d)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?Se===0&&(Se=3):pf())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return Gs(),lc(t,e),t===null&&la(e.stateNode.containerInfo),qe(e),null;case 10:return Qc(e.type._context),qe(e),null;case 17:return hn(e.type)&&Zu(),qe(e),null;case 19:if(ne(ae),d=e.memoizedState,d===null)return qe(e),null;if(u=(e.flags&128)!==0,p=d.rendering,p===null)if(u)Do(d,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(p=Vu(t),p!==null){for(e.flags|=128,Do(d,!1),u=p.updateQueue,u!==null&&(e.updateQueue=u,e.flags|=4),e.subtreeFlags=0,u=s,s=e.child;s!==null;)d=s,t=u,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,t=p.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Jt(ae,ae.current&1|2),e.child}t=t.sibling}d.tail!==null&&ve()>Ys&&(e.flags|=128,u=!0,Do(d,!1),e.lanes=4194304)}else{if(!u)if(t=Vu(p),t!==null){if(e.flags|=128,u=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Do(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!re)return qe(e),null}else 2*ve()-d.renderingStartTime>Ys&&s!==1073741824&&(e.flags|=128,u=!0,Do(d,!1),e.lanes=4194304);d.isBackwards?(p.sibling=e.child,e.child=p):(s=d.last,s!==null?s.sibling=p:e.child=p,d.last=p)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=ve(),e.sibling=null,s=ae.current,Jt(ae,u?s&1|2:s&1),e):(qe(e),null);case 22:case 23:return mf(),u=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(e.flags|=8192),u&&e.mode&1?mn&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function Ey(t,e){switch(jc(e),e.tag){case 1:return hn(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),ne(ln),ne(He),rf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nf(e),null;case 13:if(ne(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(ae),null;case 4:return Gs(),null;case 10:return Qc(e.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var ru=!1,Xe=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Ts(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){ge(t,e,u)}else s.current=null}function hc(t,e,s){try{s()}catch(u){ge(t,e,u)}}var zd=!1;function Ny(t,e){if(Vh=zu,t=_m(),Hc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var p=0,v=-1,k=-1,N=0,S=0,I=t,T=null;e:for(;;){for(var z;I!==s||h!==0&&I.nodeType!==3||(v=p+h),I!==d||u!==0&&I.nodeType!==3||(k=p+u),I.nodeType===3&&(p+=I.nodeValue.length),(z=I.firstChild)!==null;)T=I,I=z;for(;;){if(I===t)break e;if(T===s&&++N===h&&(v=p),T===d&&++S===u&&(k=p),(z=I.nextSibling)!==null)break;I=T,T=I.parentNode}I=z}s=v===-1||k===-1?null:{start:v,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(jh={focusedElem:t,selectionRange:s},zu=!1,gt=e;gt!==null;)if(e=gt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,gt=t;else for(;gt!==null;){e=gt;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var b=M.memoizedProps,$=M.memoizedState,A=e.stateNode,C=A.getSnapshotBeforeUpdate(e.elementType===e.type?b:Hn(e.type,b),$);A.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(Z){ge(e,e.return,Z)}if(t=e.sibling,t!==null){t.return=e.return,gt=t;break}gt=e.return}return M=zd,zd=!1,M}function Qo(t,e,s){var u=e.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var d=h.destroy;h.destroy=void 0,d!==void 0&&hc(e,s,d)}h=h.next}while(h!==u)}}function vl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==e)}}function cc(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function gp(t){var e=t.alternate;e!==null&&(t.alternate=null,gp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[li],delete e[ca],delete e[Kh],delete e[ay],delete e[uy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mp(t){return t.tag===5||t.tag===3||t.tag===4}function Fd(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fc(t,e,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=bu));else if(u!==4&&(t=t.child,t!==null))for(fc(t,e,s),t=t.sibling;t!==null;)fc(t,e,s),t=t.sibling}function dc(t,e,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(dc(t,e,s),t=t.sibling;t!==null;)dc(t,e,s),t=t.sibling}var be=null,Vn=!1;function qi(t,e,s){for(s=s.child;s!==null;)pp(t,e,s),s=s.sibling}function pp(t,e,s){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(ll,s)}catch{}switch(s.tag){case 5:Xe||Ts(s,e);case 6:var u=be,h=Vn;be=null,qi(t,e,s),be=u,Vn=h,be!==null&&(Vn?(t=be,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):be.removeChild(s.stateNode));break;case 18:be!==null&&(Vn?(t=be,s=s.stateNode,t.nodeType===8?uh(t.parentNode,s):t.nodeType===1&&uh(t,s),oa(t)):uh(be,s.stateNode));break;case 4:u=be,h=Vn,be=s.stateNode.containerInfo,Vn=!0,qi(t,e,s),be=u,Vn=h;break;case 0:case 11:case 14:case 15:if(!Xe&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,p=d.destroy;d=d.tag,p!==void 0&&(d&2||d&4)&&hc(s,e,p),h=h.next}while(h!==u)}qi(t,e,s);break;case 1:if(!Xe&&(Ts(s,e),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(v){ge(s,e,v)}qi(t,e,s);break;case 21:qi(t,e,s);break;case 22:s.mode&1?(Xe=(u=Xe)||s.memoizedState!==null,qi(t,e,s),Xe=u):qi(t,e,s);break;default:qi(t,e,s)}}function Bd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Sy),e.forEach(function(u){var h=Ay.bind(null,t,u);s.has(u)||(s.add(u),u.then(h,h))})}}function Xn(t,e){var s=e.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var d=t,p=e,v=p;t:for(;v!==null;){switch(v.tag){case 5:be=v.stateNode,Vn=!1;break t;case 3:be=v.stateNode.containerInfo,Vn=!0;break t;case 4:be=v.stateNode.containerInfo,Vn=!0;break t}v=v.return}if(be===null)throw Error(rt(160));pp(d,p,h),be=null,Vn=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(N){ge(h,e,N)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vp(e,t),e=e.sibling}function vp(t,e){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),ai(t),u&4){try{Qo(3,t,t.return),vl(3,t)}catch(b){ge(t,t.return,b)}try{Qo(5,t,t.return)}catch(b){ge(t,t.return,b)}}break;case 1:Xn(e,t),ai(t),u&512&&s!==null&&Ts(s,s.return);break;case 5:if(Xn(e,t),ai(t),u&512&&s!==null&&Ts(s,s.return),t.flags&32){var h=t.stateNode;try{na(h,"")}catch(b){ge(t,t.return,b)}}if(u&4&&(h=t.stateNode,h!=null)){var d=t.memoizedProps,p=s!==null?s.memoizedProps:d,v=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&bg(h,d),Fh(v,p);var N=Fh(v,d);for(p=0;p<k.length;p+=2){var S=k[p],I=k[p+1];S==="style"?qg(h,I):S==="dangerouslySetInnerHTML"?Ug(h,I):S==="children"?na(h,I):Rc(h,S,I,N)}switch(v){case"input":Mh(h,d);break;case"textarea":Zg(h,d);break;case"select":var T=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var z=d.value;z!=null?Os(h,!!d.multiple,z,!1):T!==!!d.multiple&&(d.defaultValue!=null?Os(h,!!d.multiple,d.defaultValue,!0):Os(h,!!d.multiple,d.multiple?[]:"",!1))}h[ca]=d}catch(b){ge(t,t.return,b)}}break;case 6:if(Xn(e,t),ai(t),u&4){if(t.stateNode===null)throw Error(rt(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(b){ge(t,t.return,b)}}break;case 3:if(Xn(e,t),ai(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{oa(e.containerInfo)}catch(b){ge(t,t.return,b)}break;case 4:Xn(e,t),ai(t);break;case 13:Xn(e,t),ai(t),h=t.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(df=ve())),u&4&&Bd(t);break;case 22:if(S=s!==null&&s.memoizedState!==null,t.mode&1?(Xe=(N=Xe)||S,Xn(e,t),Xe=N):Xn(e,t),ai(t),u&8192){if(N=t.memoizedState!==null,(t.stateNode.isHidden=N)&&!S&&t.mode&1)for(gt=t,S=t.child;S!==null;){for(I=gt=S;gt!==null;){switch(T=gt,z=T.child,T.tag){case 0:case 11:case 14:case 15:Qo(4,T,T.return);break;case 1:Ts(T,T.return);var M=T.stateNode;if(typeof M.componentWillUnmount=="function"){u=T,s=T.return;try{e=u,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(b){ge(u,s,b)}}break;case 5:Ts(T,T.return);break;case 22:if(T.memoizedState!==null){Zd(I);continue}}z!==null?(z.return=T,gt=z):Zd(I)}S=S.sibling}t:for(S=null,I=t;;){if(I.tag===5){if(S===null){S=I;try{h=I.stateNode,N?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=I.stateNode,k=I.memoizedProps.style,p=k!=null&&k.hasOwnProperty("display")?k.display:null,v.style.display=Yg("display",p))}catch(b){ge(t,t.return,b)}}}else if(I.tag===6){if(S===null)try{I.stateNode.nodeValue=N?"":I.memoizedProps}catch(b){ge(t,t.return,b)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===t)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===t)break t;for(;I.sibling===null;){if(I.return===null||I.return===t)break t;S===I&&(S=null),I=I.return}S===I&&(S=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Xn(e,t),ai(t),u&4&&Bd(t);break;case 21:break;default:Xn(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{t:{for(var s=t.return;s!==null;){if(mp(s)){var u=s;break t}s=s.return}throw Error(rt(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(na(h,""),u.flags&=-33);var d=Fd(t);dc(t,d,h);break;case 3:case 4:var p=u.stateNode.containerInfo,v=Fd(t);fc(t,v,p);break;default:throw Error(rt(161))}}catch(k){ge(t,t.return,k)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Iy(t,e,s){gt=t,_p(t)}function _p(t,e,s){for(var u=(t.mode&1)!==0;gt!==null;){var h=gt,d=h.child;if(h.tag===22&&u){var p=h.memoizedState!==null||ru;if(!p){var v=h.alternate,k=v!==null&&v.memoizedState!==null||Xe;v=ru;var N=Xe;if(ru=p,(Xe=k)&&!N)for(gt=h;gt!==null;)p=gt,k=p.child,p.tag===22&&p.memoizedState!==null?Gd(h):k!==null?(k.return=p,gt=k):Gd(h);for(;d!==null;)gt=d,_p(d),d=d.sibling;gt=h,ru=v,Xe=N}bd(t)}else h.subtreeFlags&8772&&d!==null?(d.return=h,gt=d):bd(t)}}function bd(t){for(;gt!==null;){var e=gt;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||vl(5,e);break;case 1:var u=e.stateNode;if(e.flags&4&&!Xe)if(s===null)u.componentDidMount();else{var h=e.elementType===e.type?s.memoizedProps:Hn(e.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=e.updateQueue;d!==null&&Ed(e,d,u);break;case 3:var p=e.updateQueue;if(p!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Ed(e,p,s)}break;case 5:var v=e.stateNode;if(s===null&&e.flags&4){s=v;var k=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&s.focus();break;case"img":k.src&&(s.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var N=e.alternate;if(N!==null){var S=N.memoizedState;if(S!==null){var I=S.dehydrated;I!==null&&oa(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Xe||e.flags&512&&cc(e)}catch(T){ge(e,e.return,T)}}if(e===t){gt=null;break}if(s=e.sibling,s!==null){s.return=e.return,gt=s;break}gt=e.return}}function Zd(t){for(;gt!==null;){var e=gt;if(e===t){gt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,gt=s;break}gt=e.return}}function Gd(t){for(;gt!==null;){var e=gt;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{vl(4,e)}catch(k){ge(e,s,k)}break;case 1:var u=e.stateNode;if(typeof u.componentDidMount=="function"){var h=e.return;try{u.componentDidMount()}catch(k){ge(e,h,k)}}var d=e.return;try{cc(e)}catch(k){ge(e,d,k)}break;case 5:var p=e.return;try{cc(e)}catch(k){ge(e,p,k)}}}catch(k){ge(e,e.return,k)}if(e===t){gt=null;break}var v=e.sibling;if(v!==null){v.return=e.return,gt=v;break}gt=e.return}}var Ly=Math.ceil,$u=Oi.ReactCurrentDispatcher,cf=Oi.ReactCurrentOwner,Bn=Oi.ReactCurrentBatchConfig,qt=0,Re=null,ye=null,Ze=0,mn=0,Cs=lr(0),Se=0,va=null,br=0,_l=0,ff=0,Jo=null,an=null,df=0,Ys=1/0,wi=null,Ku=!1,gc=null,ir=null,su=!1,Ki=null,Qu=0,ta=0,mc=null,Su=-1,Nu=0;function Je(){return qt&6?ve():Su!==-1?Su:Su=ve()}function rr(t){return t.mode&1?qt&2&&Ze!==0?Ze&-Ze:hy.transition!==null?(Nu===0&&(Nu=nm()),Nu):(t=$t,t!==0||(t=window.event,t=t===void 0?16:lm(t.type)),t):1}function $n(t,e,s,u){if(50<ta)throw ta=0,mc=null,Error(rt(185));xa(t,s,u),(!(qt&2)||t!==Re)&&(t===Re&&(!(qt&2)&&(_l|=s),Se===4&&Wi(t,Ze)),cn(t,u),s===1&&qt===0&&!(e.mode&1)&&(Ys=ve()+500,gl&&hr()))}function cn(t,e){var s=t.callbackNode;h_(t,e);var u=Du(t,t===Re?Ze:0);if(u===0)s!==null&&$f(s),t.callbackNode=null,t.callbackPriority=0;else if(e=u&-u,t.callbackPriority!==e){if(s!=null&&$f(s),e===1)t.tag===0?ly(Ud.bind(null,t)):Tm(Ud.bind(null,t)),sy(function(){!(qt&6)&&hr()}),s=null;else{switch(im(u)){case 1:s=Bc;break;case 4:s=tm;break;case 16:s=Au;break;case 536870912:s=em;break;default:s=Au}s=Ip(s,yp.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function yp(t,e){if(Su=-1,Nu=0,qt&6)throw Error(rt(327));var s=t.callbackNode;if(zs()&&t.callbackNode!==s)return null;var u=Du(t,t===Re?Ze:0);if(u===0)return null;if(u&30||u&t.expiredLanes||e)e=Ju(t,u);else{e=u;var h=qt;qt|=2;var d=kp();(Re!==t||Ze!==e)&&(wi=null,Ys=ve()+500,Ar(t,e));do try{Py();break}catch(v){xp(t,v)}while(!0);Kc(),$u.current=d,qt=h,ye!==null?e=0:(Re=null,Ze=0,e=Se)}if(e!==0){if(e===2&&(h=Uh(t),h!==0&&(u=h,e=pc(t,h))),e===1)throw s=va,Ar(t,0),Wi(t,u),cn(t,ve()),s;if(e===6)Wi(t,u);else{if(h=t.current.alternate,!(u&30)&&!Ty(h)&&(e=Ju(t,u),e===2&&(d=Uh(t),d!==0&&(u=d,e=pc(t,d))),e===1))throw s=va,Ar(t,0),Wi(t,u),cn(t,ve()),s;switch(t.finishedWork=h,t.finishedLanes=u,e){case 0:case 1:throw Error(rt(345));case 2:Pr(t,an,wi);break;case 3:if(Wi(t,u),(u&130023424)===u&&(e=df+500-ve(),10<e)){if(Du(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Je(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=$h(Pr.bind(null,t,an,wi),e);break}Pr(t,an,wi);break;case 4:if(Wi(t,u),(u&4194240)===u)break;for(e=t.eventTimes,h=-1;0<u;){var p=31-Wn(u);d=1<<p,p=e[p],p>h&&(h=p),u&=~d}if(u=h,u=ve()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ly(u/1960))-u,10<u){t.timeoutHandle=$h(Pr.bind(null,t,an,wi),u);break}Pr(t,an,wi);break;case 5:Pr(t,an,wi);break;default:throw Error(rt(329))}}}return cn(t,ve()),t.callbackNode===s?yp.bind(null,t):null}function pc(t,e){var s=Jo;return t.current.memoizedState.isDehydrated&&(Ar(t,e).flags|=256),t=Ju(t,e),t!==2&&(e=an,an=s,e!==null&&vc(e)),t}function vc(t){an===null?an=t:an.push.apply(an,t)}function Ty(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],d=h.getSnapshot;h=h.value;try{if(!Kn(d(),h))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~ff,e&=~_l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Wn(e),u=1<<s;t[s]=-1,e&=~u}}function Ud(t){if(qt&6)throw Error(rt(327));zs();var e=Du(t,0);if(!(e&1))return cn(t,ve()),null;var s=Ju(t,e);if(t.tag!==0&&s===2){var u=Uh(t);u!==0&&(e=u,s=pc(t,u))}if(s===1)throw s=va,Ar(t,0),Wi(t,e),cn(t,ve()),s;if(s===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pr(t,an,wi),cn(t,ve()),null}function gf(t,e){var s=qt;qt|=1;try{return t(e)}finally{qt=s,qt===0&&(Ys=ve()+500,gl&&hr())}}function Zr(t){Ki!==null&&Ki.tag===0&&!(qt&6)&&zs();var e=qt;qt|=1;var s=Bn.transition,u=$t;try{if(Bn.transition=null,$t=1,t)return t()}finally{$t=u,Bn.transition=s,qt=e,!(qt&6)&&hr()}}function mf(){mn=Cs.current,ne(Cs)}function Ar(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,ry(s)),ye!==null)for(s=ye.return;s!==null;){var u=s;switch(jc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Zu();break;case 3:Gs(),ne(ln),ne(He),rf();break;case 5:nf(u);break;case 4:Gs();break;case 13:ne(ae);break;case 19:ne(ae);break;case 10:Qc(u.type._context);break;case 22:case 23:mf()}s=s.return}if(Re=t,ye=t=sr(t.current,null),Ze=mn=e,Se=0,va=null,ff=_l=br=0,an=Jo=null,Mr!==null){for(e=0;e<Mr.length;e++)if(s=Mr[e],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,d=s.pending;if(d!==null){var p=d.next;d.next=h,u.next=p}s.pending=u}Mr=null}return t}function xp(t,e){do{var s=ye;try{if(Kc(),ku.current=Wu,ju){for(var u=he.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ju=!1}if(Br=0,Oe=Ee=he=null,Ko=!1,ga=0,cf.current=null,s===null||s.return===null){Se=1,va=e,ye=null;break}t:{var d=t,p=s.return,v=s,k=e;if(e=Ze,v.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var N=k,S=v,I=S.tag;if(!(S.mode&1)&&(I===0||I===11||I===15)){var T=S.alternate;T?(S.updateQueue=T.updateQueue,S.memoizedState=T.memoizedState,S.lanes=T.lanes):(S.updateQueue=null,S.memoizedState=null)}var z=Cd(p);if(z!==null){z.flags&=-257,Pd(z,p,v,d,e),z.mode&1&&Td(d,N,e),e=z,k=N;var M=e.updateQueue;if(M===null){var b=new Set;b.add(k),e.updateQueue=b}else M.add(k);break t}else{if(!(e&1)){Td(d,N,e),pf();break t}k=Error(rt(426))}}else if(re&&v.mode&1){var $=Cd(p);if($!==null){!($.flags&65536)&&($.flags|=256),Pd($,p,v,d,e),Wc(Us(k,v));break t}}d=k=Us(k,v),Se!==4&&(Se=2),Jo===null?Jo=[d]:Jo.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,e&=-e,d.lanes|=e;var A=ip(d,k,e);wd(d,A);break t;case 1:v=k;var C=d.type,O=d.stateNode;if(!(d.flags&128)&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ir===null||!ir.has(O)))){d.flags|=65536,e&=-e,d.lanes|=e;var Z=rp(d,v,e);wd(d,Z);break t}}d=d.return}while(d!==null)}Ep(s)}catch(U){e=U,ye===s&&s!==null&&(ye=s=s.return);continue}break}while(!0)}function kp(){var t=$u.current;return $u.current=Wu,t===null?Wu:t}function pf(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(br&268435455)&&!(_l&268435455)||Wi(Re,Ze)}function Ju(t,e){var s=qt;qt|=2;var u=kp();(Re!==t||Ze!==e)&&(wi=null,Ar(t,e));do try{Cy();break}catch(h){xp(t,h)}while(!0);if(Kc(),qt=s,$u.current=u,ye!==null)throw Error(rt(261));return Re=null,Ze=0,Se}function Cy(){for(;ye!==null;)wp(ye)}function Py(){for(;ye!==null&&!e_();)wp(ye)}function wp(t){var e=Np(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?Ep(t):ye=e,cf.current=null}function Ep(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=Ey(s,e),s!==null){s.flags&=32767,ye=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ye=null;return}}else if(s=wy(s,e,mn),s!==null){ye=s;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);Se===0&&(Se=5)}function Pr(t,e,s){var u=$t,h=Bn.transition;try{Bn.transition=null,$t=1,Oy(t,e,s,u)}finally{Bn.transition=h,$t=u}return null}function Oy(t,e,s,u){do zs();while(Ki!==null);if(qt&6)throw Error(rt(327));s=t.finishedWork;var h=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var d=s.lanes|s.childLanes;if(c_(t,d),t===Re&&(ye=Re=null,Ze=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||su||(su=!0,Ip(Au,function(){return zs(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Bn.transition,Bn.transition=null;var p=$t;$t=1;var v=qt;qt|=4,cf.current=null,Ny(t,s),vp(s,t),K_(jh),zu=!!Vh,jh=Vh=null,t.current=s,Iy(s),n_(),qt=v,$t=p,Bn.transition=d}else t.current=s;if(su&&(su=!1,Ki=t,Qu=h),d=t.pendingLanes,d===0&&(ir=null),s_(s.stateNode),cn(t,ve()),e!==null)for(u=t.onRecoverableError,s=0;s<e.length;s++)h=e[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(Ku)throw Ku=!1,t=gc,gc=null,t;return Qu&1&&t.tag!==0&&zs(),d=t.pendingLanes,d&1?t===mc?ta++:(ta=0,mc=t):ta=0,hr(),null}function zs(){if(Ki!==null){var t=im(Qu),e=Bn.transition,s=$t;try{if(Bn.transition=null,$t=16>t?16:t,Ki===null)var u=!1;else{if(t=Ki,Ki=null,Qu=0,qt&6)throw Error(rt(331));var h=qt;for(qt|=4,gt=t.current;gt!==null;){var d=gt,p=d.child;if(gt.flags&16){var v=d.deletions;if(v!==null){for(var k=0;k<v.length;k++){var N=v[k];for(gt=N;gt!==null;){var S=gt;switch(S.tag){case 0:case 11:case 15:Qo(8,S,d)}var I=S.child;if(I!==null)I.return=S,gt=I;else for(;gt!==null;){S=gt;var T=S.sibling,z=S.return;if(gp(S),S===N){gt=null;break}if(T!==null){T.return=z,gt=T;break}gt=z}}}var M=d.alternate;if(M!==null){var b=M.child;if(b!==null){M.child=null;do{var $=b.sibling;b.sibling=null,b=$}while(b!==null)}}gt=d}}if(d.subtreeFlags&2064&&p!==null)p.return=d,gt=p;else t:for(;gt!==null;){if(d=gt,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Qo(9,d,d.return)}var A=d.sibling;if(A!==null){A.return=d.return,gt=A;break t}gt=d.return}}var C=t.current;for(gt=C;gt!==null;){p=gt;var O=p.child;if(p.subtreeFlags&2064&&O!==null)O.return=p,gt=O;else t:for(p=C;gt!==null;){if(v=gt,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:vl(9,v)}}catch(U){ge(v,v.return,U)}if(v===p){gt=null;break t}var Z=v.sibling;if(Z!==null){Z.return=v.return,gt=Z;break t}gt=v.return}}if(qt=h,hr(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(ll,t)}catch{}u=!0}return u}finally{$t=s,Bn.transition=e}}return!1}function Yd(t,e,s){e=Us(s,e),e=ip(t,e,1),t=nr(t,e,1),e=Je(),t!==null&&(xa(t,1,e),cn(t,e))}function ge(t,e,s){if(t.tag===3)Yd(t,t,s);else for(;e!==null;){if(e.tag===3){Yd(e,t,s);break}else if(e.tag===1){var u=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ir===null||!ir.has(u))){t=Us(s,t),t=rp(e,t,1),e=nr(e,t,1),t=Je(),e!==null&&(xa(e,1,t),cn(e,t));break}}e=e.return}}function My(t,e,s){var u=t.pingCache;u!==null&&u.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&s,Re===t&&(Ze&s)===s&&(Se===4||Se===3&&(Ze&130023424)===Ze&&500>ve()-df?Ar(t,0):ff|=s),cn(t,e)}function Sp(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var s=Je();t=Ci(t,e),t!==null&&(xa(t,e,s),cn(t,s))}function Ry(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Sp(t,s)}function Ay(t,e){var s=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(rt(314))}u!==null&&u.delete(e),Sp(t,s)}var Np;Np=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)un=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return un=!1,ky(t,e,s);un=!!(t.flags&131072)}else un=!1,re&&e.flags&1048576&&Cm(e,Yu,e.index);switch(e.lanes=0,e.tag){case 2:var u=e.type;Eu(t,e),t=e.pendingProps;var h=Bs(e,He.current);Ds(e,s),h=of(null,e,u,t,h,s);var d=af();return e.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(u)?(d=!0,Gu(e)):d=!1,e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,tf(e),h.updater=pl,e.stateNode=h,h._reactInternals=e,ic(e,u,t,s),e=oc(null,e,u,!0,d,s)):(e.tag=0,re&&d&&Vc(e),Qe(null,e,h,s),e=e.child),e;case 16:u=e.elementType;t:{switch(Eu(t,e),t=e.pendingProps,h=u._init,u=h(u._payload),e.type=u,h=e.tag=zy(u),t=Hn(u,t),h){case 0:e=sc(null,e,u,t,s);break t;case 1:e=Rd(null,e,u,t,s);break t;case 11:e=Od(null,e,u,t,s);break t;case 14:e=Md(null,e,u,Hn(u.type,t),s);break t}throw Error(rt(306,u,""))}return e;case 0:return u=e.type,h=e.pendingProps,h=e.elementType===u?h:Hn(u,h),sc(t,e,u,h,s);case 1:return u=e.type,h=e.pendingProps,h=e.elementType===u?h:Hn(u,h),Rd(t,e,u,h,s);case 3:t:{if(up(e),t===null)throw Error(rt(387));u=e.pendingProps,d=e.memoizedState,h=d.element,Dm(t,e),Hu(e,u,null,s);var p=e.memoizedState;if(u=p.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){h=Us(Error(rt(423)),e),e=Ad(t,e,u,s,h);break t}else if(u!==h){h=Us(Error(rt(424)),e),e=Ad(t,e,u,s,h);break t}else for(pn=er(e.stateNode.containerInfo.firstChild),vn=e,re=!0,jn=null,s=Rm(e,null,u,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(bs(),u===h){e=Pi(t,e,s);break t}Qe(t,e,u,s)}e=e.child}return e;case 5:return zm(e),t===null&&tc(e),u=e.type,h=e.pendingProps,d=t!==null?t.memoizedProps:null,p=h.children,Wh(u,h)?p=null:d!==null&&Wh(u,d)&&(e.flags|=32),ap(t,e),Qe(t,e,p,s),e.child;case 6:return t===null&&tc(e),null;case 13:return lp(t,e,s);case 4:return ef(e,e.stateNode.containerInfo),u=e.pendingProps,t===null?e.child=Zs(e,null,u,s):Qe(t,e,u,s),e.child;case 11:return u=e.type,h=e.pendingProps,h=e.elementType===u?h:Hn(u,h),Od(t,e,u,h,s);case 7:return Qe(t,e,e.pendingProps,s),e.child;case 8:return Qe(t,e,e.pendingProps.children,s),e.child;case 12:return Qe(t,e,e.pendingProps.children,s),e.child;case 10:t:{if(u=e.type._context,h=e.pendingProps,d=e.memoizedProps,p=h.value,Jt(qu,u._currentValue),u._currentValue=p,d!==null)if(Kn(d.value,p)){if(d.children===h.children&&!ln.current){e=Pi(t,e,s);break t}}else for(d=e.child,d!==null&&(d.return=e);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var k=v.firstContext;k!==null;){if(k.context===u){if(d.tag===1){k=Ii(-1,s&-s),k.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var S=N.pending;S===null?k.next=k:(k.next=S.next,S.next=k),N.pending=k}}d.lanes|=s,k=d.alternate,k!==null&&(k.lanes|=s),ec(d.return,s,e),v.lanes|=s;break}k=k.next}}else if(d.tag===10)p=d.type===e.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(rt(341));p.lanes|=s,v=p.alternate,v!==null&&(v.lanes|=s),ec(p,s,e),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===e){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Qe(t,e,h.children,s),e=e.child}return e;case 9:return h=e.type,u=e.pendingProps.children,Ds(e,s),h=bn(h),u=u(h),e.flags|=1,Qe(t,e,u,s),e.child;case 14:return u=e.type,h=Hn(u,e.pendingProps),h=Hn(u.type,h),Md(t,e,u,h,s);case 15:return sp(t,e,e.type,e.pendingProps,s);case 17:return u=e.type,h=e.pendingProps,h=e.elementType===u?h:Hn(u,h),Eu(t,e),e.tag=1,hn(u)?(t=!0,Gu(e)):t=!1,Ds(e,s),np(e,u,h),ic(e,u,h,s),oc(null,e,u,!0,t,s);case 19:return hp(t,e,s);case 22:return op(t,e,s)}throw Error(rt(156,e.tag))};function Ip(t,e){return Jg(t,e)}function Dy(t,e,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,s,u){return new Dy(t,e,s,u)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zy(t){if(typeof t=="function")return vf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dc)return 11;if(t===zc)return 14}return 2}function sr(t,e){var s=t.alternate;return s===null?(s=Fn(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Iu(t,e,s,u,h,d){var p=2;if(u=t,typeof t=="function")vf(t)&&(p=1);else if(typeof t=="string")p=5;else t:switch(t){case ys:return Dr(s.children,h,d,e);case Ac:p=8,h|=8;break;case Lh:return t=Fn(12,s,e,h|2),t.elementType=Lh,t.lanes=d,t;case Th:return t=Fn(13,s,e,h),t.elementType=Th,t.lanes=d,t;case Ch:return t=Fn(19,s,e,h),t.elementType=Ch,t.lanes=d,t;case zg:return yl(s,h,d,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ag:p=10;break t;case Dg:p=9;break t;case Dc:p=11;break t;case zc:p=14;break t;case Hi:p=16,u=null;break t}throw Error(rt(130,t==null?t:typeof t,""))}return e=Fn(p,s,e,h),e.elementType=t,e.type=u,e.lanes=d,e}function Dr(t,e,s,u){return t=Fn(7,t,u,e),t.lanes=s,t}function yl(t,e,s,u){return t=Fn(22,t,u,e),t.elementType=zg,t.lanes=s,t.stateNode={isHidden:!1},t}function ph(t,e,s){return t=Fn(6,t,null,e),t.lanes=s,t}function vh(t,e,s){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fy(t,e,s,u,h){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function _f(t,e,s,u,h,d,p,v,k){return t=new Fy(t,e,s,v,k),e===1?(e=1,d===!0&&(e|=8)):e=0,d=Fn(3,null,null,e),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(d),t}function By(t,e,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:u==null?null:""+u,children:t,containerInfo:e,implementation:s}}function Lp(t){if(!t)return ar;t=t._reactInternals;t:{if(Yr(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var s=t.type;if(hn(s))return Lm(t,s,e)}return e}function Tp(t,e,s,u,h,d,p,v,k){return t=_f(s,u,!0,t,h,d,p,v,k),t.context=Lp(null),s=t.current,u=Je(),h=rr(s),d=Ii(u,h),d.callback=e??null,nr(s,d,h),t.current.lanes=h,xa(t,h,u),cn(t,u),t}function xl(t,e,s,u){var h=e.current,d=Je(),p=rr(h);return s=Lp(s),e.context===null?e.context=s:e.pendingContext=s,e=Ii(d,p),e.payload={element:t},u=u===void 0?null:u,u!==null&&(e.callback=u),t=nr(h,e,p),t!==null&&($n(t,h,p,d),xu(t,h,p)),p}function tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function yf(t,e){qd(t,e),(t=t.alternate)&&qd(t,e)}function by(){return null}var Cp=typeof reportError=="function"?reportError:function(t){console.error(t)};function xf(t){this._internalRoot=t}kl.prototype.render=xf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));xl(t,e,null,null)};kl.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){xl(null,t,null,null)}),e[Ti]=null}};function kl(t){this._internalRoot=t}kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=om();t={blockedOn:null,target:t,priority:e};for(var s=0;s<ji.length&&e!==0&&e<ji[s].priority;s++);ji.splice(s,0,t),s===0&&um(t)}};function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function Zy(t,e,s,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var N=tl(p);d.call(N)}}var p=Tp(e,u,t,0,null,!1,!1,"",Xd);return t._reactRootContainer=p,t[Ti]=p.current,la(t.nodeType===8?t.parentNode:t),Zr(),p}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var v=u;u=function(){var N=tl(k);v.call(N)}}var k=_f(t,0,!1,null,null,!1,!1,"",Xd);return t._reactRootContainer=k,t[Ti]=k.current,la(t.nodeType===8?t.parentNode:t),Zr(function(){xl(e,k,s,u)}),k}function El(t,e,s,u,h){var d=s._reactRootContainer;if(d){var p=d;if(typeof h=="function"){var v=h;h=function(){var k=tl(p);v.call(k)}}xl(e,p,t,h)}else p=Zy(s,e,t,h,u);return tl(p)}rm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Zo(e.pendingLanes);s!==0&&(bc(e,s|1),cn(e,ve()),!(qt&6)&&(Ys=ve()+500,hr()))}break;case 13:Zr(function(){var u=Ci(t,1);if(u!==null){var h=Je();$n(u,t,1,h)}}),yf(t,1)}};Zc=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var s=Je();$n(e,t,134217728,s)}yf(t,134217728)}};sm=function(t){if(t.tag===13){var e=rr(t),s=Ci(t,e);if(s!==null){var u=Je();$n(s,t,e,u)}yf(t,e)}};om=function(){return $t};am=function(t,e){var s=$t;try{return $t=t,e()}finally{$t=s}};bh=function(t,e,s){switch(e){case"input":if(Mh(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var u=s[e];if(u!==t&&u.form===t.form){var h=dl(u);if(!h)throw Error(rt(90));Bg(u),Mh(u,h)}}}break;case"textarea":Zg(t,s);break;case"select":e=s.value,e!=null&&Os(t,!!s.multiple,e,!1)}};Vg=gf;jg=Zr;var Gy={usingClientEntryPoint:!1,Events:[wa,Es,dl,Xg,Hg,gf]},zo={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uy={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kg(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||by,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ll=ou.inject(Uy),ci=ou}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;yn.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(e))throw Error(rt(200));return By(t,e,null,s)};yn.createRoot=function(t,e){if(!kf(t))throw Error(rt(299));var s=!1,u="",h=Cp;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(u=e.identifierPrefix),e.onRecoverableError!==void 0&&(h=e.onRecoverableError)),e=_f(t,1,!1,null,null,s,!1,u,h),t[Ti]=e.current,la(t.nodeType===8?t.parentNode:t),new xf(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=Kg(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Zr(t)};yn.hydrate=function(t,e,s){if(!wl(e))throw Error(rt(200));return El(null,t,e,!0,s)};yn.hydrateRoot=function(t,e,s){if(!kf(t))throw Error(rt(405));var u=s!=null&&s.hydratedSources||null,h=!1,d="",p=Cp;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),e=Tp(e,null,t,1,s??null,h,!1,d,p),t[Ti]=e.current,la(t),u)for(t=0;t<u.length;t++)s=u[t],h=s._getVersion,h=h(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,h]:e.mutableSourceEagerHydrationData.push(s,h);return new kl(e)};yn.render=function(t,e,s){if(!wl(e))throw Error(rt(200));return El(null,t,e,!1,s)};yn.unmountComponentAtNode=function(t){if(!wl(t))throw Error(rt(40));return t._reactRootContainer?(Zr(function(){El(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};yn.unstable_batchedUpdates=gf;yn.unstable_renderSubtreeIntoContainer=function(t,e,s,u){if(!wl(s))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return El(t,e,s,!1,u)};yn.version="18.3.1-next-f1338f8080-20240426";function Pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pp)}catch(t){console.error(t)}}Pp(),Pg.exports=yn;var Op=Pg.exports,Hd=Op;Nh.createRoot=Hd.createRoot,Nh.hydrateRoot=Hd.hydrateRoot;function Mp(t,e){const s=Rt.useRef(e);Rt.useEffect(function(){e!==s.current&&t.attributionControl!=null&&(s.current!=null&&t.attributionControl.removeAttribution(s.current),e!=null&&t.attributionControl.addAttribution(e)),s.current=e},[t,e])}function Yy(t,e,s){e.center!==s.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==s.radius&&t.setRadius(e.radius)}const qy=1;function Xy(t){return Object.freeze({__version:qy,map:t})}function Rp(t,e){return Object.freeze({...t,...e})}const Ap=Rt.createContext(null),Dp=Ap.Provider;function wf(){const t=Rt.useContext(Ap);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Hy(t){function e(s,u){const{instance:h,context:d}=t(s).current;return Rt.useImperativeHandle(u,()=>h),s.children==null?null:Pu.createElement(Dp,{value:d},s.children)}return Rt.forwardRef(e)}function Vy(t){function e(s,u){const[h,d]=Rt.useState(!1),{instance:p}=t(s,d).current;Rt.useImperativeHandle(u,()=>p),Rt.useEffect(function(){h&&p.update()},[p,h,s.children]);const v=p._contentNode;return v?Op.createPortal(s.children,v):null}return Rt.forwardRef(e)}function jy(t){function e(s,u){const{instance:h}=t(s).current;return Rt.useImperativeHandle(u,()=>h),null}return Rt.forwardRef(e)}function Ef(t,e){const s=Rt.useRef();Rt.useEffect(function(){return e!=null&&t.instance.on(e),s.current=e,function(){s.current!=null&&t.instance.off(s.current),s.current=null}},[t,e])}function Sl(t,e){const s=t.pane??e.pane;return s?{...t,pane:s}:t}function Wy(t,e){return function(u,h){const d=wf(),p=t(Sl(u,d),d);return Mp(d.map,u.attribution),Ef(p.current,u.eventHandlers),e(p.current,d,u,h),p}}var _c={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(s,u){u(e)})(Ic,function(s){var u="1.9.4";function h(r){var l,f,m,y;for(f=1,m=arguments.length;f<m;f++){y=arguments[f];for(l in y)r[l]=y[l]}return r}var d=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function p(r,l){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var m=f.call(arguments,2);return function(){return r.apply(l,m.length?m.concat(f.call(arguments)):arguments)}}var v=0;function k(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function N(r,l,f){var m,y,E,D;return D=function(){m=!1,y&&(E.apply(f,y),y=!1)},E=function(){m?y=arguments:(r.apply(f,arguments),setTimeout(D,l),m=!0)},E}function S(r,l,f){var m=l[1],y=l[0],E=m-y;return r===m&&f?r:((r-y)%E+E)%E+y}function I(){return!1}function T(r,l){if(l===!1)return r;var f=Math.pow(10,l===void 0?6:l);return Math.round(r*f)/f}function z(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function M(r){return z(r).split(/\s+/)}function b(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in l)r.options[f]=l[f];return r.options}function $(r,l,f){var m=[];for(var y in r)m.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function C(r,l){return r.replace(A,function(f,m){var y=l[m];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(l)),y})}var O=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Z(r,l){for(var f=0;f<r.length;f++)if(r[f]===l)return f;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var V=0;function W(r){var l=+new Date,f=Math.max(0,16-(l-V));return V=l+f,window.setTimeout(r,f)}var K=window.requestAnimationFrame||X("RequestAnimationFrame")||W,at=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ft(r,l,f){if(f&&K===W)r.call(l);else return K.call(window,p(r,l))}function pt(r){r&&at.call(window,r)}var Bt={__proto__:null,extend:h,create:d,bind:p,get lastId(){return v},stamp:k,throttle:N,wrapNum:S,falseFn:I,formatNum:T,trim:z,splitWords:M,setOptions:b,getParamString:$,template:C,isArray:O,indexOf:Z,emptyImageUrl:U,requestFn:K,cancelFn:at,requestAnimFrame:ft,cancelAnimFrame:pt};function et(){}et.extend=function(r){var l=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,m=d(f);m.constructor=l,l.prototype=m;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return r.statics&&h(l,r.statics),r.includes&&(Nt(r.includes),h.apply(null,[m].concat(r.includes))),h(m,r),delete m.statics,delete m.includes,m.options&&(m.options=f.options?d(f.options):{},h(m.options,r.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,D=m._initHooks.length;E<D;E++)m._initHooks[E].call(this)}},l},et.include=function(r){var l=this.prototype.options;return h(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},et.mergeOptions=function(r){return h(this.prototype.options,r),this},et.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Nt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=O(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var vt={on:function(r,l,f){if(typeof r=="object")for(var m in r)this._on(m,r[m],l);else{r=M(r);for(var y=0,E=r.length;y<E;y++)this._on(r[y],l,f)}return this},off:function(r,l,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var m in r)this._off(m,r[m],l);else{r=M(r);for(var y=arguments.length===1,E=0,D=r.length;E<D;E++)y?this._off(r[E]):this._off(r[E],l,f)}return this},_on:function(r,l,f,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,f)===!1){f===this&&(f=void 0);var y={fn:l,ctx:f};m&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,l,f){var m,y,E;if(this._events&&(m=this._events[r],!!m)){if(arguments.length===1){if(this._firingCount)for(y=0,E=m.length;y<E;y++)m[y].fn=I;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var D=this._listens(r,l,f);if(D!==!1){var q=m[D];this._firingCount&&(q.fn=I,this._events[r]=m=m.slice()),m.splice(D,1)}}},fire:function(r,l,f){if(!this.listens(r,f))return this;var m=h({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var E=0,D=y.length;E<D;E++){var q=y[E],H=q.fn;q.once&&this.off(r,H,q.ctx),H.call(q.ctx||this,m)}this._firingCount--}}return f&&this._propagateEvent(m),this},listens:function(r,l,f,m){typeof r!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(m=!!l,y=void 0,f=void 0);var E=this._events&&this._events[r];if(E&&E.length&&this._listens(r,y,f)!==!1)return!0;if(m){for(var D in this._eventParents)if(this._eventParents[D].listens(r,l,f,m))return!0}return!1},_listens:function(r,l,f){if(!this._events)return!1;var m=this._events[r]||[];if(!l)return!!m.length;f===this&&(f=void 0);for(var y=0,E=m.length;y<E;y++)if(m[y].fn===l&&m[y].ctx===f)return y;return!1},once:function(r,l,f){if(typeof r=="object")for(var m in r)this._on(m,r[m],l,!0);else{r=M(r);for(var y=0,E=r.length;y<E;y++)this._on(r[y],l,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[k(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[k(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,h({layer:r.target,propagatedFrom:r.target},r),!0)}};vt.addEventListener=vt.on,vt.removeEventListener=vt.clearAllEventListeners=vt.off,vt.addOneTimeEventListener=vt.once,vt.fireEvent=vt.fire,vt.hasEventListeners=vt.listens;var Ct=et.extend(vt);function j(r,l,f){this.x=f?Math.round(r):r,this.y=f?Math.round(l):l}var ht=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(r){return this.clone()._add(F(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(F(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new j(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new j(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ht(this.x),this.y=ht(this.y),this},distanceTo:function(r){r=F(r);var l=r.x-this.x,f=r.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(r){return r=F(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=F(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function F(r,l,f){return r instanceof j?r:O(r)?new j(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new j(r.x,r.y):new j(r,l,f)}function nt(r,l){if(r)for(var f=l?[r,l]:r,m=0,y=f.length;m<y;m++)this.extend(f[m])}nt.prototype={extend:function(r){var l,f;if(!r)return this;if(r instanceof j||typeof r[0]=="number"||"x"in r)l=f=F(r);else if(r=ut(r),l=r.min,f=r.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,f;return typeof r[0]=="number"||r instanceof j?r=F(r):r=ut(r),r instanceof nt?(l=r.min,f=r.max):l=f=r,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=ut(r);var l=this.min,f=this.max,m=r.min,y=r.max,E=y.x>=l.x&&m.x<=f.x,D=y.y>=l.y&&m.y<=f.y;return E&&D},overlaps:function(r){r=ut(r);var l=this.min,f=this.max,m=r.min,y=r.max,E=y.x>l.x&&m.x<f.x,D=y.y>l.y&&m.y<f.y;return E&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,f=this.max,m=Math.abs(l.x-f.x)*r,y=Math.abs(l.y-f.y)*r;return ut(F(l.x-m,l.y-y),F(f.x+m,f.y+y))},equals:function(r){return r?(r=ut(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ut(r,l){return!r||r instanceof nt?r:new nt(r,l)}function Et(r,l){if(r)for(var f=l?[r,l]:r,m=0,y=f.length;m<y;m++)this.extend(f[m])}Et.prototype={extend:function(r){var l=this._southWest,f=this._northEast,m,y;if(r instanceof _t)m=r,y=r;else if(r instanceof Et){if(m=r._southWest,y=r._northEast,!m||!y)return this}else return r?this.extend(lt(r)||it(r)):this;return!l&&!f?(this._southWest=new _t(m.lat,m.lng),this._northEast=new _t(y.lat,y.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(r){var l=this._southWest,f=this._northEast,m=Math.abs(l.lat-f.lat)*r,y=Math.abs(l.lng-f.lng)*r;return new Et(new _t(l.lat-m,l.lng-y),new _t(f.lat+m,f.lng+y))},getCenter:function(){return new _t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _t(this.getNorth(),this.getWest())},getSouthEast:function(){return new _t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof _t||"lat"in r?r=lt(r):r=it(r);var l=this._southWest,f=this._northEast,m,y;return r instanceof Et?(m=r.getSouthWest(),y=r.getNorthEast()):m=y=r,m.lat>=l.lat&&y.lat<=f.lat&&m.lng>=l.lng&&y.lng<=f.lng},intersects:function(r){r=it(r);var l=this._southWest,f=this._northEast,m=r.getSouthWest(),y=r.getNorthEast(),E=y.lat>=l.lat&&m.lat<=f.lat,D=y.lng>=l.lng&&m.lng<=f.lng;return E&&D},overlaps:function(r){r=it(r);var l=this._southWest,f=this._northEast,m=r.getSouthWest(),y=r.getNorthEast(),E=y.lat>l.lat&&m.lat<f.lat,D=y.lng>l.lng&&m.lng<f.lng;return E&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=it(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function it(r,l){return r instanceof Et?r:new Et(r,l)}function _t(r,l,f){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,f!==void 0&&(this.alt=+f)}_t.prototype={equals:function(r,l){if(!r)return!1;r=lt(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+T(this.lat,r)+", "+T(this.lng,r)+")"},distanceTo:function(r){return G.distance(this,lt(r))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return it([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new _t(this.lat,this.lng,this.alt)}};function lt(r,l,f){return r instanceof _t?r:O(r)&&typeof r[0]!="object"?r.length===3?new _t(r[0],r[1],r[2]):r.length===2?new _t(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new _t(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new _t(r,l,f)}var zt={latLngToPoint:function(r,l){var f=this.projection.project(r),m=this.scale(l);return this.transformation._transform(f,m)},pointToLatLng:function(r,l){var f=this.scale(l),m=this.transformation.untransform(r,f);return this.projection.unproject(m)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(r),m=this.transformation.transform(l.min,f),y=this.transformation.transform(l.max,f);return new nt(m,y)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?S(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?S(r.lat,this.wrapLat,!0):r.lat,m=r.alt;return new _t(f,l,m)},wrapLatLngBounds:function(r){var l=r.getCenter(),f=this.wrapLatLng(l),m=l.lat-f.lat,y=l.lng-f.lng;if(m===0&&y===0)return r;var E=r.getSouthWest(),D=r.getNorthEast(),q=new _t(E.lat-m,E.lng-y),H=new _t(D.lat-m,D.lng-y);return new Et(q,H)}},G=h({},zt,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var f=Math.PI/180,m=r.lat*f,y=l.lat*f,E=Math.sin((l.lat-r.lat)*f/2),D=Math.sin((l.lng-r.lng)*f/2),q=E*E+Math.cos(m)*Math.cos(y)*D*D,H=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*H}}),me=6378137,At={R:me,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,f=this.MAX_LATITUDE,m=Math.max(Math.min(f,r.lat),-f),y=Math.sin(m*l);return new j(this.R*r.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var l=180/Math.PI;return new _t((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=me*Math.PI;return new nt([-r,-r],[r,r])}()};function ct(r,l,f,m){if(O(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=f,this._d=m}ct.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new j((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function R(r,l,f,m){return new ct(r,l,f,m)}var Kt=h({},G,{code:"EPSG:3857",projection:At,transformation:function(){var r=.5/(Math.PI*At.R);return R(r,.5,-r,.5)}()}),Ne=h({},Kt,{code:"EPSG:900913"});function se(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ae(r,l){var f="",m,y,E,D,q,H;for(m=0,E=r.length;m<E;m++){for(q=r[m],y=0,D=q.length;y<D;y++)H=q[y],f+=(y?"L":"M")+H.x+" "+H.y;f+=l?yt.svg?"z":"x":""}return f||"M0 0"}var xe=document.documentElement.style,Ve="ActiveXObject"in window,tt=Ve&&!document.addEventListener,fr="msLaunchUri"in navigator&&!("documentMode"in document),Mi=Ie("webkit"),kn=Ie("android"),qr=Ie("android 2")||Ie("android 3"),Tt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qn=kn&&Ie("Google")&&Tt<537&&!("AudioNode"in window),wn=!!window.opera,Xr=!fr&&Ie("chrome"),St=Ie("gecko")&&!Mi&&!wn&&!Ve,Qs=!Xr&&Ie("safari"),bt=Ie("phantom"),It="OTransition"in xe,Tl=navigator.platform.indexOf("Win")===0,En=Ve&&"transition"in xe,Js="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qr,kt="MozPerspective"in xe,Cl=!window.L_DISABLE_3D&&(En||Js||kt)&&!It&&!bt,dr=typeof orientation<"u"||Ie("mobile"),to=dr&&Mi,nn=dr&&Js,Ri=!window.PointerEvent&&window.MSPointerEvent,fn=!!(window.PointerEvent||Ri),eo="ontouchstart"in window||!!window.TouchEvent,Hr=!window.L_NO_TOUCH&&(eo||fn),Pl=dr&&wn,Sa=dr&&St,gi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,st=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",I,l),window.removeEventListener("testPassiveEventSupport",I,l)}catch{}return r}(),Vr=function(){return!!document.createElement("canvas").getContext}(),Ai=!!(document.createElementNS&&se("svg").createSVGRect),gr=!!Ai&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Na=!Ai&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),no=navigator.platform.indexOf("Mac")===0,Ia=navigator.platform.indexOf("Linux")===0;function Ie(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var yt={ie:Ve,ielt9:tt,edge:fr,webkit:Mi,android:kn,android23:qr,androidStock:Qn,opera:wn,chrome:Xr,gecko:St,safari:Qs,phantom:bt,opera12:It,win:Tl,ie3d:En,webkit3d:Js,gecko3d:kt,any3d:Cl,mobile:dr,mobileWebkit:to,mobileWebkit3d:nn,msPointer:Ri,pointer:fn,touch:Hr,touchNative:eo,mobileOpera:Pl,mobileGecko:Sa,retina:gi,passiveEvents:st,canvas:Vr,svg:Ai,vml:Na,inlineSvg:gr,mac:no,linux:Ia},mr=yt.msPointer?"MSPointerDown":"pointerdown",La=yt.msPointer?"MSPointerMove":"pointermove",io=yt.msPointer?"MSPointerUp":"pointerup",Ta=yt.msPointer?"MSPointerCancel":"pointercancel",De={touchstart:mr,touchmove:La,touchend:io,touchcancel:Ta},jr={touchstart:Kr,touchmove:$r,touchend:$r,touchcancel:$r},Sn={},Jn=!1;function mi(r,l,f){return l==="touchstart"&&Ol(),jr[l]?(f=jr[l].bind(this,f),r.addEventListener(De[l],f,!1),f):(console.warn("wrong event specified:",l),I)}function ro(r,l,f){if(!De[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(De[l],f,!1)}function Wr(r){Sn[r.pointerId]=r}function pr(r){Sn[r.pointerId]&&(Sn[r.pointerId]=r)}function fe(r){delete Sn[r.pointerId]}function Ol(){Jn||(document.addEventListener(mr,Wr,!0),document.addEventListener(La,pr,!0),document.addEventListener(io,fe,!0),document.addEventListener(Ta,fe,!0),Jn=!0)}function $r(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in Sn)l.touches.push(Sn[f]);l.changedTouches=[l],r(l)}}function Kr(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&oe(l),$r(r,l)}function vr(r){var l={},f,m;for(m in r)f=r[m],l[m]=f&&f.bind?f.bind(r):f;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var so=200;function oo(r,l){r.addEventListener("dblclick",l);var f=0,m;function y(E){if(E.detail!==1){m=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var D=Te(E);if(!(D.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!D.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var q=Date.now();q-f<=so?(m++,m===2&&l(vr(E))):m=1,f=q}}}return r.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Ca(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var ao=es(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ze=es(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pi=ze==="webkitTransition"||ze==="OTransition"?ze+"End":"transitionend";function Qr(r){return typeof r=="string"?document.getElementById(r):r}function Nn(r,l){var f=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(r,null);f=m?m[l]:null}return f==="auto"?null:f}function Gt(r,l,f){var m=document.createElement(r);return m.className=l||"",f&&f.appendChild(m),m}function te(r){var l=r.parentNode;l&&l.removeChild(r)}function Jr(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Di(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function vi(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function ts(r,l){if(r.classList!==void 0)return r.classList.contains(l);var f=_r(r);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Pt(r,l){if(r.classList!==void 0)for(var f=M(l),m=0,y=f.length;m<y;m++)r.classList.add(f[m]);else if(!ts(r,l)){var E=_r(r);In(r,(E?E+" ":"")+l)}}function Ht(r,l){r.classList!==void 0?r.classList.remove(l):In(r,z((" "+_r(r)+" ").replace(" "+l+" "," ")))}function In(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function _r(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function ke(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Ml(r,l)}function Ml(r,l){var f=!1,m="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):r.style.filter+=" progid:"+m+"(opacity="+l+")"}function es(r){for(var l=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in l)return r[f];return!1}function _i(r,l,f){var m=l||new j(0,0);r.style[ao]=(yt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(f?" scale("+f+")":"")}function de(r,l){r._leaflet_pos=l,yt.any3d?_i(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function ti(r){return r._leaflet_pos||new j(0,0)}var Gn,zi,uo;if("onselectstart"in document)Gn=function(){Ot(window,"selectstart",oe)},zi=function(){jt(window,"selectstart",oe)};else{var Fi=es(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gn=function(){if(Fi){var r=document.documentElement.style;uo=r[Fi],r[Fi]="none"}},zi=function(){Fi&&(document.documentElement.style[Fi]=uo,uo=void 0)}}function lo(){Ot(window,"dragstart",oe)}function yr(){jt(window,"dragstart",oe)}var Vt,Un;function ho(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Bi(),Vt=r,Un=r.style.outlineStyle,r.style.outlineStyle="none",Ot(window,"keydown",Bi))}function Bi(){Vt&&(Vt.style.outlineStyle=Un,Vt=void 0,Un=void 0,jt(window,"keydown",Bi))}function je(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ue(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var ns={__proto__:null,TRANSFORM:ao,TRANSITION:ze,TRANSITION_END:pi,get:Qr,getStyle:Nn,create:Gt,remove:te,empty:Jr,toFront:Di,toBack:vi,hasClass:ts,addClass:Pt,removeClass:Ht,setClass:In,getClass:_r,setOpacity:ke,testProp:es,setTransform:_i,setPosition:de,getPosition:ti,get disableTextSelection(){return Gn},get enableTextSelection(){return zi},disableImageDrag:lo,enableImageDrag:yr,preventOutline:ho,restoreOutline:Bi,getSizedParentNode:je,getScale:Ue};function Ot(r,l,f,m){if(l&&typeof l=="object")for(var y in l)is(r,y,l[y],f);else{l=M(l);for(var E=0,D=l.length;E<D;E++)is(r,l[E],f,m)}return this}var Ln="_leaflet_events";function jt(r,l,f,m){if(arguments.length===1)xr(r),delete r[Ln];else if(l&&typeof l=="object")for(var y in l)Yt(r,y,l[y],f);else if(l=M(l),arguments.length===2)xr(r,function(q){return Z(l,q)!==-1});else for(var E=0,D=l.length;E<D;E++)Yt(r,l[E],f,m);return this}function xr(r,l){for(var f in r[Ln]){var m=f.split(/\d/)[0];(!l||l(m))&&Yt(r,m,null,null,f)}}var co={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function is(r,l,f,m){var y=l+k(f)+(m?"_"+k(m):"");if(r[Ln]&&r[Ln][y])return this;var E=function(q){return f.call(m||r,q||window.event)},D=E;!yt.touchNative&&yt.pointer&&l.indexOf("touch")===0?E=mi(r,l,E):yt.touch&&l==="dblclick"?E=oo(r,E):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(co[l]||l,E,yt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(E=function(q){q=q||window.event,rs(r,q)&&D(q)},r.addEventListener(co[l],E,!1)):r.addEventListener(l,D,!1):r.attachEvent("on"+l,E),r[Ln]=r[Ln]||{},r[Ln][y]=E}function Yt(r,l,f,m,y){y=y||l+k(f)+(m?"_"+k(m):"");var E=r[Ln]&&r[Ln][y];if(!E)return this;!yt.touchNative&&yt.pointer&&l.indexOf("touch")===0?ro(r,l,E):yt.touch&&l==="dblclick"?Ca(r,E):"removeEventListener"in r?r.removeEventListener(co[l]||l,E,!1):r.detachEvent("on"+l,E),r[Ln][y]=null}function Le(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function kr(r){return is(r,"wheel",Le),this}function bi(r){return Ot(r,"mousedown touchstart dblclick contextmenu",Le),r._leaflet_disable_click=!0,this}function oe(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ei(r){return oe(r),Le(r),this}function Te(r){if(r.composedPath)return r.composedPath();for(var l=[],f=r.target;f;)l.push(f),f=f.parentNode;return l}function fo(r,l){if(!l)return new j(r.clientX,r.clientY);var f=Ue(l),m=f.boundingClientRect;return new j((r.clientX-m.left)/f.x-l.clientLeft,(r.clientY-m.top)/f.y-l.clientTop)}var go=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mo(r){return yt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/go:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function rs(r,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Rl={__proto__:null,on:Ot,off:jt,stopPropagation:Le,disableScrollPropagation:kr,disableClickPropagation:bi,preventDefault:oe,stop:ei,getPropagationPath:Te,getMousePosition:fo,getWheelDelta:mo,isExternalTarget:rs,addListener:Ot,removeListener:jt},po=Ct.extend({run:function(r,l,f,m){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ti(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var f=this._startPos.add(this._offset.multiplyBy(r));l&&f._round(),de(this._el,f),this.fire("step")},_complete:function(){pt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Mt=Ct.extend({options:{crs:Kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=b(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(lt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ze&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,pi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(lt(r),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=h({animate:f.animate},f.zoom),f.pan=h({animate:f.animate,duration:f.duration},f.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,f.zoom):this._tryAnimatedPan(r,f.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,f){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),E=r instanceof j?r:this.latLngToContainerPoint(r),D=E.subtract(y).multiplyBy(1-1/m),q=this.containerPointToLatLng(y.add(D));return this.setView(q,l,{zoom:f})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():it(r);var f=F(l.paddingTopLeft||l.padding||[0,0]),m=F(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(r,!1,f.add(m));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var E=m.subtract(f).divideBy(2),D=this.project(r.getSouthWest(),y),q=this.project(r.getNorthEast(),y),H=this.unproject(D.add(q).divideBy(2).add(E),y);return{center:H,zoom:y}},fitBounds:function(r,l){if(r=it(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=F(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new po,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,f){if(f=f||{},f.animate===!1||!yt.any3d)return this.setView(r,l,f);this._stop();var m=this.project(this.getCenter()),y=this.project(r),E=this.getSize(),D=this._zoom;r=lt(r),l=l===void 0?D:l;var q=Math.max(E.x,E.y),H=q*this.getZoomScale(D,l),J=y.distanceTo(m)||1,dt=1.42,Lt=dt*dt;function Ft(_e){var Ya=_e?-1:1,gv=_e?H:q,mv=H*H-q*q+Ya*Lt*Lt*J*J,pv=2*gv*Lt*J,Xl=mv/pv,Ff=Math.sqrt(Xl*Xl+1)-Xl,vv=Ff<1e-9?-18:Math.log(Ff);return vv}function Ke(_e){return(Math.exp(_e)-Math.exp(-_e))/2}function Pe(_e){return(Math.exp(_e)+Math.exp(-_e))/2}function Rn(_e){return Ke(_e)/Pe(_e)}var sn=Ft(0);function gs(_e){return q*(Pe(sn)/Pe(sn+dt*_e))}function hv(_e){return q*(Pe(sn)*Rn(sn+dt*_e)-Ke(sn))/Lt}function cv(_e){return 1-Math.pow(1-_e,1.5)}var fv=Date.now(),Df=(Ft(1)-sn)/dt,dv=f.duration?1e3*f.duration:1e3*Df*.8;function zf(){var _e=(Date.now()-fv)/dv,Ya=cv(_e)*Df;_e<=1?(this._flyToFrame=ft(zf,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(hv(Ya)/J)),D),this.getScaleZoom(q/gs(Ya),D),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),zf.call(this),this},flyToBounds:function(r,l){var f=this._getBoundsCenterZoom(r,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(r){return r=it(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var f=this.getCenter(),m=this._limitCenter(f,this._zoom,it(r));return f.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var f=F(l.paddingTopLeft||l.padding||[0,0]),m=F(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),E=this.project(r),D=this.getPixelBounds(),q=ut([D.min.add(f),D.max.subtract(m)]),H=q.getSize();if(!q.contains(E)){this._enforcingBounds=!0;var J=E.subtract(q.getCenter()),dt=q.extend(E).getSize().subtract(H);y.x+=J.x<0?-dt.x:dt.x,y.y+=J.y<0?-dt.y:dt.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=h({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),m=l.divideBy(2).round(),y=f.divideBy(2).round(),E=m.subtract(y);return!E.x&&!E.y?this:(r.animate&&r.pan?this.panBy(E):(r.pan&&this._rawPanBy(E),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=h({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=p(this._handleGeolocationResponse,this),f=p(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,r):navigator.geolocation.getCurrentPosition(l,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,f=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,f=r.coords.longitude,m=new _t(l,f),y=m.toBounds(r.coords.accuracy*2),E=this._locateOptions;if(E.setView){var D=this.getBoundsZoom(y);this.setView(m,E.maxZoom?Math.min(D,E.maxZoom):D)}var q={latlng:m,bounds:y,timestamp:r.timestamp};for(var H in r.coords)typeof r.coords[H]=="number"&&(q[H]=r.coords[H]);this.fire("locationfound",q)}},addHandler:function(r,l){if(!l)return this;var f=this[r]=new l(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)te(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),m=Gt("div",f,l||this._mapPane);return r&&(this._panes[r]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new Et(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,f){r=it(r),f=F(f||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),E=this.getMaxZoom(),D=r.getNorthWest(),q=r.getSouthEast(),H=this.getSize().subtract(f),J=ut(this.project(q,m),this.project(D,m)).getSize(),dt=yt.any3d?this.options.zoomSnap:1,Lt=H.x/J.x,Ft=H.y/J.y,Ke=l?Math.max(Lt,Ft):Math.min(Lt,Ft);return m=this.getScaleZoom(Ke,m),dt&&(m=Math.round(m/(dt/100))*(dt/100),m=l?Math.ceil(m/dt)*dt:Math.floor(m/dt)*dt),Math.max(y,Math.min(E,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var f=this._getTopLeftPoint(r,l);return new nt(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(r)/f.scale(l)},getScaleZoom:function(r,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var m=f.zoom(r*f.scale(l));return isNaN(m)?1/0:m},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(lt(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(F(r),l)},layerPointToLatLng:function(r){var l=F(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(lt(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(lt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(it(r))},distance:function(r,l){return this.options.crs.distance(lt(r),lt(l))},containerPointToLayerPoint:function(r){return F(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return F(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(F(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(lt(r)))},mouseEventToContainerPoint:function(r){return fo(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Qr(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(l,"scroll",this._onScroll,this),this._containerId=k(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Pt(r,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Nn(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),de(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(r.markerPane,"leaflet-zoom-hide"),Pt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,f){de(this._mapPane,new j(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,f)._move(r,l)._moveEnd(y),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,f,m){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),m?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){de(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[k(this._container)]=this;var l=r?jt:Ot;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pt(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var f=[],m,y=l==="mouseout"||l==="mouseover",E=r.target||r.srcElement,D=!1;E;){if(m=this._targets[k(E)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){D=!0;break}if(m&&m.listens(l,!0)&&(y&&!rs(E,r)||(f.push(m),y))||E===this._container)break;E=E.parentNode}return!f.length&&!D&&!y&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var f=r.type;f==="mousedown"&&ho(l),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,f){if(r.type==="click"){var m=h({},r);m.type="preclick",this._fireDOMEvent(m,m.type,f)}var y=this._findEventTargets(r,l);if(f){for(var E=[],D=0;D<f.length;D++)f[D].listens(l,!0)&&E.push(f[D]);y=E.concat(y)}if(y.length){l==="contextmenu"&&oe(r);var q=y[0],H={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var J=q.getLatLng&&(!q._radius||q._radius<=10);H.containerPoint=J?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(r),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=J?q.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(D=0;D<y.length;D++)if(y[D].fire(l,H,!0),H.originalEvent._stopped||y[D].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return ti(this._mapPane)||new j(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var f=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var f=this.getSize()._divideBy(2);return this.project(r,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,f){var m=this._getNewPixelOrigin(f,l);return this.project(r,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(r,l,f){var m=this._getNewPixelOrigin(f,l);return ut([this.project(r.getSouthWest(),l)._subtract(m),this.project(r.getNorthWest(),l)._subtract(m),this.project(r.getSouthEast(),l)._subtract(m),this.project(r.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,f){if(!f)return r;var m=this.project(r,l),y=this.getSize().divideBy(2),E=new nt(m.subtract(y),m.add(y)),D=this._getBoundsOffset(E,f,l);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?r:this.unproject(m.add(D),l)},_limitOffset:function(r,l){if(!l)return r;var f=this.getPixelBounds(),m=new nt(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(r,l,f){var m=ut(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),y=m.min.subtract(r.min),E=m.max.subtract(r.max),D=this._rebound(y.x,-E.x),q=this._rebound(y.y,-E.y);return new j(D,q)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),f=this.getMaxZoom(),m=yt.any3d?this.options.zoomSnap:1;return m&&(r=Math.round(r/m)*m),Math.max(l,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var f=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var r=this._proxy=Gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var f=ao,m=this._proxy.style[f];_i(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();_i(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(r)._divideBy(1-1/m);return f.animate!==!0&&!this.getSize().contains(y)?!1:(ft(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,f,m){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ss(r,l){return new Mt(r,l)}var dn=et.extend({options:{position:"topright"},initialize:function(r){b(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),f=this.getPosition(),m=r._controlCorners[f];return Pt(l,"leaflet-control"),f.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ce=function(r){return new dn(r)};Mt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",f=this._controlContainer=Gt("div",l+"control-container",this._container);function m(y,E){var D=l+y+" "+l+E;r[y+E]=Gt("div",D,f)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)te(this._controlCorners[r]);te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yi=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,f,m){return f<m?-1:m<f?1:0}},initialize:function(r,l,f){b(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in r)this._addLayer(r[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return dn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(k(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=Gt("div",r),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),bi(l),kr(l);var m=this._section=Gt("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Ot(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Gt("a",r+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),Ot(y,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){oe(E),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Gt("div",r+"-base",m),this._separator=Gt("div",r+"-separator",m),this._overlaysList=Gt("div",r+"-overlays",m),l.appendChild(m)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&k(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(p(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jr(this._baseLayersList),Jr(this._overlaysList),this._layerControlInputs=[];var r,l,f,m,y=0;for(f=0;f<this._layers.length;f++)m=this._layers[f],this._addItem(m),l=l||m.overlay,r=r||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(k(r.target)),f=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(r,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=f,m.firstChild},_addItem:function(r){var l=document.createElement("label"),f=this._map.hasLayer(r.layer),m;r.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=f):m=this._createRadioElement("leaflet-base-layers_"+k(this),f),this._layerControlInputs.push(m),m.layerId=k(r.layer),Ot(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var E=document.createElement("span");l.appendChild(E),E.appendChild(m),E.appendChild(y);var D=r.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,f,m=[],y=[];this._handlingClick=!0;for(var E=r.length-1;E>=0;E--)l=r[E],f=this._getLayer(l.layerId).layer,l.checked?m.push(f):l.checked||y.push(f);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])&&this._map.removeLayer(y[E]);for(E=0;E<m.length;E++)this._map.hasLayer(m[E])||this._map.addLayer(m[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,f,m=this._map.getZoom(),y=r.length-1;y>=0;y--)l=r[y],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&m<f.options.minZoom||f.options.maxZoom!==void 0&&m>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Ot(r,"click",oe),this.expand();var l=this;setTimeout(function(){jt(r,"click",oe),l._preventClick=!1})}}),Al=function(r,l,f){return new yi(r,l,f)},ni=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",f=Gt("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,f,m,y){var E=Gt("a",f,m);return E.innerHTML=r,E.href="#",E.title=l,E.setAttribute("role","button"),E.setAttribute("aria-label",l),bi(E),Ot(E,"click",ei),Ot(E,"click",y,this),Ot(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Ht(this._zoomInButton,l),Ht(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Pt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Pt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ni,this.addControl(this.zoomControl))});var Pa=function(r){return new ni(r)},xi=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",f=Gt("div",l),m=this.options;return this._addScales(m,l+"-line",f),r.on(m.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,f){r.metric&&(this._mScale=Gt("div",l,f)),r.imperial&&(this._iScale=Gt("div",l,f))},_update:function(){var r=this._map,l=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/r)},_updateImperial:function(r){var l=r*3.2808399,f,m,y;l>5280?(f=l/5280,m=this._getRoundNum(f),this._updateScale(this._iScale,m+" mi",m/f)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(r,l,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),f=r/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),Dl=function(r){return new xi(r)},Tn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',os=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?Tn+" ":"")+"Leaflet</a>"},initialize:function(r){b(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Gt("div","leaflet-control-attribution"),bi(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new os().addTo(this)});var zl=function(r){return new os(r)};dn.Layers=yi,dn.Zoom=ni,dn.Scale=xi,dn.Attribution=os,Ce.layers=Al,Ce.zoom=Pa,Ce.scale=Dl,Ce.attribution=zl;var Cn=et.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(r,l){return r.addHandler(l,this),this};var Fl={Events:vt},Oa=yt.touch?"touchstart mousedown":"mousedown",ii=Ct.extend({options:{clickTolerance:3},initialize:function(r,l,f,m){b(this,m),this._element=r,this._dragStartTarget=l||r,this._preventOutline=f},enable:function(){this._enabled||(Ot(this._dragStartTarget,Oa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Oa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!ts(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ii._dragging===this&&this.finishDrag();return}if(!(ii._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ii._dragging=this,this._preventOutline&&ho(this._element),lo(),Gn(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,f=je(this._element);this._startPoint=new j(l.clientX,l.clientY),this._startPos=ti(this._element),this._parentScale=Ue(f);var m=r.type==="mousedown";Ot(document,m?"mousemove":"touchmove",this._onMove,this),Ot(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,f=new j(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,oe(r),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),de(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),yr(),zi();var l=this._moved&&this._moving;this._moving=!1,ii._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Ma(r,l,f){var m,y=[1,4,2,8],E,D,q,H,J,dt,Lt,Ft;for(E=0,dt=r.length;E<dt;E++)r[E]._code=pe(r[E],l);for(q=0;q<4;q++){for(Lt=y[q],m=[],E=0,dt=r.length,D=dt-1;E<dt;D=E++)H=r[E],J=r[D],H._code&Lt?J._code&Lt||(Ft=wr(J,H,Lt,l,f),Ft._code=pe(Ft,l),m.push(Ft)):(J._code&Lt&&(Ft=wr(J,H,Lt,l,f),Ft._code=pe(Ft,l),m.push(Ft)),m.push(H));r=m}return r}function Ra(r,l){var f,m,y,E,D,q,H,J,dt;if(!r||r.length===0)throw new Error("latlngs not passed");$e(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Lt=lt([0,0]),Ft=it(r),Ke=Ft.getNorthWest().distanceTo(Ft.getSouthWest())*Ft.getNorthEast().distanceTo(Ft.getNorthWest());Ke<1700&&(Lt=Yn(r));var Pe=r.length,Rn=[];for(f=0;f<Pe;f++){var sn=lt(r[f]);Rn.push(l.project(lt([sn.lat-Lt.lat,sn.lng-Lt.lng])))}for(q=H=J=0,f=0,m=Pe-1;f<Pe;m=f++)y=Rn[f],E=Rn[m],D=y.y*E.x-E.y*y.x,H+=(y.x+E.x)*D,J+=(y.y+E.y)*D,q+=D*3;q===0?dt=Rn[0]:dt=[H/q,J/q];var gs=l.unproject(F(dt));return lt([gs.lat+Lt.lat,gs.lng+Lt.lng])}function Yn(r){for(var l=0,f=0,m=0,y=0;y<r.length;y++){var E=lt(r[y]);l+=E.lat,f+=E.lng,m++}return lt([l/m,f/m])}var We={__proto__:null,clipPolygon:Ma,polygonCenter:Ra,centroid:Yn};function Aa(r,l){if(!l||!r.length)return r.slice();var f=l*l;return r=yo(r,f),r=_o(r,f),r}function vo(r,l,f){return Math.sqrt(Sr(r,l,f,!0))}function Bl(r,l,f){return Sr(r,l,f)}function _o(r,l){var f=r.length,m=typeof Uint8Array<"u"?Uint8Array:Array,y=new m(f);y[0]=y[f-1]=1,as(r,y,l,0,f-1);var E,D=[];for(E=0;E<f;E++)y[E]&&D.push(r[E]);return D}function as(r,l,f,m,y){var E=0,D,q,H;for(q=m+1;q<=y-1;q++)H=Sr(r[q],r[m],r[y],!0),H>E&&(D=q,E=H);E>f&&(l[D]=1,as(r,l,f,m,D),as(r,l,f,D,y))}function yo(r,l){for(var f=[r[0]],m=1,y=0,E=r.length;m<E;m++)Er(r[m],r[y])>l&&(f.push(r[m]),y=m);return y<E-1&&f.push(r[E-1]),f}var xo;function rn(r,l,f,m,y){var E=m?xo:pe(r,f),D=pe(l,f),q,H,J;for(xo=D;;){if(!(E|D))return[r,l];if(E&D)return!1;q=E||D,H=wr(r,l,q,f,y),J=pe(H,f),q===E?(r=H,E=J):(l=H,D=J)}}function wr(r,l,f,m,y){var E=l.x-r.x,D=l.y-r.y,q=m.min,H=m.max,J,dt;return f&8?(J=r.x+E*(H.y-r.y)/D,dt=H.y):f&4?(J=r.x+E*(q.y-r.y)/D,dt=q.y):f&2?(J=H.x,dt=r.y+D*(H.x-r.x)/E):f&1&&(J=q.x,dt=r.y+D*(q.x-r.x)/E),new j(J,dt,y)}function pe(r,l){var f=0;return r.x<l.min.x?f|=1:r.x>l.max.x&&(f|=2),r.y<l.min.y?f|=4:r.y>l.max.y&&(f|=8),f}function Er(r,l){var f=l.x-r.x,m=l.y-r.y;return f*f+m*m}function Sr(r,l,f,m){var y=l.x,E=l.y,D=f.x-y,q=f.y-E,H=D*D+q*q,J;return H>0&&(J=((r.x-y)*D+(r.y-E)*q)/H,J>1?(y=f.x,E=f.y):J>0&&(y+=D*J,E+=q*J)),D=r.x-y,q=r.y-E,m?D*D+q*q:new j(y,E)}function $e(r){return!O(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function ko(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$e(r)}function wo(r,l){var f,m,y,E,D,q,H,J;if(!r||r.length===0)throw new Error("latlngs not passed");$e(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var dt=lt([0,0]),Lt=it(r),Ft=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Ft<1700&&(dt=Yn(r));var Ke=r.length,Pe=[];for(f=0;f<Ke;f++){var Rn=lt(r[f]);Pe.push(l.project(lt([Rn.lat-dt.lat,Rn.lng-dt.lng])))}for(f=0,m=0;f<Ke-1;f++)m+=Pe[f].distanceTo(Pe[f+1])/2;if(m===0)J=Pe[0];else for(f=0,E=0;f<Ke-1;f++)if(D=Pe[f],q=Pe[f+1],y=D.distanceTo(q),E+=y,E>m){H=(E-m)/y,J=[q.x-H*(q.x-D.x),q.y-H*(q.y-D.y)];break}var sn=l.unproject(F(J));return lt([sn.lat+dt.lat,sn.lng+dt.lng])}var Eo={__proto__:null,simplify:Aa,pointToSegmentDistance:vo,closestPointOnSegment:Bl,clipSegment:rn,_getEdgeIntersection:wr,_getBitCode:pe,_sqClosestPointOnSegment:Sr,isFlat:$e,_flat:ko,polylineCenter:wo},So={project:function(r){return new j(r.lng,r.lat)},unproject:function(r){return new _t(r.y,r.x)},bounds:new nt([-180,-90],[180,90])},No={R:6378137,R_MINOR:6356752314245179e-9,bounds:new nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,f=this.R,m=r.lat*l,y=this.R_MINOR/f,E=Math.sqrt(1-y*y),D=E*Math.sin(m),q=Math.tan(Math.PI/4-m/2)/Math.pow((1-D)/(1+D),E/2);return m=-f*Math.log(Math.max(q,1e-10)),new j(r.lng*l*f,m)},unproject:function(r){for(var l=180/Math.PI,f=this.R,m=this.R_MINOR/f,y=Math.sqrt(1-m*m),E=Math.exp(-r.y/f),D=Math.PI/2-2*Math.atan(E),q=0,H=.1,J;q<15&&Math.abs(H)>1e-7;q++)J=y*Math.sin(D),J=Math.pow((1-J)/(1+J),y/2),H=Math.PI/2-2*Math.atan(E*J)-D,D+=H;return new _t(D*l,r.x*l/f)}},bl={__proto__:null,LonLat:So,Mercator:No,SphericalMercator:At},Zl=h({},G,{code:"EPSG:3395",projection:No,transformation:function(){var r=.5/(Math.PI*No.R);return R(r,.5,-r,.5)}()}),Da=h({},G,{code:"EPSG:4326",projection:So,transformation:R(1/180,1,-1/180,.5)}),Gl=h({},zt,{projection:So,transformation:R(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var f=l.lng-r.lng,m=l.lat-r.lat;return Math.sqrt(f*f+m*m)},infinite:!0});zt.Earth=G,zt.EPSG3395=Zl,zt.EPSG3857=Kt,zt.EPSG900913=Ne,zt.EPSG4326=Da,zt.Simple=Gl;var gn=Ct.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[k(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[k(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=k(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=k(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return k(r)in this._layers},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},_addLayers:function(r){r=r?O(r)?r:[r]:[];for(var l=0,f=r.length;l<f;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[k(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=k(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,f=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zi=gn.extend({initialize:function(r,l){b(this,l),this._layers={};var f,m;if(r)for(f=0,m=r.length;f<m;f++)this.addLayer(r[f])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),f,m;for(f in this._layers)m=this._layers[f],m[r]&&m[r].apply(m,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return k(r)}}),za=function(r,l){return new Zi(r,l)},qn=Zi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Zi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Zi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Et;for(var l in this._layers){var f=this._layers[l];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),Fa=function(r,l){return new qn(r,l)},Gi=et.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){b(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(r,l){var f=this.options,m=f[l+"Size"];typeof m=="number"&&(m=[m,m]);var y=F(m),E=F(l==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(f.className||""),E&&(r.style.marginLeft=-E.x+"px",r.style.marginTop=-E.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return yt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ul(r){return new Gi(r)}var Nr=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Nr.imagePath!="string"&&(Nr.imagePath=this._detectIconPath()),(this.options.imagePath||Nr.imagePath)+Gi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(f,m,y){var E=m.exec(f);return E&&E[y]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Gt("div","leaflet-default-icon-path",document.body),l=Nn(r,"background-image")||Nn(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ba=Cn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ii(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,f=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,E=ti(l._icon),D=f.getPixelBounds(),q=f.getPixelOrigin(),H=ut(D.min._subtract(q).add(y),D.max._subtract(q).subtract(y));if(!H.contains(E)){var J=F((Math.max(H.max.x,E.x)-H.max.x)/(D.max.x-H.max.x)-(Math.min(H.min.x,E.x)-H.min.x)/(D.min.x-H.min.x),(Math.max(H.max.y,E.y)-H.max.y)/(D.max.y-H.max.y)-(Math.min(H.min.y,E.y)-H.min.y)/(D.min.y-H.min.y)).multiplyBy(m);f.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),de(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ft(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(pt(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,f=l._shadow,m=ti(l._icon),y=l._map.layerPointToLatLng(m);f&&de(f,m),l._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){pt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),us=gn.extend({options:{icon:new Nr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){b(this,l),this._latlng=lt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=lt(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),m=!1;f!==this._icon&&(this._icon&&this._removeIcon(),m=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Pt(f,l),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(f,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),E=!1;y!==this._shadow&&(this._removeShadow(),E=!0),y&&(Pt(y,l),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&E&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&te(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&de(this._icon,r),this._shadow&&de(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ba)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ba(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&ke(this._icon,r),this._shadow&&ke(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,f=l.iconSize?F(l.iconSize):F(0,0),m=l.iconAnchor?F(l.iconAnchor):F(0,0);r.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:f.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yl(r,l){return new us(r,l)}var ri=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return b(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ir=ri.extend({options:{fill:!0,radius:10},initialize:function(r,l){b(this,l),this._latlng=lt(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=lt(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return ri.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,f=this._clickTolerance(),m=[r+f,l+f];this._pxBounds=new nt(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ba(r,l){return new Ir(r,l)}var ls=Ir.extend({initialize:function(r,l,f){if(typeof l=="number"&&(l=h({},f,{radius:l})),b(this,l),this._latlng=lt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Et(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ri.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,f=this._map,m=f.options.crs;if(m.distance===G.distance){var y=Math.PI/180,E=this._mRadius/G.R/y,D=f.project([l+E,r]),q=f.project([l-E,r]),H=D.add(q).divideBy(2),J=f.unproject(H).lat,dt=Math.acos((Math.cos(E*y)-Math.sin(l*y)*Math.sin(J*y))/(Math.cos(l*y)*Math.cos(J*y)))/y;(isNaN(dt)||dt===0)&&(dt=E/Math.cos(Math.PI/180*l)),this._point=H.subtract(f.getPixelOrigin()),this._radius=isNaN(dt)?0:H.x-f.project([J,r-dt]).x,this._radiusY=H.y-D.y}else{var Lt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Lt).x}this._updateBounds()}});function ql(r,l,f){return new ls(r,l,f)}var Pn=ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){b(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,f=null,m=Sr,y,E,D=0,q=this._parts.length;D<q;D++)for(var H=this._parts[D],J=1,dt=H.length;J<dt;J++){y=H[J-1],E=H[J];var Lt=m(r,y,E,!0);Lt<l&&(l=Lt,f=m(r,y,E))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=lt(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Et,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return $e(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],f=$e(r),m=0,y=r.length;m<y;m++)f?(l[m]=lt(r[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(r[m]);return l},_project:function(){var r=new nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new j(r,r);this._rawPxBounds&&(this._pxBounds=new nt([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,f){var m=r[0]instanceof _t,y=r.length,E,D;if(m){for(D=[],E=0;E<y;E++)D[E]=this._map.latLngToLayerPoint(r[E]),f.extend(D[E]);l.push(D)}else for(E=0;E<y;E++)this._projectLatlngs(r[E],l,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,m,y,E,D,q,H;for(f=0,y=0,E=this._rings.length;f<E;f++)for(H=this._rings[f],m=0,D=H.length;m<D-1;m++)q=rn(H[m],H[m+1],r,m,!0),q&&(l[y]=l[y]||[],l[y].push(q[0]),(q[1]!==H[m+1]||m===D-2)&&(l[y].push(q[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,f=0,m=r.length;f<m;f++)r[f]=Aa(r[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var f,m,y,E,D,q,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,E=this._parts.length;f<E;f++)for(q=this._parts[f],m=0,D=q.length,y=D-1;m<D;y=m++)if(!(!l&&m===0)&&vo(r,q[y],q[m])<=H)return!0;return!1}});function Io(r,l){return new Pn(r,l)}Pn._flat=ko;var Ui=Pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ra(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Pn.prototype._convertLatLngs.call(this,r),f=l.length;return f>=2&&l[0]instanceof _t&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(r){Pn.prototype._setLatLngs.call(this,r),$e(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $e(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,f=new j(l,l);if(r=new nt(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,y=this._rings.length,E;m<y;m++)E=Ma(this._rings[m],r,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,f,m,y,E,D,q,H,J;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(E=0,H=this._parts.length;E<H;E++)for(f=this._parts[E],D=0,J=f.length,q=J-1;D<J;q=D++)m=f[D],y=f[q],m.y>r.y!=y.y>r.y&&r.x<(y.x-m.x)*(r.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||Pn.prototype._containsPoint.call(this,r,!0)}});function Za(r,l){return new Ui(r,l)}var On=qn.extend({initialize:function(r,l){b(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=O(r)?r:r.features,f,m,y;if(l){for(f=0,m=l.length;f<m;f++)y=l[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var E=this.options;if(E.filter&&!E.filter(r))return this;var D=hs(r,E);return D?(D.feature=a(r),D.defaultOptions=D.options,this.resetStyle(D),E.onEachFeature&&E.onEachFeature(r,D),this.addLayer(D)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=h({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function hs(r,l){var f=r.type==="Feature"?r.geometry:r,m=f?f.coordinates:null,y=[],E=l&&l.pointToLayer,D=l&&l.coordsToLatLng||si,q,H,J,dt;if(!m&&!f)return null;switch(f.type){case"Point":return q=D(m),Ga(E,r,q,l);case"MultiPoint":for(J=0,dt=m.length;J<dt;J++)q=D(m[J]),y.push(Ga(E,r,q,l));return new qn(y);case"LineString":case"MultiLineString":return H=cs(m,f.type==="LineString"?0:1,D),new Pn(H,l);case"Polygon":case"MultiPolygon":return H=cs(m,f.type==="Polygon"?1:2,D),new Ui(H,l);case"GeometryCollection":for(J=0,dt=f.geometries.length;J<dt;J++){var Lt=hs({geometry:f.geometries[J],type:"Feature",properties:r.properties},l);Lt&&y.push(Lt)}return new qn(y);case"FeatureCollection":for(J=0,dt=f.features.length;J<dt;J++){var Ft=hs(f.features[J],l);Ft&&y.push(Ft)}return new qn(y);default:throw new Error("Invalid GeoJSON object.")}}function Ga(r,l,f,m){return r?r(l,f):new us(f,m&&m.markersInheritOptions&&m)}function si(r){return new _t(r[1],r[0],r[2])}function cs(r,l,f){for(var m=[],y=0,E=r.length,D;y<E;y++)D=l?cs(r[y],l-1,f):(f||si)(r[y]),m.push(D);return m}function fs(r,l){return r=lt(r),r.alt!==void 0?[T(r.lng,l),T(r.lat,l),T(r.alt,l)]:[T(r.lng,l),T(r.lat,l)]}function Fe(r,l,f,m){for(var y=[],E=0,D=r.length;E<D;E++)y.push(l?Fe(r[E],$e(r[E])?0:l-1,f,m):fs(r[E],m));return!l&&f&&y.length>0&&y.push(y[0].slice()),y}function Be(r,l){return r.feature?h({},r.feature,{geometry:l}):a(l)}function a(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var n={toGeoJSON:function(r){return Be(this,{type:"Point",coordinates:fs(this.getLatLng(),r)})}};us.include(n),ls.include(n),Ir.include(n),Pn.include({toGeoJSON:function(r){var l=!$e(this._latlngs),f=Fe(this._latlngs,l?1:0,!1,r);return Be(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),Ui.include({toGeoJSON:function(r){var l=!$e(this._latlngs),f=l&&!$e(this._latlngs[0]),m=Fe(this._latlngs,f?2:l?1:0,!0,r);return l||(m=[m]),Be(this,{type:(f?"Multi":"")+"Polygon",coordinates:m})}}),Zi.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(r).geometry.coordinates)}),Be(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var f=l==="GeometryCollection",m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var E=y.toGeoJSON(r);if(f)m.push(E.geometry);else{var D=a(E);D.type==="FeatureCollection"?m.push.apply(m,D.features):m.push(D)}}}),f?Be(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function i(r,l){return new On(r,l)}var o=i,c=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,f){this._url=r,this._bounds=it(l),b(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Di(this._image),this},bringToBack:function(){return this._map&&vi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=it(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:Gt("img");if(Pt(l,"leaflet-image-layer"),this._zoomAnimated&&Pt(l,"leaflet-zoom-animated"),this.options.className&&Pt(l,this.options.className),l.onselectstart=I,l.onmousemove=I,l.onload=p(this.fire,this,"load"),l.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;_i(this._image,f,l)},_reset:function(){var r=this._image,l=new nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();de(r,l.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),g=function(r,l,f){return new c(r,l,f)},_=c.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:Gt("video");if(Pt(l,"leaflet-image-layer"),this._zoomAnimated&&Pt(l,"leaflet-zoom-animated"),this.options.className&&Pt(l,this.options.className),l.onselectstart=I,l.onmousemove=I,l.onloadeddata=p(this.fire,this,"load"),r){for(var f=l.getElementsByTagName("source"),m=[],y=0;y<f.length;y++)m.push(f[y].src);this._url=f.length>0?m:[l.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var D=Gt("source");D.src=this._url[E],l.appendChild(D)}}});function x(r,l,f){return new _(r,l,f)}var w=c.extend({_initImage:function(){var r=this._image=this._url;Pt(r,"leaflet-image-layer"),this._zoomAnimated&&Pt(r,"leaflet-zoom-animated"),this.options.className&&Pt(r,this.options.className),r.onselectstart=I,r.onmousemove=I}});function P(r,l,f){return new w(r,l,f)}var B=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof _t||O(r))?(this._latlng=lt(r),b(this,l)):(b(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(p(te,void 0,this._container),200)):te(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=lt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Di(this._container),this},bringToBack:function(){return this._map&&vi(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof qn){l=null;var f=this._source._layers;for(var m in f)if(f[m]._map){l=f[m];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=F(this.options.offset),f=this._getAnchor();this._zoomAnimated?de(this._container,r.add(f)):l=l.add(r).add(f);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(r,l,f,m){var y=l;return y instanceof r||(y=new r(m).setContent(l)),f&&y.setLatLng(f),y}}),gn.include({_initOverlay:function(r,l,f,m){var y=f;return y instanceof r?(b(y,m),y._source=this):(y=l&&!m?l:new r(m,this),y.setContent(f)),y}});var Y=B.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,B.prototype.openOn.call(this,r)},onAdd:function(r){B.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ri||this._source.on("preclick",Le))},onRemove:function(r){B.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ri||this._source.off("preclick",Le))},getEvents:function(){var r=B.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=Gt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Gt("div",r+"-content-wrapper",l);if(this._contentNode=Gt("div",r+"-content",f),bi(l),kr(this._contentNode),Ot(l,"contextmenu",Le),this._tipContainer=Gt("div",r+"-tip-container",l),this._tip=Gt("div",r+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Gt("a",r+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(m,"click",function(y){oe(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var m=r.offsetHeight,y=this.options.maxHeight,E="leaflet-popup-scrolled";y&&m>y?(l.height=y+"px",Pt(r,E)):Ht(r,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();de(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Nn(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,m=this._containerWidth,y=new j(this._containerLeft,-f-this._containerBottom);y._add(ti(this._container));var E=r.layerPointToContainerPoint(y),D=F(this.options.autoPanPadding),q=F(this.options.autoPanPaddingTopLeft||D),H=F(this.options.autoPanPaddingBottomRight||D),J=r.getSize(),dt=0,Lt=0;E.x+m+H.x>J.x&&(dt=E.x+m-J.x+H.x),E.x-dt-q.x<0&&(dt=E.x-q.x),E.y+f+H.y>J.y&&(Lt=E.y+f-J.y+H.y),E.y-Lt-q.y<0&&(Lt=E.y-q.y),(dt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([dt,Lt]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Q=function(r,l){return new Y(r,l)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(r,l,f){return this._initOverlay(Y,r,l,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),gn.include({bindPopup:function(r,l){return this._popup=this._initOverlay(Y,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ei(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ot=B.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){B.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){B.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=B.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,f,m=this._map,y=this._container,E=m.latLngToContainerPoint(m.getCenter()),D=m.layerPointToContainerPoint(r),q=this.options.direction,H=y.offsetWidth,J=y.offsetHeight,dt=F(this.options.offset),Lt=this._getAnchor();q==="top"?(l=H/2,f=J):q==="bottom"?(l=H/2,f=0):q==="center"?(l=H/2,f=J/2):q==="right"?(l=0,f=J/2):q==="left"?(l=H,f=J/2):D.x<E.x?(q="right",l=0,f=J/2):(q="left",l=H+(dt.x+Lt.x)*2,f=J/2),r=r.subtract(F(l,f,!0)).add(dt).add(Lt),Ht(y,"leaflet-tooltip-right"),Ht(y,"leaflet-tooltip-left"),Ht(y,"leaflet-tooltip-top"),Ht(y,"leaflet-tooltip-bottom"),Pt(y,"leaflet-tooltip-"+q),de(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&ke(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),mt=function(r,l){return new ot(r,l)};Mt.include({openTooltip:function(r,l,f){return this._initOverlay(ot,r,l,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),gn.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ot,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Ot(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Ot(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,f,m;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),m=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var xt=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Jr(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var m=F(f.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Ut(r){return new xt(r)}Gi.Default=Nr;var Dt=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){b(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),te(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof j?r:new j(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,f=-r(-1/0,1/0),m=0,y=l.length,E;m<y;m++)E=l[m].style.zIndex,l[m]!==this._container&&E&&(f=r(f,+E));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!yt.ielt9){ke(this._container,this.options.opacity);var r=+new Date,l=!1,f=!1;for(var m in this._tiles){var y=this._tiles[m];if(!(!y.current||!y.loaded)){var E=Math.min(1,(r-y.loaded)/200);ke(y.el,E),E<1?l=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(pt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=Gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=l-Math.abs(r-f),this._onUpdateLevel(f)):(te(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var m=this._levels[r],y=this._map;return m||(m=this._levels[r]={},m.el=Gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),m.zoom=r,this._setZoomTransform(m,y.getCenter(),y.getZoom()),I(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var r,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)te(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,f,m){var y=Math.floor(r/2),E=Math.floor(l/2),D=f-1,q=new j(+y,+E);q.z=+D;var H=this._tileCoordsToKey(q),J=this._tiles[H];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),D>m?this._retainParent(y,E,D,m):!1)},_retainChildren:function(r,l,f,m){for(var y=2*r;y<2*r+2;y++)for(var E=2*l;E<2*l+2;E++){var D=new j(y,E);D.z=f+1;var q=this._tileCoordsToKey(D),H=this._tiles[q];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);f+1<m&&this._retainChildren(y,E,f+1,m)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,f,m){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var E=this.options.updateWhenZooming&&y!==this._tileZoom;(!m||E)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,l)},_setZoomTransform:function(r,l,f){var m=this._map.getZoomScale(f,r.zoom),y=r.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,f)).round();yt.any3d?_i(r.el,y,m):de(r.el,y)},_resetGrid:function(){var r=this._map,l=r.options.crs,f=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],m).x/f.x),Math.ceil(r.project([0,l.wrapLng[1]],m).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],m).y/f.x),Math.ceil(r.project([l.wrapLat[1],0],m).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(f,this._tileZoom),y=l.project(r,this._tileZoom).floor(),E=l.getSize().divideBy(m*2);return new nt(y.subtract(E),y.add(E))},_update:function(r){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(m),E=y.getCenter(),D=[],q=this.options.keepBuffer,H=new nt(y.getBottomLeft().subtract([q,-q]),y.getTopRight().add([q,-q]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var dt=this._tiles[J].coords;(dt.z!==this._tileZoom||!H.contains(new j(dt.x,dt.y)))&&(this._tiles[J].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var Lt=y.min.y;Lt<=y.max.y;Lt++)for(var Ft=y.min.x;Ft<=y.max.x;Ft++){var Ke=new j(Ft,Lt);if(Ke.z=this._tileZoom,!!this._isValidTile(Ke)){var Pe=this._tiles[this._tileCoordsToKey(Ke)];Pe?Pe.current=!0:D.push(Ke)}}if(D.sort(function(sn,gs){return sn.distanceTo(E)-gs.distanceTo(E)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rn=document.createDocumentFragment();for(Ft=0;Ft<D.length;Ft++)this._addTile(D[Ft],Rn);this._level.el.appendChild(Rn)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!l.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(r);return it(this.options.bounds).overlaps(m)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,f=this.getTileSize(),m=r.scaleBy(f),y=m.add(f),E=l.unproject(m,r.z),D=l.unproject(y,r.z);return[E,D]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),f=new Et(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),f=new j(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(r){var l=this._tiles[r];l&&(te(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Pt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=I,r.onmousemove=I,yt.ielt9&&this.options.opacity<1&&ke(r,this.options.opacity)},_addTile:function(r,l){var f=this._getTilePos(r),m=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),p(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&ft(p(this._tileReady,this,r,null,y)),de(y,f),this._tiles[m]={el:y,coords:r,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:r});var m=this._tileCoordsToKey(r);f=this._tiles[m],f&&(f.loaded=+new Date,this._map._fadeAnimated?(ke(f.el,0),pt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Pt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new j(this._wrapX?S(r.x,this._wrapX):r.x,this._wrapY?S(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new nt(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Wt(r){return new Dt(r)}var ie=Dt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=b(this,l),l.detectRetina&&yt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var f=document.createElement("img");return Ot(f,"load",p(this._tileOnLoad,this,l,f)),Ot(f,"error",p(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var l={r:yt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=f),l["-y"]=f}return C(this._url,h(l,this.options))},_tileOnLoad:function(r,l){yt.ielt9?setTimeout(p(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,f){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),r(f,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,m=this.options.zoomOffset;return f&&(r=l-r),r+m},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=I,l.onerror=I,!l.complete)){l.src=U;var f=this._tiles[r].coords;te(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",U),Dt.prototype._removeTile.call(this,r)},_tileReady:function(r,l,f){if(!(!this._map||f&&f.getAttribute("src")===U))return Dt.prototype._tileReady.call(this,r,l,f)}});function we(r,l){return new ie(r,l)}var oi=ie.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var f=h({},this.defaultWmsParams);for(var m in l)m in this.options||(f[m]=l[m]);l=b(this,l);var y=l.detectRetina&&yt.retina?2:1,E=this.getTileSize();f.width=E.x*y,f.height=E.y*y,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ie.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),f=this._crs,m=ut(f.project(l[0]),f.project(l[1])),y=m.min,E=m.max,D=(this._wmsVersion>=1.3&&this._crs===Da?[y.y,y.x,E.y,E.x]:[y.x,y.y,E.x,E.y]).join(","),q=ie.prototype.getTileUrl.call(this,r);return q+$(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(r,l){return h(this.wmsParams,r),l||this.redraw(),this}});function Lr(r,l){return new oi(r,l)}ie.WMS=oi,we.wms=Lr;var Mn=gn.extend({options:{padding:.1},initialize:function(r){b(this,r),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var f=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),E=m.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(r,l));yt.any3d?_i(this._container,E,f):de(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new nt(f,f.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lo=Mn.extend({options:{tolerance:0},getEvents:function(){var r=Mn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Mn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Ot(r,"mousemove",this._onMouseMove,this),Ot(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){pt(this._redrawRequest),delete this._ctx,te(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mn.prototype._update.call(this);var r=this._bounds,l=this._container,f=r.getSize(),m=yt.retina?2:1;de(l,r.min),l.width=m*f.x,l.height=m*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Mn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[k(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,f=l.next,m=l.prev;f?f.prev=m:this._drawLast=m,m?m.next=f:this._drawFirst=f,delete r._order,delete this._layers[k(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),f=[],m,y;for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;f.push(m)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new nt,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)r=m.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var f,m,y,E,D=r._parts,q=D.length,H=this._ctx;if(q){for(H.beginPath(),f=0;f<q;f++){for(m=0,y=D[f].length;m<y;m++)E=D[f][m],H[m?"lineTo":"moveTo"](E.x,E.y);l&&H.closePath()}this._fillStroke(H,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,f=this._ctx,m=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||m)/m;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(l.x,l.y/y,m,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,l){var f=l.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),f,m,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(m=f);this._fireEvent(m?[m]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var f,m,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(l)&&(m=f);m!==this._hoveredLayer&&(this._handleMouseOut(r),m&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([m],r,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,f){this._map._fireDOMEvent(l,f||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var f=l.next,m=l.prev;if(f)f.prev=m;else return;m?m.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var f=l.next,m=l.prev;if(m)m.next=f;else return;f?f.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function To(r){return yt.canvas?new Lo(r):null}var Yi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ua={_initContainer:function(){this._container=Gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Mn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Yi("shape");Pt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Yi("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[k(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;te(l),r.removeInteractiveTarget(l),delete this._layers[k(r)]},_updateStyle:function(r){var l=r._stroke,f=r._fill,m=r.options,y=r._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=r._stroke=Yi("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=O(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),r._stroke=null),m.fill?(f||(f=r._fill=Yi("fill")),y.appendChild(f),f.color=m.fillColor||m.color,f.opacity=m.fillOpacity):f&&(y.removeChild(f),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),f=Math.round(r._radius),m=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+m+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){Di(r._container)},_bringToBack:function(r){vi(r._container)}},Tr=yt.vml?Yi:se,ki=Mn.extend({_initContainer:function(){this._container=Tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){te(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mn.prototype._update.call(this);var r=this._bounds,l=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),de(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Tr("path");r.options.className&&Pt(l,r.options.className),r.options.interactive&&Pt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[k(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){te(r._path),r.removeInteractiveTarget(r._path),delete this._layers[k(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,f=r.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Ae(r._parts,l))},_updateCircle:function(r){var l=r._point,f=Math.max(Math.round(r._radius),1),m=Math.max(Math.round(r._radiusY),1)||f,y="a"+f+","+m+" 0 1,0 ",E=r._empty()?"M0 0":"M"+(l.x-f)+","+l.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(r,E)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){Di(r._path)},_bringToBack:function(r){vi(r._path)}});yt.vml&&ki.include(Ua);function ds(r){return yt.svg||yt.vml?new ki(r):null}Mt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&To(r)||ds(r)}});var Lf=Ui.extend({initialize:function(r,l){Ui.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=it(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function av(r,l){return new Lf(r,l)}ki.create=Tr,ki.pointsToPath=Ae,On.geometryToLayer=hs,On.coordsToLatLng=si,On.coordsToLatLngs=cs,On.latLngToCoords=fs,On.latLngsToCoords=Fe,On.getFeature=Be,On.asFeature=a,Mt.mergeOptions({boxZoom:!0});var Tf=Cn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gn(),lo(),this._startPoint=this._map.mouseEventToContainerPoint(r),Ot(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Gt("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new nt(this._point,this._startPoint),f=l.getSize();de(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(te(this._box),Ht(this._container,"leaflet-crosshair")),zi(),yr(),jt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var l=new Et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",Tf),Mt.mergeOptions({doubleClickZoom:!0});var Cf=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,f=l.getZoom(),m=l.options.zoomDelta,y=r.originalEvent.shiftKey?f-m:f+m;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(r.containerPoint,y)}});Mt.addInitHook("addHandler","doubleClickZoom",Cf),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pf=Cn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ii(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=it(this._map.options.maxBounds);this._offsetLimit=ut(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),f=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+f)%r+l-f,E=(m+l+f)%r-l-f,D=Math.abs(y+f)<Math.abs(E+f)?y:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(r){var l=this._map,f=l.options,m=!f.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,D=f.easeLinearity,q=y.multiplyBy(D/E),H=q.distanceTo([0,0]),J=Math.min(f.inertiaMaxSpeed,H),dt=q.multiplyBy(J/H),Lt=J/(f.inertiaDeceleration*D),Ft=dt.multiplyBy(-Lt/2).round();!Ft.x&&!Ft.y?l.fire("moveend"):(Ft=l._limitOffset(Ft,l.options.maxBounds),ft(function(){l.panBy(Ft,{duration:Lt,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",Pf),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Of=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Ot(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,f=r.scrollTop||l.scrollTop,m=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},f=this.keyCodes,m,y;for(m=0,y=f.left.length;m<y;m++)l[f.left[m]]=[-1*r,0];for(m=0,y=f.right.length;m<y;m++)l[f.right[m]]=[r,0];for(m=0,y=f.down.length;m<y;m++)l[f.down[m]]=[0,r];for(m=0,y=f.up.length;m<y;m++)l[f.up[m]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},f=this.keyCodes,m,y;for(m=0,y=f.zoomIn.length;m<y;m++)l[f.zoomIn[m]]=r;for(m=0,y=f.zoomOut.length;m<y;m++)l[f.zoomOut[m]]=-r},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,f=this._map,m;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(m=this._panKeys[l],r.shiftKey&&(m=F(m).multiplyBy(3)),f.options.maxBounds&&(m=f._limitOffset(F(m),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(m)));f.panTo(y)}else f.panBy(m)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ei(r)}}});Mt.addInitHook("addHandler","keyboard",Of),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mf=Cn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=mo(r),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var m=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),ei(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,E=f?Math.ceil(y/f)*f:y,D=r._limitZoom(l+(this._delta>0?E:-E))-l;this._delta=0,this._startTime=null,D&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+D):r.setZoomAround(this._lastMousePos,l+D))}});Mt.addInitHook("addHandler","scrollWheelZoom",Mf);var uv=600;Mt.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var Rf=Cn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new j(l.clientX,l.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",oe),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),uv),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){jt(document,"touchend",oe),jt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new j(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Mt.addInitHook("addHandler","tapHold",Rf),Mt.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var Af=Cn.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(r.touches[0]),m=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(m)._divideBy(2))),this._startDist=f.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),oe(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(r.touches[0]),m=l.mouseEventToContainerPoint(r.touches[1]),y=f.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var E=f._add(m)._divideBy(2)._subtract(this._centerPoint);if(y===1&&E.x===0&&E.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),pt(this._animRequest);var D=p(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(D,this,!0),oe(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,pt(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Af),Mt.BoxZoom=Tf,Mt.DoubleClickZoom=Cf,Mt.Drag=Pf,Mt.Keyboard=Of,Mt.ScrollWheelZoom=Mf,Mt.TapHold=Rf,Mt.TouchZoom=Af,s.Bounds=nt,s.Browser=yt,s.CRS=zt,s.Canvas=Lo,s.Circle=ls,s.CircleMarker=Ir,s.Class=et,s.Control=dn,s.DivIcon=xt,s.DivOverlay=B,s.DomEvent=Rl,s.DomUtil=ns,s.Draggable=ii,s.Evented=Ct,s.FeatureGroup=qn,s.GeoJSON=On,s.GridLayer=Dt,s.Handler=Cn,s.Icon=Gi,s.ImageOverlay=c,s.LatLng=_t,s.LatLngBounds=Et,s.Layer=gn,s.LayerGroup=Zi,s.LineUtil=Eo,s.Map=Mt,s.Marker=us,s.Mixin=Fl,s.Path=ri,s.Point=j,s.PolyUtil=We,s.Polygon=Ui,s.Polyline=Pn,s.Popup=Y,s.PosAnimation=po,s.Projection=bl,s.Rectangle=Lf,s.Renderer=Mn,s.SVG=ki,s.SVGOverlay=w,s.TileLayer=ie,s.Tooltip=ot,s.Transformation=ct,s.Util=Bt,s.VideoOverlay=_,s.bind=p,s.bounds=ut,s.canvas=To,s.circle=ql,s.circleMarker=ba,s.control=Ce,s.divIcon=Ut,s.extend=h,s.featureGroup=Fa,s.geoJSON=i,s.geoJson=o,s.gridLayer=Wt,s.icon=Ul,s.imageOverlay=g,s.latLng=lt,s.latLngBounds=it,s.layerGroup=za,s.map=ss,s.marker=Yl,s.point=F,s.polygon=Za,s.polyline=Io,s.popup=Q,s.rectangle=av,s.setOptions=b,s.stamp=k,s.svg=ds,s.svgOverlay=P,s.tileLayer=we,s.tooltip=mt,s.transformation=R,s.version=u,s.videoOverlay=x;var lv=window.L;s.noConflict=function(){return window.L=lv,this},window.L=s})})(_c,_c.exports);var $s=_c.exports;const Vd=al($s);function Nl(t,e,s){return Object.freeze({instance:t,context:e,container:s})}function Sf(t,e){return e==null?function(u,h){const d=Rt.useRef();return d.current||(d.current=t(u,h)),d}:function(u,h){const d=Rt.useRef();d.current||(d.current=t(u,h));const p=Rt.useRef(u),{instance:v}=d.current;return Rt.useEffect(function(){p.current!==u&&(e(v,u,p.current),p.current=u)},[v,u,h]),d}}function zp(t,e){Rt.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var d;(d=e.layerContainer)==null||d.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function $y(t){return function(s){const u=wf(),h=t(Sl(s,u),u);return Mp(u.map,s.attribution),Ef(h.current,s.eventHandlers),zp(h.current,u),h}}function Ky(t,e){const s=Rt.useRef();Rt.useEffect(function(){if(e.pathOptions!==s.current){const h=e.pathOptions??{};t.instance.setStyle(h),s.current=h}},[t,e])}function Qy(t){return function(s){const u=wf(),h=t(Sl(s,u),u);return Ef(h.current,s.eventHandlers),zp(h.current,u),Ky(h.current,s),h}}function Jy(t,e){const s=Sf(t),u=Wy(s,e);return Vy(u)}function Fp(t,e){const s=Sf(t,e),u=Qy(s);return Hy(u)}function t0(t,e){const s=Sf(t,e),u=$y(s);return jy(u)}function e0(t,e,s){const{opacity:u,zIndex:h}=e;u!=null&&u!==s.opacity&&t.setOpacity(u),h!=null&&h!==s.zIndex&&t.setZIndex(h)}const n0=Fp(function({center:e,children:s,...u},h){const d=new $s.Circle(e,u);return Nl(d,Rp(h,{overlayContainer:d}))},Yy),i0=Fp(function({data:e,...s},u){const h=new $s.GeoJSON(e,s);return Nl(h,Rp(u,{overlayContainer:h}))},function(e,s,u){s.style!==u.style&&(s.style==null?e.resetStyle():e.setStyle(s.style))});function yc(){return yc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},yc.apply(this,arguments)}function r0({bounds:t,boundsOptions:e,center:s,children:u,className:h,id:d,placeholder:p,style:v,whenReady:k,zoom:N,...S},I){const[T]=Rt.useState({className:h,id:d,style:v}),[z,M]=Rt.useState(null);Rt.useImperativeHandle(I,()=>(z==null?void 0:z.map)??null,[z]);const b=Rt.useCallback(A=>{if(A!==null&&z===null){const C=new $s.Map(A,S);s!=null&&N!=null?C.setView(s,N):t!=null&&C.fitBounds(t,e),k!=null&&C.whenReady(k),M(Xy(C))}},[]);Rt.useEffect(()=>()=>{z==null||z.map.remove()},[z]);const $=z?Pu.createElement(Dp,{value:z},u):p??null;return Pu.createElement("div",yc({},T,{ref:b}),$)}const s0=Rt.forwardRef(r0),o0=Jy(function(e,s){const u=new $s.Popup(e,s.overlayContainer);return Nl(u,s)},function(e,s,{position:u},h){Rt.useEffect(function(){const{instance:p}=e;function v(N){N.popup===p&&(p.update(),h(!0))}function k(N){N.popup===p&&h(!1)}return s.map.on({popupopen:v,popupclose:k}),s.overlayContainer==null?(u!=null&&p.setLatLng(u),p.openOn(s.map)):s.overlayContainer.bindPopup(p),function(){var S;s.map.off({popupopen:v,popupclose:k}),(S=s.overlayContainer)==null||S.unbindPopup(),s.map.removeLayer(p)}},[e,s,h,u])}),a0=t0(function({url:e,...s},u){const h=new $s.TileLayer(e,Sl(s,u));return Nl(h,u)},function(e,s,u){e0(e,s,u);const{url:h}=s;h!=null&&h!==u.url&&e.setUrl(h)});function u0({places:t,convexHull:e,gradientBuffers:s}){const u=Rt.useRef(),[h,d]=Rt.useState(0),p=[60.472,8.4689],v=5,k=S=>S===0?2e3:2e3+S*2e3;Rt.useEffect(()=>{if(u.current){const S=u.current;try{if(e&&e.type==="Polygon"){const T=Vd.geoJSON({type:"Feature",geometry:e}).getBounds();T.isValid()&&(console.log("[PlacesMap] Fitting bounds to convex hull"),S.fitBounds(T,{padding:[100,100]}))}else if(t&&t.length>0){const I=Vd.latLngBounds(t.map(T=>[T.coordinates[1],T.coordinates[0]]));I.isValid()&&S.fitBounds(I,{padding:[50,50]})}}catch(I){console.error("[PlacesMap] Error fitting bounds:",I)}}},[e,t]),Rt.useEffect(()=>{d(S=>S+1)},[t,e,s]);const N=S=>({fillColor:"#3b82f6",fillOpacity:.4,color:"#2563eb",weight:2});return wt.jsx("div",{className:"map-container",children:wt.jsxs(s0,{center:p,zoom:v,style:{height:"100%",width:"100%"},ref:u,children:[wt.jsx(a0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s&&s.map((S,I)=>wt.jsx(i0,{data:{type:"Feature",geometry:S.geometry},style:{fillColor:"#3b82f6",fillOpacity:.04,color:"transparent",weight:0}},`buffer-${I}-${h}`)),t&&t.map((S,I)=>wt.jsx(n0,{center:[S.coordinates[1],S.coordinates[0]],radius:k(S.score),pathOptions:N(S.score),children:wt.jsx(o0,{children:wt.jsxs("div",{children:[wt.jsx("strong",{children:S.name}),wt.jsx("br",{}),"Poeng: ",S.score,wt.jsx("br",{}),"Koordinater: ",S.coordinates[1].toFixed(4),", ",S.coordinates[0].toFixed(4)]})})},`place-circle-${I}-${h}`))]})})}var on=63710088e-1,Bp={centimeters:on*100,centimetres:on*100,degrees:360/(2*Math.PI),feet:on*3.28084,inches:on*39.37,kilometers:on/1e3,kilometres:on/1e3,meters:on,metres:on,miles:on/1609.344,millimeters:on*1e3,millimetres:on*1e3,nauticalmiles:on/1852,radians:1,yards:on*1.0936};function Il(t,e,s={}){const u={type:"Feature"};return(s.id===0||s.id)&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.properties=e||{},u.geometry=t,u}function bp(t,e,s={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!jd(t[0])||!jd(t[1]))throw new Error("coordinates must contain numbers");return Il({type:"Point",coordinates:t},e,s)}function l0(t,e,s={}){for(const h of t){if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(h[h.length-1].length!==h[0].length)throw new Error("First and last Position are not equivalent.");for(let d=0;d<h[h.length-1].length;d++)if(h[h.length-1][d]!==h[0][d])throw new Error("First and last Position are not equivalent.")}return Il({type:"Polygon",coordinates:t},e,s)}function h0(t,e,s={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return Il({type:"LineString",coordinates:t},e,s)}function el(t,e={}){const s={type:"FeatureCollection"};return e.id&&(s.id=e.id),e.bbox&&(s.bbox=e.bbox),s.features=t,s}function c0(t,e="kilometers"){const s=Bp[e];if(!s)throw new Error(e+" units is invalid");return t*s}function f0(t,e="kilometers"){const s=Bp[e];if(!s)throw new Error(e+" units is invalid");return t/s}function jd(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Nf(t,e,s){if(t!==null)for(var u,h,d,p,v,k,N,S=0,I=0,T,z=t.type,M=z==="FeatureCollection",b=z==="Feature",$=M?t.features.length:1,A=0;A<$;A++){N=M?t.features[A].geometry:b?t.geometry:t,T=N?N.type==="GeometryCollection":!1,v=T?N.geometries.length:1;for(var C=0;C<v;C++){var O=0,Z=0;if(p=T?N.geometries[C]:N,p!==null){k=p.coordinates;var U=p.type;switch(S=0,U){case null:break;case"Point":if(e(k,I,A,O,Z)===!1)return!1;I++,O++;break;case"LineString":case"MultiPoint":for(u=0;u<k.length;u++){if(e(k[u],I,A,O,Z)===!1)return!1;I++,U==="MultiPoint"&&O++}U==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(u=0;u<k.length;u++){for(h=0;h<k[u].length-S;h++){if(e(k[u][h],I,A,O,Z)===!1)return!1;I++}U==="MultiLineString"&&O++,U==="Polygon"&&Z++}U==="Polygon"&&O++;break;case"MultiPolygon":for(u=0;u<k.length;u++){for(Z=0,h=0;h<k[u].length;h++){for(d=0;d<k[u][h].length-S;d++){if(e(k[u][h][d],I,A,O,Z)===!1)return!1;I++}Z++}O++}break;case"GeometryCollection":for(u=0;u<p.geometries.length;u++)if(Nf(p.geometries[u],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Wd(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length&&e(t.features[s],s)!==!1;s++);}function Zp(t,e){var s,u,h,d,p,v,k,N,S,I,T=0,z=t.type==="FeatureCollection",M=t.type==="Feature",b=z?t.features.length:1;for(s=0;s<b;s++){for(v=z?t.features[s].geometry:M?t.geometry:t,N=z?t.features[s].properties:M?t.properties:{},S=z?t.features[s].bbox:M?t.bbox:void 0,I=z?t.features[s].id:M?t.id:void 0,k=v?v.type==="GeometryCollection":!1,p=k?v.geometries.length:1,h=0;h<p;h++){if(d=k?v.geometries[h]:v,d===null){if(e(null,T,N,S,I)===!1)return!1;continue}switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(d,T,N,S,I)===!1)return!1;break}case"GeometryCollection":{for(u=0;u<d.geometries.length;u++)if(e(d.geometries[u],T,N,S,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}T++}}function d0(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const s=[1/0,1/0,-1/0,-1/0];return Nf(t,u=>{s[0]>u[0]&&(s[0]=u[0]),s[1]>u[1]&&(s[1]=u[1]),s[2]<u[0]&&(s[2]=u[0]),s[3]<u[1]&&(s[3]=u[1])}),s}function g0(t,e,s,u,h){Gp(t,e,s||0,u||t.length-1,h||m0)}function Gp(t,e,s,u,h){for(;u>s;){if(u-s>600){var d=u-s+1,p=e-s+1,v=Math.log(d),k=.5*Math.exp(2*v/3),N=.5*Math.sqrt(v*k*(d-k)/d)*(p-d/2<0?-1:1),S=Math.max(s,Math.floor(e-p*k/d+N)),I=Math.min(u,Math.floor(e+(d-p)*k/d+N));Gp(t,e,S,I,h)}var T=t[e],z=s,M=u;for(Fo(t,s,e),h(t[u],T)>0&&Fo(t,s,u);z<M;){for(Fo(t,z,M),z++,M--;h(t[z],T)<0;)z++;for(;h(t[M],T)>0;)M--}h(t[s],T)===0?Fo(t,s,M):(M++,Fo(t,M,u)),M<=e&&(s=M+1),e<=M&&(u=M-1)}}function Fo(t,e,s){var u=t[e];t[e]=t[s],t[s]=u}function m0(t,e){return t<e?-1:t>e?1:0}let p0=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let s=this.data;const u=[];if(!uu(e,s))return u;const h=this.toBBox,d=[];for(;s;){for(let p=0;p<s.children.length;p++){const v=s.children[p],k=s.leaf?h(v):v;uu(e,k)&&(s.leaf?u.push(v):yh(e,k)?this._all(v,u):d.push(v))}s=d.pop()}return u}collides(e){let s=this.data;if(!uu(e,s))return!1;const u=[];for(;s;){for(let h=0;h<s.children.length;h++){const d=s.children[h],p=s.leaf?this.toBBox(d):d;if(uu(e,p)){if(s.leaf||yh(e,p))return!0;u.push(d)}}s=u.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let u=0;u<e.length;u++)this.insert(e[u]);return this}let s=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=s;else if(this.data.height===s.height)this._splitRoot(this.data,s);else{if(this.data.height<s.height){const u=this.data;this.data=s,s=u}this._insert(s,this.data.height-s.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=vs([]),this}remove(e,s){if(!e)return this;let u=this.data;const h=this.toBBox(e),d=[],p=[];let v,k,N;for(;u||d.length;){if(u||(u=d.pop(),k=d[d.length-1],v=p.pop(),N=!0),u.leaf){const S=v0(e,u.children,s);if(S!==-1)return u.children.splice(S,1),d.push(u),this._condense(d),this}!N&&!u.leaf&&yh(u,h)?(d.push(u),p.push(v),v=0,k=u,u=u.children[0]):k?(v++,u=k.children[v],N=!1):u=null}return this}toBBox(e){return e}compareMinX(e,s){return e.minX-s.minX}compareMinY(e,s){return e.minY-s.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,s){const u=[];for(;e;)e.leaf?s.push(...e.children):u.push(...e.children),e=u.pop();return s}_build(e,s,u,h){const d=u-s+1;let p=this._maxEntries,v;if(d<=p)return v=vs(e.slice(s,u+1)),ps(v,this.toBBox),v;h||(h=Math.ceil(Math.log(d)/Math.log(p)),p=Math.ceil(d/Math.pow(p,h-1))),v=vs([]),v.leaf=!1,v.height=h;const k=Math.ceil(d/p),N=k*Math.ceil(Math.sqrt(p));$d(e,s,u,N,this.compareMinX);for(let S=s;S<=u;S+=N){const I=Math.min(S+N-1,u);$d(e,S,I,k,this.compareMinY);for(let T=S;T<=I;T+=k){const z=Math.min(T+k-1,I);v.children.push(this._build(e,T,z,h-1))}}return ps(v,this.toBBox),v}_chooseSubtree(e,s,u,h){for(;h.push(s),!(s.leaf||h.length-1===u);){let d=1/0,p=1/0,v;for(let k=0;k<s.children.length;k++){const N=s.children[k],S=_h(N),I=x0(e,N)-S;I<p?(p=I,d=S<d?S:d,v=N):I===p&&S<d&&(d=S,v=N)}s=v||s.children[0]}return s}_insert(e,s,u){const h=u?e:this.toBBox(e),d=[],p=this._chooseSubtree(h,this.data,s,d);for(p.children.push(e),Yo(p,h);s>=0&&d[s].children.length>this._maxEntries;)this._split(d,s),s--;this._adjustParentBBoxes(h,d,s)}_split(e,s){const u=e[s],h=u.children.length,d=this._minEntries;this._chooseSplitAxis(u,d,h);const p=this._chooseSplitIndex(u,d,h),v=vs(u.children.splice(p,u.children.length-p));v.height=u.height,v.leaf=u.leaf,ps(u,this.toBBox),ps(v,this.toBBox),s?e[s-1].children.push(v):this._splitRoot(u,v)}_splitRoot(e,s){this.data=vs([e,s]),this.data.height=e.height+1,this.data.leaf=!1,ps(this.data,this.toBBox)}_chooseSplitIndex(e,s,u){let h,d=1/0,p=1/0;for(let v=s;v<=u-s;v++){const k=Uo(e,0,v,this.toBBox),N=Uo(e,v,u,this.toBBox),S=k0(k,N),I=_h(k)+_h(N);S<d?(d=S,h=v,p=I<p?I:p):S===d&&I<p&&(p=I,h=v)}return h||u-s}_chooseSplitAxis(e,s,u){const h=e.leaf?this.compareMinX:_0,d=e.leaf?this.compareMinY:y0,p=this._allDistMargin(e,s,u,h),v=this._allDistMargin(e,s,u,d);p<v&&e.children.sort(h)}_allDistMargin(e,s,u,h){e.children.sort(h);const d=this.toBBox,p=Uo(e,0,s,d),v=Uo(e,u-s,u,d);let k=au(p)+au(v);for(let N=s;N<u-s;N++){const S=e.children[N];Yo(p,e.leaf?d(S):S),k+=au(p)}for(let N=u-s-1;N>=s;N--){const S=e.children[N];Yo(v,e.leaf?d(S):S),k+=au(v)}return k}_adjustParentBBoxes(e,s,u){for(let h=u;h>=0;h--)Yo(s[h],e)}_condense(e){for(let s=e.length-1,u;s>=0;s--)e[s].children.length===0?s>0?(u=e[s-1].children,u.splice(u.indexOf(e[s]),1)):this.clear():ps(e[s],this.toBBox)}};function v0(t,e,s){if(!s)return e.indexOf(t);for(let u=0;u<e.length;u++)if(s(t,e[u]))return u;return-1}function ps(t,e){Uo(t,0,t.children.length,e,t)}function Uo(t,e,s,u,h){h||(h=vs(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let d=e;d<s;d++){const p=t.children[d];Yo(h,t.leaf?u(p):p)}return h}function Yo(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function _0(t,e){return t.minX-e.minX}function y0(t,e){return t.minY-e.minY}function _h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function au(t){return t.maxX-t.minX+(t.maxY-t.minY)}function x0(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function k0(t,e){const s=Math.max(t.minX,e.minX),u=Math.max(t.minY,e.minY),h=Math.min(t.maxX,e.maxX),d=Math.min(t.maxY,e.maxY);return Math.max(0,h-s)*Math.max(0,d-u)}function yh(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function uu(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function vs(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $d(t,e,s,u,h){const d=[e,s];for(;d.length;){if(s=d.pop(),e=d.pop(),s-e<=u)continue;const p=e+Math.ceil((s-e)/u/2)*u;g0(t,p,e,s,h),d.push(e,p,p,s)}}const w0=Object.freeze(Object.defineProperty({__proto__:null,default:p0},Symbol.toStringTag,{value:"Module"}));function E0(t,e={}){const s=d0(t),u=(s[0]+s[2])/2,h=(s[1]+s[3])/2;return bp([u,h],e.properties,e)}var Up={exports:{}};(function(t,e){(function(s,u){t.exports=u()})(Ic,function(){function s(a,n){(n==null||n>a.length)&&(n=a.length);for(var i=0,o=Array(n);i<n;i++)o[i]=a[i];return o}function u(a,n,i){return n=S(n),function(o,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(o)}(a,T()?Reflect.construct(n,i||[],S(a).constructor):n.apply(a,i))}function h(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function d(a,n,i){if(T())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var c=new(a.bind.apply(a,o));return i&&z(c,i.prototype),c}function p(a,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,$(o.key),o)}}function v(a,n,i){return n&&p(a.prototype,n),i&&p(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function k(a,n){var i=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!i){if(Array.isArray(a)||(i=A(a))||n){i&&(a=i);var o=0,c=function(){};return{s:c,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(w){throw w},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,_=!0,x=!1;return{s:function(){i=i.call(a)},n:function(){var w=i.next();return _=w.done,w},e:function(w){x=!0,g=w},f:function(){try{_||i.return==null||i.return()}finally{if(x)throw g}}}}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,i){var o=function(g,_){for(;!{}.hasOwnProperty.call(g,_)&&(g=S(g))!==null;);return g}(a,n);if(o){var c=Object.getOwnPropertyDescriptor(o,n);return c.get?c.get.call(arguments.length<3?a:i):c.value}},N.apply(null,arguments)}function S(a){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S(a)}function I(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&z(a,n)}function T(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!a})()}function z(a,n){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},z(a,n)}function M(a,n,i,o){var c=N(S(1&o?a.prototype:a),n,i);return 2&o&&typeof c=="function"?function(g){return c.apply(i,g)}:c}function b(a){return function(n){if(Array.isArray(n))return s(n)}(a)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(a)||A(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(a){var n=function(i,o){if(typeof i!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var g=c.call(i,o);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(a,"string");return typeof n=="symbol"?n:n+""}function A(a,n){if(a){if(typeof a=="string")return s(a,n);var i={}.toString.call(a).slice(8,-1);return i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set"?Array.from(a):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(a,n):void 0}}function C(a){var n=typeof Map=="function"?new Map:void 0;return C=function(i){if(i===null||!function(c){try{return Function.toString.call(c).indexOf("[native code]")!==-1}catch{return typeof c=="function"}}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(i))return n.get(i);n.set(i,o)}function o(){return d(i,arguments,S(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),z(o,i)},C(a)}var O=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(n){this._quadrantSegments=n,this._quadrantSegments===0&&(this._joinStyle=a.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=a.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),n<=0&&(this._quadrantSegments=1),this._joinStyle!==a.JOIN_ROUND&&(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(n){this._joinStyle=n}},{key:"setSimplifyFactor",value:function(n){this._simplifyFactor=n<0?0:n}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(n){this._endCapStyle=n}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(n){this._mitreLimit=n}},{key:"setSingleSided",value:function(n){this._isSingleSided=n}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=a.CAP_ROUND,this._joinStyle=a.JOIN_ROUND,this._mitreLimit=a.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(o)}else if(arguments.length===4){var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(g),this.setJoinStyle(_),this.setMitreLimit(x)}}}},{key:"bufferDistanceError",value:function(n){var i=Math.PI/2/n;return 1-Math.cos(i/2)}}])}();O.CAP_ROUND=1,O.CAP_FLAT=2,O.CAP_SQUARE=3,O.JOIN_ROUND=1,O.JOIN_MITRE=2,O.JOIN_BEVEL=3,O.DEFAULT_QUADRANT_SEGMENTS=8,O.DEFAULT_MITRE_LIMIT=5,O.DEFAULT_SIMPLIFY_FACTOR=.01;var Z=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({Exception:n})[0],o}return I(n,a),v(n,[{key:"toString",value:function(){return this.message}}])}(C(Error)),U=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({IllegalArgumentException:n})[0],o}return I(n,a),v(n)}(Z),X=function(){return v(function a(){h(this,a)},[{key:"filter",value:function(a){}}])}();function V(){}function W(){}function K(){}var at,ft,pt,Bt,et,Nt,vt,Ct,j=function(){return v(function a(){h(this,a)},null,[{key:"equalsWithTolerance",value:function(a,n,i){return Math.abs(a-n)<=i}}])}(),ht=function(){return v(function a(n,i){h(this,a),this.low=i||0,this.high=n||0},null,[{key:"toBinaryString",value:function(a){var n,i="";for(n=2147483648;n>0;n>>>=1)i+=(a.high&n)===n?"1":"0";for(n=2147483648;n>0;n>>>=1)i+=(a.low&n)===n?"1":"0";return i}}])}();function F(){}function nt(){}F.NaN=NaN,F.isNaN=function(a){return Number.isNaN(a)},F.isInfinite=function(a){return!Number.isFinite(a)},F.MAX_VALUE=Number.MAX_VALUE,F.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,F.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(Nt=2146435072,vt=new Float64Array(1),Ct=new Int32Array(vt.buffer),F.doubleToLongBits=function(a){vt[0]=a;var n=0|Ct[0],i=0|Ct[1];return(i&Nt)===Nt&&1048575&i&&n!==0&&(n=0,i=2146959360),new ht(i,n)},F.longBitsToDouble=function(a){return Ct[0]=a.low,Ct[1]=a.high,vt[0]}):(at=1023,ft=Math.log2,pt=Math.floor,Bt=Math.pow,et=function(){for(var a=53;a>0;a--){var n=Bt(2,a)-1;if(pt(ft(n))+1===a)return n}return 0}(),F.doubleToLongBits=function(a){var n,i,o,c,g,_,x,w,P;if(a<0||1/a===Number.NEGATIVE_INFINITY?(_=1<<31,a=-a):_=0,a===0)return new ht(w=_,P=0);if(a===1/0)return new ht(w=2146435072|_,P=0);if(a!=a)return new ht(w=2146959360,P=0);if(c=0,P=0,(n=pt(a))>1)if(n<=et)(c=pt(ft(n)))<=20?(P=0,w=n<<20-c&1048575):(P=n%(i=Bt(2,o=c-20))<<32-o,w=n/i&1048575);else for(o=n,P=0;(o=pt(i=o/2))!==0;)c++,P>>>=1,P|=(1&w)<<31,w>>>=1,i!==o&&(w|=524288);if(x=c+at,g=n===0,n=a-n,c<52&&n!==0)for(o=0;;){if((i=2*n)>=1?(n=i-1,g?(x--,g=!1):(o<<=1,o|=1,c++)):(n=i,g?--x==0&&(c++,g=!1):(o<<=1,c++)),c===20)w|=o,o=0;else if(c===52){P|=o;break}if(i===1){c<20?w|=o<<20-c:c<52&&(P|=o<<52-c);break}}return w|=x<<20,new ht(w|=_,P)},F.longBitsToDouble=function(a){var n,i,o,c,g=a.high,_=a.low,x=g&1<<31?-1:1;for(o=((2146435072&g)>>20)-at,c=0,i=1<<19,n=1;n<=20;n++)g&i&&(c+=Bt(2,-n)),i>>>=1;for(i=1<<31,n=21;n<=52;n++)_&i&&(c+=Bt(2,-n)),i>>>=1;if(o===-1023){if(c===0)return 0*x;o=-1022}else{if(o===1024)return c===0?x/0:NaN;c+=1}return x*c*Bt(2,o)});var ut=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({RuntimeException:n})[0],o}return I(n,a),v(n)}(Z),Et=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,null,[{key:"constructor_",value:function(){if(arguments.length===0)ut.constructor_.call(this);else if(arguments.length===1){var i=arguments[0];ut.constructor_.call(this,i)}}}])}(ut),it=function(){function a(){h(this,a)}return v(a,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)a.shouldNeverReachHere(null);else if(arguments.length===1){var n=arguments[0];throw new Et("Should never reach here"+(n!==null?": "+n:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var n=arguments[0];a.isTrue(n,null)}else if(arguments.length===2){var i=arguments[1];if(!arguments[0])throw i===null?new Et:new Et(i)}}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];a.equals(n,i,null)}else if(arguments.length===3){var o=arguments[0],c=arguments[1],g=arguments[2];if(!c.equals(o))throw new Et("Expected "+o+" but encountered "+c+(g!==null?": "+g:""))}}}])}(),_t=new ArrayBuffer(8),lt=new Float64Array(_t),zt=new Int32Array(_t),G=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getM",value:function(){return F.NaN}},{key:"setOrdinate",value:function(n,i){switch(n){case a.X:this.x=i;break;case a.Y:this.y=i;break;case a.Z:this.setZ(i);break;default:throw new U("Invalid ordinate index: "+n)}}},{key:"equals2D",value:function(){if(arguments.length===1){var n=arguments[0];return this.x===n.x&&this.y===n.y}if(arguments.length===2){var i=arguments[0],o=arguments[1];return!!j.equalsWithTolerance(this.x,i.x,o)&&!!j.equalsWithTolerance(this.y,i.y,o)}}},{key:"setM",value:function(n){throw new U("Invalid ordinate index: "+a.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(n){switch(n){case a.X:return this.x;case a.Y:return this.y;case a.Z:return this.getZ()}throw new U("Invalid ordinate index: "+n)}},{key:"equals3D",value:function(n){return this.x===n.x&&this.y===n.y&&(this.getZ()===n.getZ()||F.isNaN(this.getZ())&&F.isNaN(n.getZ()))}},{key:"equals",value:function(n){return n instanceof a&&this.equals2D(n)}},{key:"equalInZ",value:function(n,i){return j.equalsWithTolerance(this.getZ(),n.getZ(),i)}},{key:"setX",value:function(n){this.x=n}},{key:"compareTo",value:function(n){var i=n;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(n){this.z=n}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return it.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw n}}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(n){var i=this.x-n.x,o=this.y-n.y,c=this.getZ()-n.getZ();return Math.sqrt(i*i+o*o+c*c)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(n){this.y=n}},{key:"distance",value:function(n){var i=this.x-n.x,o=this.y-n.y;return Math.sqrt(i*i+o*o)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*n+a.hashCode(this.x))+a.hashCode(this.y)}},{key:"setCoordinate",value:function(n){this.x=n.x,this.y=n.y,this.z=n.getZ()}},{key:"interfaces_",get:function(){return[V,W,K]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)a.constructor_.call(this,0,0);else if(arguments.length===1){var n=arguments[0];a.constructor_.call(this,n.x,n.y,n.getZ())}else if(arguments.length===2){var i=arguments[0],o=arguments[1];a.constructor_.call(this,i,o,a.NULL_ORDINATE)}else if(arguments.length===3){var c=arguments[0],g=arguments[1],_=arguments[2];this.x=c,this.y=g,this.z=_}}},{key:"hashCode",value:function(n){return lt[0]=n,zt[0]^zt[1]}}])}(),me=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"compare",value:function(n,i){var o=a.compare(n.x,i.x);if(o!==0)return o;var c=a.compare(n.y,i.y);return c!==0?c:this._dimensionsToTest<=2?0:a.compare(n.getZ(),i.getZ())}},{key:"interfaces_",get:function(){return[nt]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)a.constructor_.call(this,2);else if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new U("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}},{key:"compare",value:function(n,i){return n<i?-1:n>i?1:F.isNaN(n)?F.isNaN(i)?0:-1:F.isNaN(i)?1:0}}])}();G.DimensionalComparator=me,G.NULL_ORDINATE=F.NaN,G.X=0,G.Y=1,G.Z=2,G.M=3;var At=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(n){if(!(n instanceof a))return!1;var i=n;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()}},{key:"intersection",value:function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new a;var i=this._minx>n._minx?this._minx:n._minx,o=this._miny>n._miny?this._miny:n._miny;return new a(i,this._maxx<n._maxx?this._maxx:n._maxx,o,this._maxy<n._maxy?this._maxy:n._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];return this.covers(n.x,n.y)}if(arguments[0]instanceof a){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&c>=this._miny&&c<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return!this.isNull()&&!n.isNull()&&!(n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny)}if(arguments[0]instanceof G){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){if(arguments[0]instanceof G&&arguments[1]instanceof G){var o=arguments[0],c=arguments[1];return!this.isNull()&&!((o.x<c.x?o.x:c.x)>this._maxx)&&!((o.x>c.x?o.x:c.x)<this._minx)&&!((o.y<c.y?o.y:c.y)>this._maxy)&&!((o.y>c.y?o.y:c.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var g=arguments[0],_=arguments[1];return!this.isNull()&&!(g>this._maxx||g<this._minx||_>this._maxy||_<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return Math.sqrt(n*n+i*i)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof a){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=c,this._maxy=c):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),c<this._miny&&(this._miny=c),c>this._maxy&&(this._maxy=c))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return n<i?n:i}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(n){var i=n;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0}},{key:"translate",value:function(n,i){if(this.isNull())return null;this.init(this.getMinX()+n,this.getMaxX()+n,this.getMinY()+i,this.getMaxY()+i)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(n){return!(!this.isNull()&&!n.isNull())||n._minx>this._maxx||n._maxx<this._minx||n._miny>this._maxy||n._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var n=this.getWidth(),i=this.getHeight();return n>i?n:i}},{key:"expandBy",value:function(){if(arguments.length===1){var n=arguments[0];this.expandBy(n,n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.covers(n)}if(arguments[0]instanceof G){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];return this.covers(o,c)}}},{key:"centre",value:function(){return this.isNull()?null:new G((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof a){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this.init(o.x,c.x,o.y,c.y)}else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],w=arguments[3];g<_?(this._minx=g,this._maxx=_):(this._minx=_,this._maxx=g),x<w?(this._miny=x,this._maxy=w):(this._miny=w,this._maxy=x)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(n){if(this.intersects(n))return 0;var i=0;this._maxx<n._minx?i=n._minx-this._maxx:this._minx>n._maxx&&(i=this._minx-n._maxx);var o=0;return this._maxy<n._miny?o=n._miny-this._maxy:this._miny>n._maxy&&(o=this._miny-n._maxy),i===0?o:o===0?i:Math.sqrt(i*i+o*o)}},{key:"hashCode",value:function(){var n=17;return n=37*(n=37*(n=37*(n=37*n+G.hashCode(this._minx))+G.hashCode(this._maxx))+G.hashCode(this._miny))+G.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[V,K]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof a){var i=arguments[0];this.init(i)}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this.init(o.x,c.x,o.y,c.y)}else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],w=arguments[3];this.init(g,_,x,w)}}},{key:"intersects",value:function(){if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];return o.x>=(n.x<i.x?n.x:i.x)&&o.x<=(n.x>i.x?n.x:i.x)&&o.y>=(n.y<i.y?n.y:i.y)&&o.y<=(n.y>i.y?n.y:i.y)}if(arguments.length===4){var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],w=Math.min(_.x,x.x),P=Math.max(_.x,x.x),B=Math.min(c.x,g.x),Y=Math.max(c.x,g.x);return!(B>P)&&!(Y<w)&&(w=Math.min(_.y,x.y),P=Math.max(_.y,x.y),B=Math.min(c.y,g.y),Y=Math.max(c.y,g.y),!(B>P)&&!(Y<w))}}}])}(),ct=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(n){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(n){return this===n||this.equalsExact(n,0)}},{key:"geometryChanged",value:function(){this.apply(a.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(n){return n!==null&&this.norm().equalsExact(n.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var n;if(arguments.length===1){var i=arguments[0];return n=i,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(i)}if(arguments.length===2){var o=arguments[0],c=arguments[1];return n=o,this.getTypeCode()!==n.getTypeCode()?this.getTypeCode()-n.getTypeCode():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(o,c)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(n){if(n.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION)throw new U("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(n,i,o){return o===0?n.equals(i):n.distance(i)<=o}},{key:"norm",value:function(){var n=this.copy();return n.normalize(),n}},{key:"reverse",value:function(){var n=this.reverseInternal();return this.envelope!=null&&(n.envelope=this.envelope.copy()),n.setSRID(this.getSRID()),n}},{key:"copy",value:function(){var n=this.copyInternal();return n.envelope=this._envelope==null?null:this._envelope.copy(),n._SRID=this._SRID,n._userData=this._userData,n}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new At(this._envelope)}},{key:"setSRID",value:function(n){this._SRID=n}},{key:"setUserData",value:function(n){this._userData=n}},{key:"compare",value:function(n,i){for(var o=n.iterator(),c=i.iterator();o.hasNext()&&c.hasNext();){var g=o.next(),_=c.next(),x=g.compareTo(_);if(x!==0)return x}return o.hasNext()?1:c.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(n){return this.getClass()===n.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===a.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===a.TYPECODE_MULTIPOINT||this.getTypeCode()===a.TYPECODE_MULTILINESTRING||this.getTypeCode()===a.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[W,V,K]}},{key:"getClass",value:function(){return a}}],[{key:"hasNonEmptyElements",value:function(n){for(var i=0;i<n.length;i++)if(!n[i].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(n){for(var i=0;i<n.length;i++)if(n[i]===null)return!0;return!1}}])}();ct.constructor_=function(a){a&&(this._envelope=null,this._userData=null,this._factory=a,this._SRID=a.getSRID())},ct.TYPECODE_POINT=0,ct.TYPECODE_MULTIPOINT=1,ct.TYPECODE_LINESTRING=2,ct.TYPECODE_LINEARRING=3,ct.TYPECODE_MULTILINESTRING=4,ct.TYPECODE_POLYGON=5,ct.TYPECODE_MULTIPOLYGON=6,ct.TYPECODE_GEOMETRYCOLLECTION=7,ct.TYPENAME_POINT="Point",ct.TYPENAME_MULTIPOINT="MultiPoint",ct.TYPENAME_LINESTRING="LineString",ct.TYPENAME_LINEARRING="LinearRing",ct.TYPENAME_MULTILINESTRING="MultiLineString",ct.TYPENAME_POLYGON="Polygon",ct.TYPENAME_MULTIPOLYGON="MultiPolygon",ct.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",ct.geometryChangedFilter={get interfaces_(){return[X]},filter:function(a){a.geometryChangedAction()}};var R=function(){function a(){h(this,a)}return v(a,null,[{key:"toLocationSymbol",value:function(n){switch(n){case a.EXTERIOR:return"e";case a.BOUNDARY:return"b";case a.INTERIOR:return"i";case a.NONE:return"-"}throw new U("Unknown location value: "+n)}}])}();R.INTERIOR=0,R.BOUNDARY=1,R.EXTERIOR=2,R.NONE=-1;var Kt=function(){return v(function a(){h(this,a)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),Ne=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({NoSuchElementException:n})[0],o}return I(n,a),v(n)}(Z),se=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({UnsupportedOperationException:n})[0],o}return I(n,a),v(n)}(Z),Ae=function(a){function n(){return h(this,n),u(this,n,arguments)}return I(n,a),v(n,[{key:"contains",value:function(){}}])}(Kt),xe=function(a){function n(i){var o;return h(this,n),(o=u(this,n)).map=new Map,i instanceof Kt&&o.addAll(i),o}return I(n,a),v(n,[{key:"contains",value:function(i){var o=i.hashCode?i.hashCode():i;return!!this.map.has(o)}},{key:"add",value:function(i){var o=i.hashCode?i.hashCode():i;return!this.map.has(o)&&!!this.map.set(o,i)}},{key:"addAll",value:function(i){var o,c=k(i);try{for(c.s();!(o=c.n()).done;){var g=o.value;this.add(g)}}catch(_){c.e(_)}finally{c.f()}return!0}},{key:"remove",value:function(){throw new se}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Ve(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(Ae),Ve=function(){return v(function a(n){h(this,a),this.iterator=n.values();var i=this.iterator.next(),o=i.done,c=i.value;this.done=o,this.value=c},[{key:"next",value:function(){if(this.done)throw new Ne;var a=this.value,n=this.iterator.next(),i=n.done,o=n.value;return this.done=i,this.value=o,a}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new se}}])}(),tt=function(){function a(){h(this,a)}return v(a,null,[{key:"opposite",value:function(n){return n===a.LEFT?a.RIGHT:n===a.RIGHT?a.LEFT:n}}])}();tt.ON=0,tt.LEFT=1,tt.RIGHT=2;var fr=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({EmptyStackException:n})[0],o}return I(n,a),v(n)}(Z),Mi=function(a){function n(i){var o;return h(this,n),(o=u(this,n,[i])).name=Object.keys({IndexOutOfBoundsException:n})[0],o}return I(n,a),v(n)}(Z),kn=function(a){function n(){return h(this,n),u(this,n,arguments)}return I(n,a),v(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(Kt),qr=function(a){function n(){var i;return h(this,n),(i=u(this,n)).array=[],i}return I(n,a),v(n,[{key:"add",value:function(i){return this.array.push(i),!0}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new Mi;return this.array[i]}},{key:"push",value:function(i){return this.array.push(i),i}},{key:"pop",value:function(){if(this.array.length===0)throw new fr;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new fr;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(i){return this.array.indexOf(i)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(kn);function Tt(a,n){return a.interfaces_&&a.interfaces_.indexOf(n)>-1}var Qn=function(){return v(function a(n){h(this,a),this.str=n},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,n){this.str=this.str.substr(0,a)+n+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),wn=function(){function a(n){h(this,a),this.value=n}return v(a,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(n){return this.value<n?-1:this.value>n?1:0}}],[{key:"compare",value:function(n,i){return n<i?-1:n>i?1:0}},{key:"isNan",value:function(n){return Number.isNaN(n)}},{key:"valueOf",value:function(n){return new a(n)}}])}(),Xr=function(){return v(function a(){h(this,a)},null,[{key:"isWhitespace",value:function(a){return a<=32&&a>=0||a===127}},{key:"toUpperCase",value:function(a){return a.toUpperCase()}}])}(),St=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"le",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<=n._lo}},{key:"extractSignificantDigits",value:function(n,i){var o=this.abs(),c=a.magnitude(o._hi),g=a.TEN.pow(c);(o=o.divide(g)).gt(a.TEN)?(o=o.divide(a.TEN),c+=1):o.lt(a.ONE)&&(o=o.multiply(a.TEN),c-=1);for(var _=c+1,x=new Qn,w=a.MAX_PRINT_DIGITS-1,P=0;P<=w;P++){n&&P===_&&x.append(".");var B=Math.trunc(o._hi);if(B<0)break;var Y=!1,Q=0;B>9?(Y=!0,Q="9"):Q="0"+B,x.append(Q),o=o.subtract(a.valueOf(B)).multiply(a.TEN),Y&&o.selfAdd(a.TEN);var ot=!0,mt=a.magnitude(o._hi);if(mt<0&&Math.abs(mt)>=w-P&&(ot=!1),!ot)break}return i[0]=c,x.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return this.add(n.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof a){var n=arguments[0];return this._hi===n._hi&&this._lo===n._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n._hi,-n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(n){return this.le(n)?this:n}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.selfDivide(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var o,c,g,_,x=arguments[0],w=arguments[1],P=null,B=null,Y=null,Q=null;return g=this._hi/x,Q=(P=(Y=a.SPLIT*g)-(P=Y-g))*(B=(Q=a.SPLIT*x)-(B=Q-x))-(_=g*x)+P*(c=x-B)+(o=g-P)*B+o*c,Q=g+(Y=(this._hi-_-Q+this._lo-g*w)/x),this._hi=Q,this._lo=g-Q+Y,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof a){var n,i,o,c,g=arguments[0],_=null,x=null,w=null,P=null;return n=(o=this._hi/g._hi)-(_=(w=a.SPLIT*o)-(_=w-o)),P=_*(x=(P=a.SPLIT*g._hi)-(x=P-g._hi))-(c=o*g._hi)+_*(i=g._hi-x)+n*x+n*i,new a(P=o+(w=(this._hi-c-P+this._lo-o*g._lo)/g._hi),o-P+w)}if(typeof arguments[0]=="number"){var B=arguments[0];return F.isNaN(B)?a.createNaN():a.copy(this).selfDivide(B,0)}}},{key:"ge",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>=n._lo}},{key:"pow",value:function(n){if(n===0)return a.valueOf(1);var i=new a(this),o=a.valueOf(1),c=Math.abs(n);if(c>1)for(;c>0;)c%2==1&&o.selfMultiply(i),(c/=2)>0&&(i=i.sqr());else o=i;return n<0?o.reciprocal():o}},{key:"ceil",value:function(){if(this.isNaN())return a.NaN;var n=Math.ceil(this._hi),i=0;return n===this._hi&&(i=Math.ceil(this._lo)),new a(n,i)}},{key:"compareTo",value:function(n){var i=n;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return this.init(n),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}}},{key:"max",value:function(n){return this.ge(n)?this:n}},{key:"sqrt",value:function(){if(this.isZero())return a.valueOf(0);if(this.isNegative())return a.NaN;var n=1/Math.sqrt(this._hi),i=this._hi*n,o=a.valueOf(i),c=this.subtract(o.sqr())._hi*(.5*n);return o.add(c)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.selfAdd(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i,o,c,g,_,x=arguments[0],w=null;return w=(c=this._hi+x)-(g=c-this._hi),o=(_=(w=x-g+(this._hi-w))+this._lo)+(c-(i=c+_)),this._hi=i+o,this._lo=o+(i-this._hi),this}}else if(arguments.length===2){var P,B,Y,Q,ot=arguments[0],mt=arguments[1],xt=null,Ut=null,Dt=null;Y=this._hi+ot,B=this._lo+mt,Ut=Y-(Dt=Y-this._hi),xt=B-(Q=B-this._lo);var Wt=(P=Y+(Dt=(Ut=ot-Dt+(this._hi-Ut))+B))+(Dt=(xt=mt-Q+(this._lo-xt))+(Dt+(Y-P))),ie=Dt+(P-Wt);return this._hi=Wt,this._lo=ie,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof a){var n=arguments[0];return this.selfMultiply(n._hi,n._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var o,c,g=arguments[0],_=arguments[1],x=null,w=null,P=null,B=null;x=(P=a.SPLIT*this._hi)-this._hi,B=a.SPLIT*g,x=P-x,o=this._hi-x,w=B-g;var Y=(P=this._hi*g)+(B=x*(w=B-w)-P+x*(c=g-w)+o*w+o*c+(this._hi*_+this._lo*g)),Q=B+(x=P-Y);return this._hi=Y,this._lo=Q,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return a.NaN;var n=Math.floor(this._hi),i=0;return n===this._hi&&(i=Math.floor(this._lo)),new a(n,i)}},{key:"negate",value:function(){return this.isNaN()?this:new a(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(n){if(n instanceof CloneNotSupportedException)return null;throw n}}},{key:"multiply",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return n.isNaN()?a.createNaN():a.copy(this).selfMultiply(n)}if(typeof arguments[0]=="number"){var i=arguments[0];return F.isNaN(i)?a.createNaN():a.copy(this).selfMultiply(i,0)}}},{key:"isNaN",value:function(){return F.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var n=a.magnitude(this._hi);return n>=-3&&n<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var n=this.getSpecialNumberString();if(n!==null)return n;var i=new Array(1).fill(null),o=this.extractSignificantDigits(!0,i),c=i[0]+1,g=o;if(o.charAt(0)===".")g="0"+o;else if(c<0)g="0."+a.stringOfChar("0",-c)+o;else if(o.indexOf(".")===-1){var _=c-o.length;g=o+a.stringOfChar("0",_)+".0"}return this.isNegative()?"-"+g:g}},{key:"reciprocal",value:function(){var n,i,o,c,g=null,_=null,x=null,w=null;n=(o=1/this._hi)-(g=(x=a.SPLIT*o)-(g=x-o)),_=(w=a.SPLIT*this._hi)-this._hi;var P=o+(x=(1-(c=o*this._hi)-(w=g*(_=w-_)-c+g*(i=this._hi-_)+n*_+n*i)-o*this._lo)/this._hi);return new a(P,o-P+x)}},{key:"toSciNotation",value:function(){if(this.isZero())return a.SCI_NOT_ZERO;var n=this.getSpecialNumberString();if(n!==null)return n;var i=new Array(1).fill(null),o=this.extractSignificantDigits(!1,i),c=a.SCI_NOT_EXPONENT_CHAR+i[0];if(o.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+o);var g="";o.length>1&&(g=o.substring(1));var _=o.charAt(0)+"."+g;return this.isNegative()?"-"+_+c:_+c}},{key:"abs",value:function(){return this.isNaN()?a.NaN:this.isNegative()?this.negate():new a(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(n){return this._hi<n._hi||this._hi===n._hi&&this._lo<n._lo}},{key:"add",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return a.copy(this).selfAdd(n)}if(typeof arguments[0]=="number"){var i=arguments[0];return a.copy(this).selfAdd(i)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this._hi=n,this._lo=0}else if(arguments[0]instanceof a){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this._hi=o,this._lo=c}}},{key:"gt",value:function(n){return this._hi>n._hi||this._hi===n._hi&&this._lo>n._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?a.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[K,V,W]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof a){var i=arguments[0];this.init(i)}else if(typeof arguments[0]=="string"){var o=arguments[0];a.constructor_.call(this,a.parse(o))}}else if(arguments.length===2){var c=arguments[0],g=arguments[1];this.init(c,g)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1],o=arguments[2],c=arguments[3];return a.determinant(a.valueOf(n),a.valueOf(i),a.valueOf(o),a.valueOf(c))}if(arguments[3]instanceof a&&arguments[2]instanceof a&&arguments[0]instanceof a&&arguments[1]instanceof a){var g=arguments[1],_=arguments[2],x=arguments[3];return arguments[0].multiply(x).selfSubtract(g.multiply(_))}}},{key:"sqr",value:function(n){return a.valueOf(n).selfMultiply(n)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var n=arguments[0];return a.parse(n)}if(typeof arguments[0]=="number")return new a(arguments[0])}},{key:"sqrt",value:function(n){return a.valueOf(n).sqrt()}},{key:"parse",value:function(n){for(var i=0,o=n.length;Xr.isWhitespace(n.charAt(i));)i++;var c=!1;if(i<o){var g=n.charAt(i);g!=="-"&&g!=="+"||(i++,g==="-"&&(c=!0))}for(var _=new a,x=0,w=0,P=0,B=!1;!(i>=o);){var Y=n.charAt(i);if(i++,Xr.isDigit(Y)){var Q=Y-"0";_.selfMultiply(a.TEN),_.selfAdd(Q),x++}else{if(Y!=="."){if(Y==="e"||Y==="E"){var ot=n.substring(i);try{P=wn.parseInt(ot)}catch(Wt){throw Wt instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+ot+" in string "+n):Wt}break}throw new NumberFormatException("Unexpected character '"+Y+"' at position "+i+" in string "+n)}w=x,B=!0}}var mt=_;B||(w=x);var xt=x-w-P;if(xt===0)mt=_;else if(xt>0){var Ut=a.TEN.pow(xt);mt=_.divide(Ut)}else if(xt<0){var Dt=a.TEN.pow(-xt);mt=_.multiply(Dt)}return c?mt.negate():mt}},{key:"createNaN",value:function(){return new a(F.NaN,F.NaN)}},{key:"copy",value:function(n){return new a(n)}},{key:"magnitude",value:function(n){var i=Math.abs(n),o=Math.log(i)/Math.log(10),c=Math.trunc(Math.floor(o));return 10*Math.pow(10,c)<=i&&(c+=1),c}},{key:"stringOfChar",value:function(n,i){for(var o=new Qn,c=0;c<i;c++)o.append(n);return o.toString()}}])}();St.PI=new St(3.141592653589793,12246467991473532e-32),St.TWO_PI=new St(6.283185307179586,24492935982947064e-32),St.PI_2=new St(1.5707963267948966,6123233995736766e-32),St.E=new St(2.718281828459045,14456468917292502e-32),St.NaN=new St(F.NaN,F.NaN),St.EPS=123259516440783e-46,St.SPLIT=134217729,St.MAX_PRINT_DIGITS=32,St.TEN=St.valueOf(10),St.ONE=St.valueOf(1),St.SCI_NOT_EXPONENT_CHAR="E",St.SCI_NOT_ZERO="0.0E0";var Qs=function(){function a(){h(this,a)}return v(a,null,[{key:"orientationIndex",value:function(n,i,o){var c=a.orientationIndexFilter(n,i,o);if(c<=1)return c;var g=St.valueOf(i.x).selfAdd(-n.x),_=St.valueOf(i.y).selfAdd(-n.y),x=St.valueOf(o.x).selfAdd(-i.x),w=St.valueOf(o.y).selfAdd(-i.y);return g.selfMultiply(w).selfSubtract(_.selfMultiply(x)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof St&&arguments[2]instanceof St&&arguments[0]instanceof St&&arguments[1]instanceof St){var n=arguments[1],i=arguments[2],o=arguments[3];return arguments[0].multiply(o).selfSubtract(n.multiply(i)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],w=St.valueOf(c),P=St.valueOf(g),B=St.valueOf(_),Y=St.valueOf(x);return w.multiply(Y).selfSubtract(P.multiply(B)).signum()}}},{key:"intersection",value:function(n,i,o,c){var g=new St(n.y).selfSubtract(i.y),_=new St(i.x).selfSubtract(n.x),x=new St(n.x).selfMultiply(i.y).selfSubtract(new St(i.x).selfMultiply(n.y)),w=new St(o.y).selfSubtract(c.y),P=new St(c.x).selfSubtract(o.x),B=new St(o.x).selfMultiply(c.y).selfSubtract(new St(c.x).selfMultiply(o.y)),Y=_.multiply(B).selfSubtract(P.multiply(x)),Q=w.multiply(x).selfSubtract(g.multiply(B)),ot=g.multiply(P).selfSubtract(w.multiply(_)),mt=Y.selfDivide(ot).doubleValue(),xt=Q.selfDivide(ot).doubleValue();return F.isNaN(mt)||F.isInfinite(mt)||F.isNaN(xt)||F.isInfinite(xt)?null:new G(mt,xt)}},{key:"orientationIndexFilter",value:function(n,i,o){var c=null,g=(n.x-o.x)*(i.y-o.y),_=(n.y-o.y)*(i.x-o.x),x=g-_;if(g>0){if(_<=0)return a.signum(x);c=g+_}else{if(!(g<0)||_>=0)return a.signum(x);c=-g-_}var w=a.DP_SAFE_EPSILON*c;return x>=w||-x>=w?a.signum(x):2}},{key:"signum",value:function(n){return n>0?1:n<0?-1:0}}])}();Qs.DP_SAFE_EPSILON=1e-15;var bt=function(){return v(function a(){h(this,a)},[{key:"getM",value:function(a){if(this.hasM()){var n=this.getDimension()-this.getMeasures();return this.getOrdinate(a,n)}return F.NaN}},{key:"setOrdinate",value:function(a,n,i){}},{key:"getZ",value:function(a){return this.hasZ()?this.getOrdinate(a,2):F.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(a,n){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(a){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(a){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(a){}},{key:"copy",value:function(){}},{key:"getY",value:function(a){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[W]}}])}();bt.X=0,bt.Y=1,bt.Z=2,bt.M=3;var It=function(){function a(){h(this,a)}return v(a,null,[{key:"index",value:function(n,i,o){return Qs.orientationIndex(n,i,o)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var n=arguments[0],i=n.length-1;if(i<3)throw new U("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=n[0],c=0,g=1;g<=i;g++){var _=n[g];_.y>o.y&&(o=_,c=g)}var x=c;do(x-=1)<0&&(x=i);while(n[x].equals2D(o)&&x!==c);var w=c;do w=(w+1)%i;while(n[w].equals2D(o)&&w!==c);var P=n[x],B=n[w];if(P.equals2D(o)||B.equals2D(o)||P.equals2D(B))return!1;var Y=a.index(P,o,B);return Y===0?P.x>B.x:Y>0}if(Tt(arguments[0],bt)){var Q=arguments[0],ot=Q.size()-1;if(ot<3)throw new U("Ring has fewer than 4 points, so orientation cannot be determined");for(var mt=Q.getCoordinate(0),xt=0,Ut=1;Ut<=ot;Ut++){var Dt=Q.getCoordinate(Ut);Dt.y>mt.y&&(mt=Dt,xt=Ut)}var Wt=null,ie=xt;do(ie-=1)<0&&(ie=ot),Wt=Q.getCoordinate(ie);while(Wt.equals2D(mt)&&ie!==xt);var we=null,oi=xt;do oi=(oi+1)%ot,we=Q.getCoordinate(oi);while(we.equals2D(mt)&&oi!==xt);if(Wt.equals2D(mt)||we.equals2D(mt)||Wt.equals2D(we))return!1;var Lr=a.index(Wt,mt,we);return Lr===0?Wt.x>we.x:Lr>0}}}])}();It.CLOCKWISE=-1,It.RIGHT=It.CLOCKWISE,It.COUNTERCLOCKWISE=1,It.LEFT=It.COUNTERCLOCKWISE,It.COLLINEAR=0,It.STRAIGHT=It.COLLINEAR;var Tl=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(a,n){var i=this.getRightmostSideOfSegment(a,n);return i<0&&(i=this.getRightmostSideOfSegment(a,n-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),i}},{key:"findRightmostEdgeAtVertex",value:function(){var a=this._minDe.getEdge().getCoordinates();it.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var n=a[this._minIndex-1],i=a[this._minIndex+1],o=It.index(this._minCoord,i,n),c=!1;(n.y<this._minCoord.y&&i.y<this._minCoord.y&&o===It.COUNTERCLOCKWISE||n.y>this._minCoord.y&&i.y>this._minCoord.y&&o===It.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(a,n){var i=a.getEdge().getCoordinates();if(n<0||n+1>=i.length||i[n].y===i[n+1].y)return-1;var o=tt.LEFT;return i[n].y<i[n+1].y&&(o=tt.RIGHT),o}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(a){for(var n=a.getEdge().getCoordinates(),i=0;i<n.length-1;i++)(this._minCoord===null||n[i].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=i,this._minCoord=n[i])}},{key:"findRightmostEdgeAtNode",value:function(){var a=this._minDe.getNode().getEdges();this._minDe=a.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(a){for(var n=a.iterator();n.hasNext();){var i=n.next();i.isForward()&&this.checkForRightmostCoordinate(i)}it.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===tt.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),En=function(a){function n(i,o){var c;return h(this,n),(c=u(this,n,[o?i+" [ "+o+" ]":i])).pt=o?new G(o):void 0,c.name=Object.keys({TopologyException:n})[0],c}return I(n,a),v(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(ut),Js=function(){return v(function a(){h(this,a),this.array=[]},[{key:"addLast",value:function(a){this.array.push(a)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),kt=function(a){function n(i){var o;return h(this,n),(o=u(this,n)).array=[],i instanceof Kt&&o.addAll(i),o}return I(n,a),v(n,[{key:"interfaces_",get:function(){return[kn,Kt]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(i){return arguments.length===1?this.array.push(i):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(i){var o,c=k(i);try{for(c.s();!(o=c.n()).done;){var g=o.value;this.array.push(g)}}catch(_){c.e(_)}finally{c.f()}}},{key:"set",value:function(i,o){var c=this.array[i];return this.array[i]=o,c}},{key:"iterator",value:function(){return new Cl(this)}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new Mi;return this.array[i]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(i){i?this.array.sort(function(o,c){return i.compare(o,c)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(i){for(var o=0,c=this.array.length;o<c;o++)if(this.array[o]===i)return!!this.array.splice(o,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(kn),Cl=function(){return v(function a(n){h(this,a),this.arrayList=n,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Ne;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(a){return this.arrayList.set(this.position-1,a)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),dr=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(a){for(var n=null,i=a.getEdges().iterator();i.hasNext();){var o=i.next();if(o.isVisited()||o.getSym().isVisited()){n=o;break}}if(n===null)throw new En("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(n);for(var c=a.getEdges().iterator();c.hasNext();){var g=c.next();g.setVisited(!0),this.copySymDepths(g)}}},{key:"computeDepth",value:function(a){this.clearVisitedEdges();var n=this._finder.getEdge();n.getNode(),n.getLabel(),n.setEdgeDepths(tt.RIGHT,a),this.copySymDepths(n),this.computeDepths(n)}},{key:"create",value:function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var n=a.next();n.getDepth(tt.RIGHT)>=1&&n.getDepth(tt.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}}},{key:"computeDepths",value:function(a){var n=new xe,i=new Js,o=a.getNode();for(i.addLast(o),n.add(o),a.setVisited(!0);!i.isEmpty();){var c=i.removeFirst();n.add(c),this.computeNodeDepth(c);for(var g=c.getEdges().iterator();g.hasNext();){var _=g.next().getSym();if(!_.isVisited()){var x=_.getNode();n.contains(x)||(i.addLast(x),n.add(x))}}}}},{key:"compareTo",value:function(a){var n=a;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var a=new At,n=this._dirEdgeList.iterator();n.hasNext();)for(var i=n.next().getEdge().getCoordinates(),o=0;o<i.length-1;o++)a.expandToInclude(i[o]);this._env=a}return this._env}},{key:"addReachable",value:function(a){var n=new qr;for(n.add(a);!n.empty();){var i=n.pop();this.add(i,n)}}},{key:"copySymDepths",value:function(a){var n=a.getSym();n.setDepth(tt.LEFT,a.getDepth(tt.RIGHT)),n.setDepth(tt.RIGHT,a.getDepth(tt.LEFT))}},{key:"add",value:function(a,n){a.setVisited(!0),this._nodes.add(a);for(var i=a.getEdges().iterator();i.hasNext();){var o=i.next();this._dirEdgeList.add(o);var c=o.getSym().getNode();c.isVisited()||n.push(c)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new kt,this._nodes=new kt,this._rightMostCoord=null,this._env=null,this._finder=new Tl}}])}(),to=function(){return v(function a(){h(this,a)},null,[{key:"intersection",value:function(a,n,i,o){var c=a.x<n.x?a.x:n.x,g=a.y<n.y?a.y:n.y,_=a.x>n.x?a.x:n.x,x=a.y>n.y?a.y:n.y,w=i.x<o.x?i.x:o.x,P=i.y<o.y?i.y:o.y,B=i.x>o.x?i.x:o.x,Y=i.y>o.y?i.y:o.y,Q=((c>w?c:w)+(_<B?_:B))/2,ot=((g>P?g:P)+(x<Y?x:Y))/2,mt=a.x-Q,xt=a.y-ot,Ut=n.x-Q,Dt=n.y-ot,Wt=i.x-Q,ie=i.y-ot,we=o.x-Q,oi=o.y-ot,Lr=xt-Dt,Mn=Ut-mt,Lo=mt*Dt-Ut*xt,To=ie-oi,Yi=we-Wt,Ua=Wt*oi-we*ie,Tr=Lr*Yi-To*Mn,ki=(Mn*Ua-Yi*Lo)/Tr,ds=(To*Lo-Lr*Ua)/Tr;return F.isNaN(ki)||F.isInfinite(ki)||F.isNaN(ds)||F.isInfinite(ds)?null:new G(ki+Q,ds+ot)}}])}(),nn=function(){return v(function a(){h(this,a)},null,[{key:"arraycopy",value:function(a,n,i,o,c){for(var g=0,_=n;_<n+c;_++)i[o+g]=a[_],g++}},{key:"getProperty",value:function(a){return{"line.separator":`
`}[a]}}])}(),Ri=function(){function a(){h(this,a)}return v(a,null,[{key:"log10",value:function(n){var i=Math.log(n);return F.isInfinite(i)||F.isNaN(i)?i:i/a.LOG_10}},{key:"min",value:function(n,i,o,c){var g=n;return i<g&&(g=i),o<g&&(g=o),c<g&&(g=c),g}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1],o=arguments[2];return n<i?i:n>o?o:n}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var c=arguments[0],g=arguments[1],_=arguments[2];return c<g?g:c>_?_:c}}},{key:"wrap",value:function(n,i){return n<0?i- -n%i:n%i}},{key:"max",value:function(){if(arguments.length===3){var n=arguments[1],i=arguments[2],o=arguments[0];return n>o&&(o=n),i>o&&(o=i),o}if(arguments.length===4){var c=arguments[1],g=arguments[2],_=arguments[3],x=arguments[0];return c>x&&(x=c),g>x&&(x=g),_>x&&(x=_),x}}},{key:"average",value:function(n,i){return(n+i)/2}}])}();Ri.LOG_10=Math.log(10);var fn=function(){function a(){h(this,a)}return v(a,null,[{key:"segmentToSegment",value:function(n,i,o,c){if(n.equals(i))return a.pointToSegment(n,o,c);if(o.equals(c))return a.pointToSegment(c,n,i);var g=!1;if(At.intersects(n,i,o,c)){var _=(i.x-n.x)*(c.y-o.y)-(i.y-n.y)*(c.x-o.x);if(_===0)g=!0;else{var x=(n.y-o.y)*(c.x-o.x)-(n.x-o.x)*(c.y-o.y),w=((n.y-o.y)*(i.x-n.x)-(n.x-o.x)*(i.y-n.y))/_,P=x/_;(P<0||P>1||w<0||w>1)&&(g=!0)}}else g=!0;return g?Ri.min(a.pointToSegment(n,o,c),a.pointToSegment(i,o,c),a.pointToSegment(o,n,i),a.pointToSegment(c,n,i)):0}},{key:"pointToSegment",value:function(n,i,o){if(i.x===o.x&&i.y===o.y)return n.distance(i);var c=(o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y),g=((n.x-i.x)*(o.x-i.x)+(n.y-i.y)*(o.y-i.y))/c;if(g<=0)return n.distance(i);if(g>=1)return n.distance(o);var _=((i.y-n.y)*(o.x-i.x)-(i.x-n.x)*(o.y-i.y))/c;return Math.abs(_)*Math.sqrt(c)}},{key:"pointToLinePerpendicular",value:function(n,i,o){var c=(o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y),g=((i.y-n.y)*(o.x-i.x)-(i.x-n.x)*(o.y-i.y))/c;return Math.abs(g)*Math.sqrt(c)}},{key:"pointToSegmentString",value:function(n,i){if(i.length===0)throw new U("Line array must contain at least one vertex");for(var o=n.distance(i[0]),c=0;c<i.length-1;c++){var g=a.pointToSegment(n,i[c],i[c+1]);g<o&&(o=g)}return o}}])}(),eo=function(){return v(function a(){h(this,a)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Tt(arguments[0],bt);else if(arguments.length!==2){if(arguments.length===3){var a=arguments[0],n=arguments[1];return this.create(a,n)}}}}])}(),Hr=function(){return v(function a(){h(this,a)},[{key:"filter",value:function(a){}}])}(),Pl=function(){return v(function a(){h(this,a)},null,[{key:"ofLine",value:function(a){var n=a.size();if(n<=1)return 0;var i=0,o=new G;a.getCoordinate(0,o);for(var c=o.x,g=o.y,_=1;_<n;_++){a.getCoordinate(_,o);var x=o.x,w=o.y,P=x-c,B=w-g;i+=Math.sqrt(P*P+B*B),c=x,g=w}return i}}])}(),Sa=v(function a(){h(this,a)}),gi=function(){function a(){h(this,a)}return v(a,null,[{key:"copyCoord",value:function(n,i,o,c){for(var g=Math.min(n.getDimension(),o.getDimension()),_=0;_<g;_++)o.setOrdinate(c,_,n.getOrdinate(i,_))}},{key:"isRing",value:function(n){var i=n.size();return i===0||!(i<=3)&&n.getOrdinate(0,bt.X)===n.getOrdinate(i-1,bt.X)&&n.getOrdinate(0,bt.Y)===n.getOrdinate(i-1,bt.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Tt(arguments[0],bt)&&Number.isInteger(arguments[1])){var n=arguments[0],i=arguments[1];a.scroll(n,i,a.isRing(n))}else if(Tt(arguments[0],bt)&&arguments[1]instanceof G){var o=arguments[0],c=arguments[1],g=a.indexOf(c,o);if(g<=0)return null;a.scroll(o,g)}}else if(arguments.length===3){var _=arguments[0],x=arguments[1],w=arguments[2];if(x<=0)return null;for(var P=_.copy(),B=w?_.size()-1:_.size(),Y=0;Y<B;Y++)for(var Q=0;Q<_.getDimension();Q++)_.setOrdinate(Y,Q,P.getOrdinate((x+Y)%B,Q));if(w)for(var ot=0;ot<_.getDimension();ot++)_.setOrdinate(B,ot,_.getOrdinate(0,ot))}}},{key:"isEqual",value:function(n,i){var o=n.size();if(o!==i.size())return!1;for(var c=Math.min(n.getDimension(),i.getDimension()),g=0;g<o;g++)for(var _=0;_<c;_++){var x=n.getOrdinate(g,_),w=i.getOrdinate(g,_);if(n.getOrdinate(g,_)!==i.getOrdinate(g,_)&&(!F.isNaN(x)||!F.isNaN(w)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var n=arguments[0];return a.minCoordinateIndex(n,0,n.size()-1)}if(arguments.length===3){for(var i=arguments[0],o=arguments[2],c=-1,g=null,_=arguments[1];_<=o;_++){var x=i.getCoordinate(_);(g===null||g.compareTo(x)>0)&&(g=x,c=_)}return c}}},{key:"extend",value:function(n,i,o){var c=n.create(o,i.getDimension()),g=i.size();if(a.copy(i,0,c,0,g),g>0)for(var _=g;_<o;_++)a.copy(i,g-1,c,_,1);return c}},{key:"reverse",value:function(n){for(var i=n.size()-1,o=Math.trunc(i/2),c=0;c<=o;c++)a.swap(n,c,i-c)}},{key:"swap",value:function(n,i,o){if(i===o)return null;for(var c=0;c<n.getDimension();c++){var g=n.getOrdinate(i,c);n.setOrdinate(i,c,n.getOrdinate(o,c)),n.setOrdinate(o,c,g)}}},{key:"copy",value:function(n,i,o,c,g){for(var _=0;_<g;_++)a.copyCoord(n,i+_,o,c+_)}},{key:"ensureValidRing",value:function(n,i){var o=i.size();return o===0?i:o<=3?a.createClosedRing(n,i,4):i.getOrdinate(0,bt.X)===i.getOrdinate(o-1,bt.X)&&i.getOrdinate(0,bt.Y)===i.getOrdinate(o-1,bt.Y)?i:a.createClosedRing(n,i,o+1)}},{key:"indexOf",value:function(n,i){for(var o=0;o<i.size();o++)if(n.x===i.getOrdinate(o,bt.X)&&n.y===i.getOrdinate(o,bt.Y))return o;return-1}},{key:"createClosedRing",value:function(n,i,o){var c=n.create(o,i.getDimension()),g=i.size();a.copy(i,0,c,0,g);for(var _=g;_<o;_++)a.copy(i,0,c,_,1);return c}},{key:"minCoordinate",value:function(n){for(var i=null,o=0;o<n.size();o++){var c=n.getCoordinate(o);(i===null||i.compareTo(c)>0)&&(i=c)}return i}}])}(),st=function(){function a(){h(this,a)}return v(a,null,[{key:"toDimensionSymbol",value:function(n){switch(n){case a.FALSE:return a.SYM_FALSE;case a.TRUE:return a.SYM_TRUE;case a.DONTCARE:return a.SYM_DONTCARE;case a.P:return a.SYM_P;case a.L:return a.SYM_L;case a.A:return a.SYM_A}throw new U("Unknown dimension value: "+n)}},{key:"toDimensionValue",value:function(n){switch(Xr.toUpperCase(n)){case a.SYM_FALSE:return a.FALSE;case a.SYM_TRUE:return a.TRUE;case a.SYM_DONTCARE:return a.DONTCARE;case a.SYM_P:return a.P;case a.SYM_L:return a.L;case a.SYM_A:return a.A}throw new U("Unknown dimension symbol: "+n)}}])}();st.P=0,st.L=1,st.A=2,st.FALSE=-1,st.TRUE=-2,st.DONTCARE=-3,st.SYM_FALSE="F",st.SYM_TRUE="T",st.SYM_DONTCARE="*",st.SYM_P="0",st.SYM_L="1",st.SYM_A="2";var Vr=function(){return v(function a(){h(this,a)},[{key:"filter",value:function(a){}}])}(),Ai=function(){return v(function a(){h(this,a)},[{key:"filter",value:function(a,n){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),gr=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new At:this._points.expandEnvelope(new At)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var c=i;if(this._points.size()!==c._points.size())return!1;for(var g=0;g<this._points.size();g++)if(!this.equal(this._points.getCoordinate(g),c._points.getCoordinate(g),o))return!1;return!0}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<Math.trunc(this._points.size()/2);i++){var o=this._points.size()-1-i;if(!this._points.getCoordinate(i).equals(this._points.getCoordinate(o))){if(this._points.getCoordinate(i).compareTo(this._points.getCoordinate(o))>0){var c=this._points.copy();gi.reverse(c),this._points=c}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?st.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var i=this._points.copy();return gi.reverse(i),this.getFactory().createLineString(i)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return ct.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Pl.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var i=arguments[0],o=0,c=0;o<this._points.size()&&c<i._points.size();){var g=this._points.getCoordinate(o).compareTo(i._points.getCoordinate(c));if(g!==0)return g;o++,c++}return o<this._points.size()?1:c<i._points.size()?-1:0}if(arguments.length===2){var _=arguments[0];return arguments[1].compare(this._points,_._points)}}},{key:"apply",value:function(){if(Tt(arguments[0],Hr))for(var i=arguments[0],o=0;o<this._points.size();o++)i.filter(this._points.getCoordinate(o));else if(Tt(arguments[0],Ai)){var c=arguments[0];if(this._points.size()===0)return null;for(var g=0;g<this._points.size()&&(c.filter(this._points,g),!c.isDone());g++);c.isGeometryChanged()&&this.geometryChanged()}else Tt(arguments[0],Vr)?arguments[0].filter(this):Tt(arguments[0],X)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new se}},{key:"isEquivalentClass",value:function(i){return i instanceof n}},{key:"getCoordinateN",value:function(i){return this._points.getCoordinate(i)}},{key:"getGeometryType",value:function(){return ct.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new U("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i}},{key:"isCoordinate",value:function(i){for(var o=0;o<this._points.size();o++)if(this._points.getCoordinate(o).equals(i))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))}},{key:"interfaces_",get:function(){return[Sa]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],o=arguments[1];ct.constructor_.call(this,o),this.init(i)}}}}])}(ct),Na=v(function a(){h(this,a)}),no=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new At;var i=new At;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&(!(!this.isEmpty()||!i.isEmpty())||this.isEmpty()===i.isEmpty()&&this.equal(i.getCoordinate(),this.getCoordinate(),o))}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return st.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return ct.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0];return this.getCoordinate().compareTo(i.getCoordinate())}if(arguments.length===2){var o=arguments[0];return arguments[1].compare(this._coordinates,o._coordinates)}}},{key:"apply",value:function(){if(Tt(arguments[0],Hr)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(Tt(arguments[0],Ai)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this._coordinates,0),o.isGeometryChanged()&&this.geometryChanged()}else Tt(arguments[0],Vr)?arguments[0].filter(this):Tt(arguments[0],X)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return ct.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),it.isTrue(i.size()<=1),this._coordinates=i}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Na]}}],[{key:"constructor_",value:function(){this._coordinates=null;var i=arguments[0],o=arguments[1];ct.constructor_.call(this,o),this.init(i)}}])}(ct),Ia=function(){function a(){h(this,a)}return v(a,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];return Math.abs(a.ofRingSigned(n))}if(Tt(arguments[0],bt)){var i=arguments[0];return Math.abs(a.ofRingSigned(i))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var n=arguments[0];if(n.length<3)return 0;for(var i=0,o=n[0].x,c=1;c<n.length-1;c++){var g=n[c].x-o,_=n[c+1].y;i+=g*(n[c-1].y-_)}return i/2}if(Tt(arguments[0],bt)){var x=arguments[0],w=x.size();if(w<3)return 0;var P=new G,B=new G,Y=new G;x.getCoordinate(0,B),x.getCoordinate(1,Y);var Q=B.x;Y.x-=Q;for(var ot=0,mt=1;mt<w-1;mt++)P.y=B.y,B.x=Y.x,B.y=Y.y,x.getCoordinate(mt+1,Y),Y.x-=Q,ot+=B.x*(P.y-Y.y);return ot/2}}}])}(),Ie=function(){return v(function a(){h(this,a)},null,[{key:"sort",value:function(){var a=arguments,n=arguments[0];if(arguments.length===1)n.sort(function(Q,ot){return Q.compareTo(ot)});else if(arguments.length===2)n.sort(function(Q,ot){return a[1].compare(Q,ot)});else if(arguments.length===3){var i=n.slice(arguments[1],arguments[2]);i.sort();var o=n.slice(0,arguments[1]).concat(i,n.slice(arguments[2],n.length));n.splice(0,n.length);var c,g=k(o);try{for(g.s();!(c=g.n()).done;){var _=c.value;n.push(_)}}catch(Q){g.e(Q)}finally{g.f()}}else if(arguments.length===4){var x=n.slice(arguments[1],arguments[2]);x.sort(function(Q,ot){return a[3].compare(Q,ot)});var w=n.slice(0,arguments[1]).concat(x,n.slice(arguments[2],n.length));n.splice(0,n.length);var P,B=k(w);try{for(B.s();!(P=B.n()).done;){var Y=P.value;n.push(Y)}}catch(Q){B.e(Q)}finally{B.f()}}}},{key:"asList",value:function(a){var n,i=new kt,o=k(a);try{for(o.s();!(n=o.n()).done;){var c=n.value;i.add(c)}}catch(g){o.e(g)}finally{o.f()}return i}},{key:"copyOf",value:function(a,n){return a.slice(0,n)}}])}(),yt=v(function a(){h(this,a)}),mr=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var i=new Array(this.getNumPoints()).fill(null),o=-1,c=this._shell.getCoordinates(),g=0;g<c.length;g++)i[++o]=c[g];for(var _=0;_<this._holes.length;_++)for(var x=this._holes[_].getCoordinates(),w=0;w<x.length;w++)i[++o]=x[w];return i}},{key:"getArea",value:function(){var i=0;i+=Ia.ofRing(this._shell.getCoordinateSequence());for(var o=0;o<this._holes.length;o++)i-=Ia.ofRing(this._holes[o].getCoordinateSequence());return i}},{key:"copyInternal",value:function(){for(var i=this._shell.copy(),o=new Array(this._holes.length).fill(null),c=0;c<this._holes.length;c++)o[c]=this._holes[c].copy();return new n(i,o,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),o=this.getEnvelopeInternal(),c=0;c<5;c++){var g=i.getX(c);if(g!==o.getMinX()&&g!==o.getMaxX())return!1;var _=i.getY(c);if(_!==o.getMinY()&&_!==o.getMaxY())return!1}for(var x=i.getX(0),w=i.getY(0),P=1;P<=4;P++){var B=i.getX(P),Y=i.getY(P);if(B!==x==(Y!==w))return!1;x=B,w=Y}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var c=i,g=this._shell,_=c._shell;if(!g.equalsExact(_,o)||this._holes.length!==c._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!this._holes[x].equalsExact(c._holes[x],o))return!1;return!0}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var i=0;i<this._holes.length;i++)this._holes[i]=this.normalized(this._holes[i],!1);Ie.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],c=arguments[1];if(o.isEmpty())return null;var g=o.getCoordinateSequence(),_=gi.minCoordinateIndex(g,0,g.size()-2);gi.scroll(g,_,!0),It.isCCW(g)===c&&gi.reverse(g)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var i=this.getExteriorRing().reverse(),o=new Array(this.getNumInteriorRing()).fill(null),c=0;c<o.length;c++)o[c]=this.getInteriorRingN(c).reverse();return this.getFactory().createPolygon(i,o)}},{key:"getTypeCode",value:function(){return ct.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var i=0;i+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)i+=this._holes[o].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)i+=this._holes[o].getNumPoints();return i}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(i,o){var c=i.copy();return this.normalize(c,o),c}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],o=this._shell,c=i._shell;return o.compareToSameClass(c)}if(arguments.length===2){var g=arguments[1],_=arguments[0],x=this._shell,w=_._shell,P=x.compareToSameClass(w,g);if(P!==0)return P;for(var B=this.getNumInteriorRing(),Y=_.getNumInteriorRing(),Q=0;Q<B&&Q<Y;){var ot=this.getInteriorRingN(Q),mt=_.getInteriorRingN(Q),xt=ot.compareToSameClass(mt,g);if(xt!==0)return xt;Q++}return Q<B?1:Q<Y?-1:0}}},{key:"apply",value:function(){if(Tt(arguments[0],Hr)){var i=arguments[0];this._shell.apply(i);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(i)}else if(Tt(arguments[0],Ai)){var c=arguments[0];if(this._shell.apply(c),!c.isDone())for(var g=0;g<this._holes.length&&(this._holes[g].apply(c),!c.isDone());g++);c.isGeometryChanged()&&this.geometryChanged()}else if(Tt(arguments[0],Vr))arguments[0].filter(this);else if(Tt(arguments[0],X)){var _=arguments[0];_.filter(this),this._shell.apply(_);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(_)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var i=new Array(this._holes.length+1).fill(null);i[0]=this._shell;for(var o=0;o<this._holes.length;o++)i[o+1]=this._holes[o];return i.length<=1?this.getFactory().createLinearRing(i[0].getCoordinateSequence()):this.getFactory().createMultiLineString(i)}},{key:"getGeometryType",value:function(){return ct.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(i){return this._holes[i]}},{key:"interfaces_",get:function(){return[yt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var i=arguments[0],o=arguments[1],c=arguments[2];if(ct.constructor_.call(this,c),i===null&&(i=this.getFactory().createLinearRing()),o===null&&(o=[]),ct.hasNullElements(o))throw new U("holes must not contain null elements");if(i.isEmpty()&&ct.hasNonEmptyElements(o))throw new U("shell is empty but holes are not");this._shell=i,this._holes=o}}])}(ct),La=function(a){function n(){return h(this,n),u(this,n,arguments)}return I(n,a),v(n)}(Ae),io=function(a){function n(i){var o;return h(this,n),(o=u(this,n)).array=[],i instanceof Kt&&o.addAll(i),o}return I(n,a),v(n,[{key:"contains",value:function(i){var o,c=k(this.array);try{for(c.s();!(o=c.n()).done;)if(o.value.compareTo(i)===0)return!0}catch(g){c.e(g)}finally{c.f()}return!1}},{key:"add",value:function(i){if(this.contains(i))return!1;for(var o=0,c=this.array.length;o<c;o++)if(this.array[o].compareTo(i)===1)return!!this.array.splice(o,0,i);return this.array.push(i),!0}},{key:"addAll",value:function(i){var o,c=k(i);try{for(c.s();!(o=c.n()).done;){var g=o.value;this.add(g)}}catch(_){c.e(_)}finally{c.f()}return!0}},{key:"remove",value:function(){throw new se}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Ta(this.array)}}])}(La),Ta=function(){return v(function a(n){h(this,a),this.array=n,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new Ne;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new se}}])}(),De=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"computeEnvelopeInternal",value:function(){for(var i=new At,o=0;o<this._geometries.length;o++)i.expandToInclude(this._geometries[o].getEnvelopeInternal());return i}},{key:"getGeometryN",value:function(i){return this._geometries[i]}},{key:"getCoordinates",value:function(){for(var i=new Array(this.getNumPoints()).fill(null),o=-1,c=0;c<this._geometries.length;c++)for(var g=this._geometries[c].getCoordinates(),_=0;_<g.length;_++)i[++o]=g[_];return i}},{key:"getArea",value:function(){for(var i=0,o=0;o<this._geometries.length;o++)i+=this._geometries[o].getArea();return i}},{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var c=i;if(this._geometries.length!==c._geometries.length)return!1;for(var g=0;g<this._geometries.length;g++)if(!this._geometries[g].equalsExact(c._geometries[g],o))return!1;return!0}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<this._geometries.length;i++)this._geometries[i].normalize();Ie.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var i=st.FALSE,o=0;o<this._geometries.length;o++)i=Math.max(i,this._geometries[o].getBoundaryDimension());return i}},{key:"reverseInternal",value:function(){for(var i=this._geometries.length,o=new kt(i),c=0;c<i;c++)o.add(this._geometries[c].reverse());return this.getFactory().buildGeometry(o)}},{key:"getTypeCode",value:function(){return ct.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var i=st.FALSE,o=0;o<this._geometries.length;o++)i=Math.max(i,this._geometries[o].getDimension());return i}},{key:"getLength",value:function(){for(var i=0,o=0;o<this._geometries.length;o++)i+=this._geometries[o].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=0,o=0;o<this._geometries.length;o++)i+=this._geometries[o].getNumPoints();return i}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],o=new io(Ie.asList(this._geometries)),c=new io(Ie.asList(i._geometries));return this.compare(o,c)}if(arguments.length===2){for(var g=arguments[1],_=arguments[0],x=this.getNumGeometries(),w=_.getNumGeometries(),P=0;P<x&&P<w;){var B=this.getGeometryN(P),Y=_.getGeometryN(P),Q=B.compareToSameClass(Y,g);if(Q!==0)return Q;P++}return P<x?1:P<w?-1:0}}},{key:"apply",value:function(){if(Tt(arguments[0],Hr))for(var i=arguments[0],o=0;o<this._geometries.length;o++)this._geometries[o].apply(i);else if(Tt(arguments[0],Ai)){var c=arguments[0];if(this._geometries.length===0)return null;for(var g=0;g<this._geometries.length&&(this._geometries[g].apply(c),!c.isDone());g++);c.isGeometryChanged()&&this.geometryChanged()}else if(Tt(arguments[0],Vr)){var _=arguments[0];_.filter(this);for(var x=0;x<this._geometries.length;x++)this._geometries[x].apply(_)}else if(Tt(arguments[0],X)){var w=arguments[0];w.filter(this);for(var P=0;P<this._geometries.length;P++)this._geometries[P].apply(w)}}},{key:"getBoundary",value:function(){return ct.checkNotGeometryCollection(this),it.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return ct.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],o=arguments[1];if(ct.constructor_.call(this,o),i===null&&(i=[]),ct.hasNullElements(i))throw new U("geometries must not contain null elements");this._geometries=i}}}}])}(ct),jr=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&M(n,"equalsExact",this,1).call(this,i,o)}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var i=arguments[0];return this._geometries[i].getCoordinate()}return M(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return st.FALSE}},{key:"getTypeCode",value:function(){return ct.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return ct.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Na]}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];De.constructor_.call(this,i,o)}}])}(De),Sn=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return st.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||M(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var i=this._points.copy();return gi.reverse(i),this.getFactory().createLinearRing(i)}},{key:"getTypeCode",value:function(){return ct.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!M(n,"isClosed",this,1).call(this))throw new U("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new U("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return ct.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];gr.constructor_.call(this,i,o),this.validateConstruction()}}])}(gr);Sn.MINIMUM_VALID_SIZE=4;var Jn=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"setOrdinate",value:function(i,o){switch(i){case n.X:this.x=o;break;case n.Y:this.y=o;break;default:throw new U("Invalid ordinate index: "+i)}}},{key:"getZ",value:function(){return G.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case n.X:return this.x;case n.Y:return this.y}throw new U("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new U("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)G.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];G.constructor_.call(this,i.x,i.y)}else if(arguments[0]instanceof G){var o=arguments[0];G.constructor_.call(this,o.x,o.y)}}else if(arguments.length===2){var c=arguments[0],g=arguments[1];G.constructor_.call(this,c,g,G.NULL_ORDINATE)}}}])}(G);Jn.X=0,Jn.Y=1,Jn.Z=-1,Jn.M=-1;var mi=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,o){switch(i){case n.X:this.x=o;break;case n.Y:this.y=o;break;case n.M:this._m=o;break;default:throw new U("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getZ",value:function(){return G.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new U("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new U("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)G.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];G.constructor_.call(this,i.x,i.y),this._m=i._m}else if(arguments[0]instanceof G){var o=arguments[0];G.constructor_.call(this,o.x,o.y),this._m=this.getM()}}else if(arguments.length===3){var c=arguments[0],g=arguments[1],_=arguments[2];G.constructor_.call(this,c,g,G.NULL_ORDINATE),this._m=_}}}])}(G);mi.X=0,mi.Y=1,mi.Z=-1,mi.M=2;var ro=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,o){switch(i){case G.X:this.x=o;break;case G.Y:this.y=o;break;case G.Z:this.z=o;break;case G.M:this._m=o;break;default:throw new U("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getOrdinate",value:function(i){switch(i){case G.X:return this.x;case G.Y:return this.y;case G.Z:return this.getZ();case G.M:return this.getM()}throw new U("Invalid ordinate index: "+i)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)G.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof n){var i=arguments[0];G.constructor_.call(this,i),this._m=i._m}else if(arguments[0]instanceof G){var o=arguments[0];G.constructor_.call(this,o),this._m=this.getM()}}else if(arguments.length===4){var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3];G.constructor_.call(this,c,g,_),this._m=x}}}])}(G),Wr=function(){function a(){h(this,a)}return v(a,null,[{key:"measures",value:function(n){return n instanceof Jn?0:n instanceof mi||n instanceof ro?1:0}},{key:"dimension",value:function(n){return n instanceof Jn?2:n instanceof mi?3:n instanceof ro?4:3}},{key:"create",value:function(){if(arguments.length===1){var n=arguments[0];return a.create(n,0)}if(arguments.length===2){var i=arguments[0],o=arguments[1];return i===2?new Jn:i===3&&o===0?new G:i===3&&o===1?new mi:i===4&&o===1?new ro:new G}}}])}(),pr=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"getCoordinate",value:function(i){return this.get(i)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Tt(arguments[0],Kt)){for(var i=arguments[1],o=!1,c=arguments[0].iterator();c.hasNext();)this.add(c.next(),i),o=!0;return o}return M(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var i=M(n,"clone",this,1).call(this),o=0;o<this.size();o++)i.add(o,this.get(o).clone());return i}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(n.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(n.coordArrayType);for(var i=this.size(),o=new Array(i).fill(null),c=0;c<i;c++)o[c]=this.get(i-c-1);return o}}},{key:"add",value:function(){if(arguments.length===1){var i=arguments[0];return M(n,"add",this,1).call(this,i)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],c=arguments[1];return this.add(o,c,!0),!0}if(arguments[0]instanceof G&&typeof arguments[1]=="boolean"){var g=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(g))return null;M(n,"add",this,1).call(this,g)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var _=arguments[0],x=arguments[1];return this.add(_,x),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var w=arguments[0],P=arguments[1];if(arguments[2])for(var B=0;B<w.length;B++)this.add(w[B],P);else for(var Y=w.length-1;Y>=0;Y--)this.add(w[Y],P);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof G){var Q=arguments[0],ot=arguments[1];if(!arguments[2]){var mt=this.size();if(mt>0&&(Q>0&&this.get(Q-1).equals2D(ot)||Q<mt&&this.get(Q).equals2D(ot)))return null}M(n,"add",this,1).call(this,Q,ot)}}else if(arguments.length===4){var xt=arguments[0],Ut=arguments[1],Dt=arguments[2],Wt=arguments[3],ie=1;Dt>Wt&&(ie=-1);for(var we=Dt;we!==Wt;we+=ie)this.add(xt[we],Ut);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var i=this.get(0).copy();this.add(i,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this.ensureCapacity(o.length),this.add(o,c)}}}}])}(kt);pr.coordArrayType=new Array(0).fill(null);var fe=function(){function a(){h(this,a)}return v(a,null,[{key:"isRing",value:function(n){return!(n.length<4)&&!!n[0].equals2D(n[n.length-1])}},{key:"ptNotInList",value:function(n,i){for(var o=0;o<n.length;o++){var c=n[o];if(a.indexOf(c,i)<0)return c}return null}},{key:"scroll",value:function(n,i){var o=a.indexOf(i,n);if(o<0)return null;var c=new Array(n.length).fill(null);nn.arraycopy(n,o,c,0,n.length-o),nn.arraycopy(n,0,c,n.length-o,o),nn.arraycopy(c,0,n,0,n.length)}},{key:"equals",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];if(n===i)return!0;if(n===null||i===null||n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!n[o].equals(i[o]))return!1;return!0}if(arguments.length===3){var c=arguments[0],g=arguments[1],_=arguments[2];if(c===g)return!0;if(c===null||g===null||c.length!==g.length)return!1;for(var x=0;x<c.length;x++)if(_.compare(c[x],g[x])!==0)return!1;return!0}}},{key:"intersection",value:function(n,i){for(var o=new pr,c=0;c<n.length;c++)i.intersects(n[c])&&o.add(n[c],!0);return o.toCoordinateArray()}},{key:"measures",value:function(n){if(n===null||n.length===0)return 0;var i,o=0,c=k(n);try{for(c.s();!(i=c.n()).done;){var g=i.value;o=Math.max(o,Wr.measures(g))}}catch(_){c.e(_)}finally{c.f()}return o}},{key:"hasRepeatedPoints",value:function(n){for(var i=1;i<n.length;i++)if(n[i-1].equals(n[i]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(n){return a.hasRepeatedPoints(n)?new pr(n,!1).toCoordinateArray():n}},{key:"reverse",value:function(n){for(var i=n.length-1,o=Math.trunc(i/2),c=0;c<=o;c++){var g=n[c];n[c]=n[i-c],n[i-c]=g}}},{key:"removeNull",value:function(n){for(var i=0,o=0;o<n.length;o++)n[o]!==null&&i++;var c=new Array(i).fill(null);if(i===0)return c;for(var g=0,_=0;_<n.length;_++)n[_]!==null&&(c[g++]=n[_]);return c}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var n=arguments[0],i=new Array(n.length).fill(null),o=0;o<n.length;o++)i[o]=n[o].copy();return i}if(arguments.length===5)for(var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],w=arguments[4],P=0;P<w;P++)_[x+P]=c[g+P].copy()}},{key:"isEqualReversed",value:function(n,i){for(var o=0;o<n.length;o++){var c=n[o],g=i[n.length-o-1];if(c.compareTo(g)!==0)return!1}return!0}},{key:"envelope",value:function(n){for(var i=new At,o=0;o<n.length;o++)i.expandToInclude(n[o]);return i}},{key:"toCoordinateArray",value:function(n){return n.toArray(a.coordArrayType)}},{key:"dimension",value:function(n){if(n===null||n.length===0)return 3;var i,o=0,c=k(n);try{for(c.s();!(i=c.n()).done;){var g=i.value;o=Math.max(o,Wr.dimension(g))}}catch(_){c.e(_)}finally{c.f()}return o}},{key:"atLeastNCoordinatesOrNothing",value:function(n,i){return i.length>=n?i:[]}},{key:"indexOf",value:function(n,i){for(var o=0;o<i.length;o++)if(n.equals(i[o]))return o;return-1}},{key:"increasingDirection",value:function(n){for(var i=0;i<Math.trunc(n.length/2);i++){var o=n.length-1-i,c=n[i].compareTo(n[o]);if(c!==0)return c}return 1}},{key:"compare",value:function(n,i){for(var o=0;o<n.length&&o<i.length;){var c=n[o].compareTo(i[o]);if(c!==0)return c;o++}return o<i.length?-1:o<n.length?1:0}},{key:"minCoordinate",value:function(n){for(var i=null,o=0;o<n.length;o++)(i===null||i.compareTo(n[o])>0)&&(i=n[o]);return i}},{key:"extract",value:function(n,i,o){i=Ri.clamp(i,0,n.length);var c=(o=Ri.clamp(o,-1,n.length))-i+1;o<0&&(c=0),i>=n.length&&(c=0),o<i&&(c=0);var g=new Array(c).fill(null);if(c===0)return g;for(var _=0,x=i;x<=o;x++)g[_++]=n[x];return g}}])}(),Ol=function(){return v(function a(){h(this,a)},[{key:"compare",value:function(a,n){var i=a,o=n;return fe.compare(i,o)}},{key:"interfaces_",get:function(){return[nt]}}])}(),$r=function(){return v(function a(){h(this,a)},[{key:"compare",value:function(a,n){var i=a,o=n;if(i.length<o.length)return-1;if(i.length>o.length)return 1;if(i.length===0)return 0;var c=fe.compare(i,o);return fe.isEqualReversed(i,o)?0:c}},{key:"OLDcompare",value:function(a,n){var i=a,o=n;if(i.length<o.length)return-1;if(i.length>o.length)return 1;if(i.length===0)return 0;for(var c=fe.increasingDirection(i),g=fe.increasingDirection(o),_=c>0?0:i.length-1,x=g>0?0:i.length-1,w=0;w<i.length;w++){var P=i[_].compareTo(o[x]);if(P!==0)return P;_+=c,x+=g}return 0}},{key:"interfaces_",get:function(){return[nt]}}])}();fe.ForwardComparator=Ol,fe.BidirectionalComparator=$r,fe.coordArrayType=new Array(0).fill(null);var Kr=function(){return v(function a(n){h(this,a),this.str=n},[{key:"append",value:function(a){this.str+=a}},{key:"setCharAt",value:function(a,n){this.str=this.str.substr(0,a)+n+this.str.substr(a+1)}},{key:"toString",value:function(){return this.str}}])}(),vr=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getM",value:function(n){return this.hasM()?this._coordinates[n].getM():F.NaN}},{key:"setOrdinate",value:function(n,i,o){switch(i){case bt.X:this._coordinates[n].x=o;break;case bt.Y:this._coordinates[n].y=o;break;default:this._coordinates[n].setOrdinate(i,o)}}},{key:"getZ",value:function(n){return this.hasZ()?this._coordinates[n].getZ():F.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(n,i){switch(i){case bt.X:return this._coordinates[n].x;case bt.Y:return this._coordinates[n].y;default:return this._coordinates[n].getOrdinate(i)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var n=arguments[0];return this._coordinates[n]}if(arguments.length===2){var i=arguments[0];arguments[1].setCoordinate(this._coordinates[i])}}},{key:"getCoordinateCopy",value:function(n){var i=this.createCoordinate();return i.setCoordinate(this._coordinates[n]),i}},{key:"createCoordinate",value:function(){return Wr.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(n){return this._coordinates[n].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(n){for(var i=0;i<this._coordinates.length;i++)n.expandToInclude(this._coordinates[i]);return n}},{key:"copy",value:function(){for(var n=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++){var o=this.createCoordinate();o.setCoordinate(this._coordinates[i]),n[i]=o}return new a(n,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var n=new Kr(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)n.append(", "),n.append(this._coordinates[i]);return n.append(")"),n.toString()}return"()"}},{key:"getY",value:function(n){return this._coordinates[n].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[bt,K]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];a.constructor_.call(this,n,fe.dimension(n),fe.measures(n))}else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var o=0;o<i;o++)this._coordinates[o]=new G}else if(Tt(arguments[0],bt)){var c=arguments[0];if(c===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=c.getDimension(),this._measures=c.getMeasures(),this._coordinates=new Array(c.size()).fill(null);for(var g=0;g<this._coordinates.length;g++)this._coordinates[g]=c.getCoordinateCopy(g)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _=arguments[0],x=arguments[1];a.constructor_.call(this,_,x,fe.measures(_))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var w=arguments[0],P=arguments[1];this._coordinates=new Array(w).fill(null),this._dimension=P;for(var B=0;B<w;B++)this._coordinates[B]=Wr.create(P)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var Y=arguments[0],Q=arguments[1],ot=arguments[2];this._dimension=Q,this._measures=ot,this._coordinates=Y===null?new Array(0).fill(null):Y}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var mt=arguments[0],xt=arguments[1],Ut=arguments[2];this._coordinates=new Array(mt).fill(null),this._dimension=xt,this._measures=Ut;for(var Dt=0;Dt<mt;Dt++)this._coordinates[Dt]=this.createCoordinate()}}}}])}(),so=function(){function a(){h(this,a)}return v(a,[{key:"readResolve",value:function(){return a.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new vr(arguments[0]);if(Tt(arguments[0],bt))return new vr(arguments[0])}else{if(arguments.length===2){var n=arguments[1];return n>3&&(n=3),n<2&&(n=2),new vr(arguments[0],n)}if(arguments.length===3){var i=arguments[2],o=arguments[1]-i;return i>1&&(i=1),o>3&&(o=3),o<2&&(o=2),new vr(arguments[0],o+i,i)}}}},{key:"interfaces_",get:function(){return[eo,K]}}],[{key:"instance",value:function(){return a.instanceObject}}])}();so.instanceObject=new so;var oo=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&M(n,"equalsExact",this,1).call(this,i,o)}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return ct.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var i=new kt,o=0;o<this._geometries.length;o++)for(var c=this._geometries[o].getBoundary(),g=0;g<c.getNumGeometries();g++)i.add(c.getGeometryN(g));var _=new Array(i.size()).fill(null);return this.getFactory().createMultiLineString(i.toArray(_))}},{key:"getGeometryType",value:function(){return ct.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[yt]}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];De.constructor_.call(this,i,o)}}])}(De),Ca=function(){return v(function a(){h(this,a)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),ao=function(a){function n(){var i;return h(this,n),(i=u(this,n)).map=new Map,i}return I(n,a),v(n,[{key:"get",value:function(i){return this.map.get(i)||null}},{key:"put",value:function(i,o){return this.map.set(i,o),o}},{key:"values",value:function(){for(var i=new kt,o=this.map.values(),c=o.next();!c.done;)i.add(c.value),c=o.next();return i}},{key:"entrySet",value:function(){var i=new xe;return this.map.entries().forEach(function(o){return i.add(o)}),i}},{key:"size",value:function(){return this.map.size()}}])}(Ca),ze=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"equals",value:function(n){if(!(n instanceof a))return!1;var i=n;return this._modelType===i._modelType&&this._scale===i._scale}},{key:"compareTo",value:function(n){var i=n,o=this.getMaximumSignificantDigits(),c=i.getMaximumSignificantDigits();return wn.compare(o,c)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===a.FLOATING||this._modelType===a.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var n="UNKNOWN";return this._modelType===a.FLOATING?n="Floating":this._modelType===a.FLOATING_SINGLE?n="Floating-Single":this._modelType===a.FIXED&&(n="Fixed (Scale="+this.getScale()+")"),n}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var n=arguments[0];return F.isNaN(n)||this._modelType===a.FLOATING_SINGLE?n:this._modelType===a.FIXED?Math.round(n*this._scale)/this._scale:n}if(arguments[0]instanceof G){var i=arguments[0];if(this._modelType===a.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}}},{key:"getMaximumSignificantDigits",value:function(){var n=16;return this._modelType===a.FLOATING?n=16:this._modelType===a.FLOATING_SINGLE?n=6:this._modelType===a.FIXED&&(n=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),n}},{key:"setScale",value:function(n){this._scale=Math.abs(n)}},{key:"interfaces_",get:function(){return[K,V]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=a.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof pi){var n=arguments[0];this._modelType=n,n===a.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var i=arguments[0];this._modelType=a.FIXED,this.setScale(i)}else if(arguments[0]instanceof a){var o=arguments[0];this._modelType=o._modelType,this._scale=o._scale}}}},{key:"mostPrecise",value:function(n,i){return n.compareTo(i)>=0?n:i}}])}(),pi=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"readResolve",value:function(){return a.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){this._name=null;var n=arguments[0];this._name=n,a.nameToTypeMap.put(n,this)}}])}();pi.nameToTypeMap=new ao,ze.Type=pi,ze.FIXED=new pi("FIXED"),ze.FLOATING=new pi("FLOATING"),ze.FLOATING_SINGLE=new pi("FLOATING SINGLE"),ze.maximumPreciseValue=9007199254740992;var Qr=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=this._geometries[o].copy();return new n(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof ct){var i=arguments[0],o=arguments[1];return!!this.isEquivalentClass(i)&&M(n,"equalsExact",this,1).call(this,i,o)}return M(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?st.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return ct.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new se}},{key:"getGeometryType",value:function(){return ct.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Sa]}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];De.constructor_.call(this,i,o)}}])}(De),Nn=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"createEmpty",value:function(n){switch(n){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new U("Invalid dimension: "+n)}}},{key:"toGeometry",value:function(n){return n.isNull()?this.createPoint():n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new G(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new G(n.getMinX(),n.getMinY()),new G(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new G(n.getMinX(),n.getMinY()),new G(n.getMinX(),n.getMaxY()),new G(n.getMaxX(),n.getMaxY()),new G(n.getMaxX(),n.getMinY()),new G(n.getMinX(),n.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLineString(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Tt(arguments[0],bt))return new gr(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Qr(null,this):arguments.length===1?new Qr(arguments[0],this):void 0}},{key:"buildGeometry",value:function(n){for(var i=null,o=!1,c=!1,g=n.iterator();g.hasNext();){var _=g.next(),x=_.getTypeCode();i===null&&(i=x),x!==i&&(o=!0),_ instanceof De&&(c=!0)}if(i===null)return this.createGeometryCollection();if(o||c)return this.createGeometryCollection(a.toGeometryArray(n));var w=n.iterator().next();if(n.size()>1){if(w instanceof mr)return this.createMultiPolygon(a.toPolygonArray(n));if(w instanceof gr)return this.createMultiLineString(a.toLineStringArray(n));if(w instanceof no)return this.createMultiPoint(a.toPointArray(n));it.shouldNeverReachHere("Unhandled geometry type: "+w.getGeometryType())}return w}},{key:"createMultiPointFromCoords",value:function(n){return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof G){var n=arguments[0];return this.createPoint(n!==null?this.getCoordinateSequenceFactory().create([n]):null)}if(Tt(arguments[0],bt))return new no(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Tt(arguments[0],bt)){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof Sn){var o=arguments[0];return this.createPolygon(o,null)}}else if(arguments.length===2)return new mr(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new De(null,this):arguments.length===1?new De(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return this.createLinearRing(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Tt(arguments[0],bt))return new Sn(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new oo(null,this):arguments.length===1?new oo(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new jr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new jr(arguments[0],this);if(Tt(arguments[0],bt)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),o=0;o<n.size();o++){var c=this.getCoordinateSequenceFactory().create(1,n.getDimension(),n.getMeasures());gi.copy(n,o,c,0,1),i[o]=this.createPoint(c)}return this.createMultiPoint(i)}}}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)a.constructor_.call(this,new ze,0);else if(arguments.length===1){if(Tt(arguments[0],eo)){var n=arguments[0];a.constructor_.call(this,new ze,0,n)}else if(arguments[0]instanceof ze){var i=arguments[0];a.constructor_.call(this,i,0,a.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];a.constructor_.call(this,o,c,a.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this._precisionModel=g,this._coordinateSequenceFactory=x,this._SRID=_}}},{key:"toMultiPolygonArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toGeometryArray",value:function(n){if(n===null)return null;var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return so.instance()}},{key:"toMultiLineStringArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toLineStringArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toMultiPointArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toLinearRingArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toPointArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"toPolygonArray",value:function(n){var i=new Array(n.size()).fill(null);return n.toArray(i)}},{key:"createPointFromInternalCoord",value:function(n,i){return i.getPrecisionModel().makePrecise(n),i.getFactory().createPoint(n)}}])}(),Gt="XY",te="XYZ",Jr="XYM",Di="XYZM",vi={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ts="EMPTY",Pt=1,Ht=2,In=3,_r=4,ke=5,Ml=6;for(var es in vi)vi[es].toUpperCase();var _i=function(){return v(function a(n){h(this,a),this.wkt=n,this.index_=-1},[{key:"isAlpha_",value:function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"}},{key:"isNumeric_",value:function(a,n){return a>="0"&&a<="9"||a=="."&&!(n!==void 0&&n)}},{key:"isWhiteSpace_",value:function(a){return a==" "||a=="	"||a=="\r"||a==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var a,n=this.nextChar_(),i=this.index_,o=n;if(n=="(")a=Ht;else if(n==",")a=ke;else if(n==")")a=In;else if(this.isNumeric_(n)||n=="-")a=_r,o=this.readNumber_();else if(this.isAlpha_(n))a=Pt,o=this.readText_();else{if(this.isWhiteSpace_(n))return this.nextToken();if(n!=="")throw new Error("Unexpected character: "+n);a=Ml}return{position:i,value:o,type:a}}},{key:"readNumber_",value:function(){var a,n=this.index_,i=!1,o=!1;do a=="."?i=!0:a!="e"&&a!="E"||(o=!0),a=this.nextChar_();while(this.isNumeric_(a,i)||!o&&(a=="e"||a=="E")||o&&(a=="-"||a=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}},{key:"readText_",value:function(){var a,n=this.index_;do a=this.nextChar_();while(this.isAlpha_(a));return this.wkt.substring(n,this.index_--).toUpperCase()}}])}(),de=function(){return v(function a(n,i){h(this,a),this.lexer_=n,this.token_,this.layout_=Gt,this.factory=i},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(a){return this.token_.type==a}},{key:"match",value:function(a){var n=this.isTokenType(a);return n&&this.consume_(),n}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var a=Gt,n=this.token_;if(this.isTokenType(Pt)){var i=n.value;i==="Z"?a=te:i==="M"?a=Jr:i==="ZM"&&(a=Di),a!==Gt&&this.consume_()}return a}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Ht)){var a=[];do a.push(this.parseGeometry_());while(this.match(ke));if(this.match(In))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Ht)){var a=this.parsePoint_();if(this.match(In))return a}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Ht)){var a=this.parsePointList_();if(this.match(In))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Ht)){var a=this.parseLineStringTextList_();if(this.match(In))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var a;if(this.match(Ht)){if(a=this.token_.type==Ht?this.parsePointTextList_():this.parsePointList_(),this.match(In))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Ht)){var a=this.parseLineStringTextList_();if(this.match(In))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Ht)){var a=this.parsePolygonTextList_();if(this.match(In))return a}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var a=[],n=this.layout_.length,i=0;i<n;++i){var o=this.token_;if(!this.match(_r))break;a.push(o.value)}if(a.length==n)return a;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var a=[this.parsePoint_()];this.match(ke);)a.push(this.parsePoint_());return a}},{key:"parsePointTextList_",value:function(){for(var a=[this.parsePointText_()];this.match(ke);)a.push(this.parsePointText_());return a}},{key:"parseLineStringTextList_",value:function(){for(var a=[this.parseLineStringText_()];this.match(ke);)a.push(this.parseLineStringText_());return a}},{key:"parsePolygonTextList_",value:function(){for(var a=[this.parsePolygonText_()];this.match(ke);)a.push(this.parsePolygonText_());return a}},{key:"isEmptyGeometry_",value:function(){var a=this.isTokenType(Pt)&&this.token_.value==ts;return a&&this.consume_(),a}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var a=this.factory,n=function(xt){return d(G,b(xt))},i=function(xt){var Ut=xt.map(function(Dt){return a.createLinearRing(Dt.map(n))});return Ut.length>1?a.createPolygon(Ut[0],Ut.slice(1)):a.createPolygon(Ut[0])},o=this.token_;if(this.match(Pt)){var c=o.value;if(this.layout_=this.parseGeometryLayout_(),c=="GEOMETRYCOLLECTION"){var g=this.parseGeometryCollectionText_();return a.createGeometryCollection(g)}switch(c){case"POINT":var _=this.parsePointText_();return _?a.createPoint(d(G,b(_))):a.createPoint();case"LINESTRING":var x=this.parseLineStringText_().map(n);return a.createLineString(x);case"LINEARRING":var w=this.parseLineStringText_().map(n);return a.createLinearRing(w);case"POLYGON":var P=this.parsePolygonText_();return P&&P.length!==0?i(P):a.createPolygon();case"MULTIPOINT":var B=this.parseMultiPointText_();if(!B||B.length===0)return a.createMultiPoint();var Y=B.map(n).map(function(xt){return a.createPoint(xt)});return a.createMultiPoint(Y);case"MULTILINESTRING":var Q=this.parseMultiLineStringText_().map(function(xt){return a.createLineString(xt.map(n))});return a.createMultiLineString(Q);case"MULTIPOLYGON":var ot=this.parseMultiPolygonText_();if(!ot||ot.length===0)return a.createMultiPolygon();var mt=ot.map(i);return a.createMultiPolygon(mt);default:throw new Error("Invalid geometry type: "+c)}}throw new Error(this.formatErrorMessage_())}}])}();function ti(a){if(a.isEmpty())return"";var n=a.getCoordinate(),i=[n.x,n.y];return n.z===void 0||Number.isNaN(n.z)||i.push(n.z),n.m===void 0||Number.isNaN(n.m)||i.push(n.m),i.join(" ")}function Gn(a){for(var n=a.getCoordinates().map(function(g){var _=[g.x,g.y];return g.z===void 0||Number.isNaN(g.z)||_.push(g.z),g.m===void 0||Number.isNaN(g.m)||_.push(g.m),_}),i=[],o=0,c=n.length;o<c;++o)i.push(n[o].join(" "));return i.join(", ")}function zi(a){var n=[];n.push("("+Gn(a.getExteriorRing())+")");for(var i=0,o=a.getNumInteriorRing();i<o;++i)n.push("("+Gn(a.getInteriorRingN(i))+")");return n.join(", ")}var uo={Point:ti,LineString:Gn,LinearRing:Gn,Polygon:zi,MultiPoint:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push("("+ti(a.getGeometryN(i))+")");return n.join(", ")},MultiLineString:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push("("+Gn(a.getGeometryN(i))+")");return n.join(", ")},MultiPolygon:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push("("+zi(a.getGeometryN(i))+")");return n.join(", ")},GeometryCollection:function(a){for(var n=[],i=0,o=a.getNumGeometries();i<o;++i)n.push(Fi(a.getGeometryN(i)));return n.join(", ")}};function Fi(a){var n=a.getGeometryType(),i=uo[n];n=n.toUpperCase();var o=function(c){var g="";if(c.isEmpty())return g;var _=c.getCoordinate();return _.z===void 0||Number.isNaN(_.z)||(g+="Z"),_.m===void 0||Number.isNaN(_.m)||(g+="M"),g}(a);return o.length>0&&(n+=" "+o),a.isEmpty()?n+" "+ts:n+" ("+i(a)+")"}var lo=function(){return v(function a(n){h(this,a),this.geometryFactory=n||new Nn,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(a){var n=new _i(a);return new de(n,this.geometryFactory).parse()}},{key:"write",value:function(a){return Fi(a)}}])}(),yr=function(){return v(function a(n){h(this,a),this.parser=new lo(n)},[{key:"write",value:function(a){return this.parser.write(a)}}],[{key:"toLineString",value:function(a,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+n.x+" "+n.y+" )"}}])}(),Vt=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getIndexAlongSegment",value:function(n,i){return this.computeIntLineIndex(),this._intLineIndex[n][i]}},{key:"getTopologySummary",value:function(){var n=new Kr;return this.isEndPoint()&&n.append(" endpoint"),this._isProper&&n.append(" proper"),this.isCollinear()&&n.append(" collinear"),n.toString()}},{key:"computeIntersection",value:function(n,i,o,c){this._inputLines[0][0]=n,this._inputLines[0][1]=i,this._inputLines[1][0]=o,this._inputLines[1][1]=c,this._result=this.computeIntersect(n,i,o,c)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var n=arguments[0];this.getEdgeDistance(n,0)>this.getEdgeDistance(n,1)?(this._intLineIndex[n][0]=0,this._intLineIndex[n][1]=1):(this._intLineIndex[n][0]=1,this._intLineIndex[n][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var n=arguments[0],i=0;i<this._result;i++)if(!this._intPt[i].equals2D(this._inputLines[n][0])&&!this._intPt[i].equals2D(this._inputLines[n][1]))return!0;return!1}}},{key:"getIntersection",value:function(n){return this._intPt[n]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==a.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(n,i){return a.computeEdgeDistance(this._intPt[i],this._inputLines[n][0],this._inputLines[n][1])}},{key:"isCollinear",value:function(){return this._result===a.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return yr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+yr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(n,i){return this._inputLines[n][i]}},{key:"isIntersection",value:function(n){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(n))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(n,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[n][i]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new G,this._intPt[1]=new G,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(n,i,o){var c=Math.abs(o.x-i.x),g=Math.abs(o.y-i.y),_=-1;if(n.equals(i))_=0;else if(n.equals(o))_=c>g?c:g;else{var x=Math.abs(n.x-i.x),w=Math.abs(n.y-i.y);(_=c>g?x:w)!==0||n.equals(i)||(_=Math.max(x,w))}return it.isTrue(!(_===0&&!n.equals(i)),"Bad distance calculation"),_}},{key:"nonRobustComputeEdgeDistance",value:function(n,i,o){var c=n.x-i.x,g=n.y-i.y,_=Math.sqrt(c*c+g*g);return it.isTrue(!(_===0&&!n.equals(i)),"Invalid distance calculation"),_}}])}();Vt.DONT_INTERSECT=0,Vt.DO_INTERSECT=1,Vt.COLLINEAR=2,Vt.NO_INTERSECTION=0,Vt.POINT_INTERSECTION=1,Vt.COLLINEAR_INTERSECTION=2;var Un=function(a){function n(){return h(this,n),u(this,n)}return I(n,a),v(n,[{key:"isInSegmentEnvelopes",value:function(i){var o=new At(this._inputLines[0][0],this._inputLines[0][1]),c=new At(this._inputLines[1][0],this._inputLines[1][1]);return o.contains(i)&&c.contains(i)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return M(n,"computeIntersection",this,1).apply(this,arguments);var i=arguments[0],o=arguments[1],c=arguments[2];if(this._isProper=!1,At.intersects(o,c,i)&&It.index(o,c,i)===0&&It.index(c,o,i)===0)return this._isProper=!0,(i.equals(o)||i.equals(c))&&(this._isProper=!1),this._result=Vt.POINT_INTERSECTION,null;this._result=Vt.NO_INTERSECTION}},{key:"intersection",value:function(i,o,c,g){var _=this.intersectionSafe(i,o,c,g);return this.isInSegmentEnvelopes(_)||(_=new G(n.nearestEndpoint(i,o,c,g))),this._precisionModel!==null&&this._precisionModel.makePrecise(_),_}},{key:"checkDD",value:function(i,o,c,g,_){var x=Qs.intersection(i,o,c,g),w=this.isInSegmentEnvelopes(x);nn.out.println("DD in env = "+w+"  --------------------- "+x),_.distance(x)>1e-4&&nn.out.println("Distance = "+_.distance(x))}},{key:"intersectionSafe",value:function(i,o,c,g){var _=to.intersection(i,o,c,g);return _===null&&(_=n.nearestEndpoint(i,o,c,g)),_}},{key:"computeCollinearIntersection",value:function(i,o,c,g){var _=At.intersects(i,o,c),x=At.intersects(i,o,g),w=At.intersects(c,g,i),P=At.intersects(c,g,o);return _&&x?(this._intPt[0]=c,this._intPt[1]=g,Vt.COLLINEAR_INTERSECTION):w&&P?(this._intPt[0]=i,this._intPt[1]=o,Vt.COLLINEAR_INTERSECTION):_&&w?(this._intPt[0]=c,this._intPt[1]=i,!c.equals(i)||x||P?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):_&&P?(this._intPt[0]=c,this._intPt[1]=o,!c.equals(o)||x||w?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):x&&w?(this._intPt[0]=g,this._intPt[1]=i,!g.equals(i)||_||P?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):x&&P?(this._intPt[0]=g,this._intPt[1]=o,!g.equals(o)||_||w?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):Vt.NO_INTERSECTION}},{key:"computeIntersect",value:function(i,o,c,g){if(this._isProper=!1,!At.intersects(i,o,c,g))return Vt.NO_INTERSECTION;var _=It.index(i,o,c),x=It.index(i,o,g);if(_>0&&x>0||_<0&&x<0)return Vt.NO_INTERSECTION;var w=It.index(c,g,i),P=It.index(c,g,o);return w>0&&P>0||w<0&&P<0?Vt.NO_INTERSECTION:_===0&&x===0&&w===0&&P===0?this.computeCollinearIntersection(i,o,c,g):(_===0||x===0||w===0||P===0?(this._isProper=!1,i.equals2D(c)||i.equals2D(g)?this._intPt[0]=i:o.equals2D(c)||o.equals2D(g)?this._intPt[0]=o:_===0?this._intPt[0]=new G(c):x===0?this._intPt[0]=new G(g):w===0?this._intPt[0]=new G(i):P===0&&(this._intPt[0]=new G(o))):(this._isProper=!0,this._intPt[0]=this.intersection(i,o,c,g)),Vt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(i,o,c,g){var _=i,x=fn.pointToSegment(i,c,g),w=fn.pointToSegment(o,c,g);return w<x&&(x=w,_=o),(w=fn.pointToSegment(c,i,o))<x&&(x=w,_=c),(w=fn.pointToSegment(g,i,o))<x&&(x=w,_=g),_}}])}(Vt),ho=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"countSegment",value:function(n,i){if(n.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(n.y===this._p.y&&i.y===this._p.y){var o=n.x,c=i.x;return o>c&&(o=i.x,c=n.x),this._p.x>=o&&this._p.x<=c&&(this._isPointOnSegment=!0),null}if(n.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&n.y<=this._p.y){var g=It.index(n,i,this._p);if(g===It.COLLINEAR)return this._isPointOnSegment=!0,null;i.y<n.y&&(g=-g),g===It.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==R.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?R.BOUNDARY:this._crossingCount%2==1?R.INTERIOR:R.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var n=arguments[0];this._p=n}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof G&&Tt(arguments[1],bt)){for(var n=arguments[1],i=new a(arguments[0]),o=new G,c=new G,g=1;g<n.size();g++)if(n.getCoordinate(g,o),n.getCoordinate(g-1,c),i.countSegment(o,c),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof G&&arguments[1]instanceof Array){for(var _=arguments[1],x=new a(arguments[0]),w=1;w<_.length;w++){var P=_[w],B=_[w-1];if(x.countSegment(P,B),x.isOnSegment())return x.getLocation()}return x.getLocation()}}}])}(),Bi=function(){function a(){h(this,a)}return v(a,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof G&&Tt(arguments[1],bt)){for(var n=arguments[0],i=arguments[1],o=new Un,c=new G,g=new G,_=i.size(),x=1;x<_;x++)if(i.getCoordinate(x-1,c),i.getCoordinate(x,g),o.computeIntersection(n,c,g),o.hasIntersection())return!0;return!1}if(arguments[0]instanceof G&&arguments[1]instanceof Array){for(var w=arguments[0],P=arguments[1],B=new Un,Y=1;Y<P.length;Y++){var Q=P[Y-1],ot=P[Y];if(B.computeIntersection(w,Q,ot),B.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(n,i){return ho.locatePointInRing(n,i)}},{key:"isInRing",value:function(n,i){return a.locateInRing(n,i)!==R.EXTERIOR}}])}(),je=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"setAllLocations",value:function(n){for(var i=0;i<this.location.length;i++)this.location[i]=n}},{key:"isNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==R.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(n){for(var i=0;i<this.location.length;i++)this.location[i]===R.NONE&&(this.location[i]=n)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(n){if(n.location.length>this.location.length){var i=new Array(3).fill(null);i[tt.ON]=this.location[tt.ON],i[tt.LEFT]=R.NONE,i[tt.RIGHT]=R.NONE,this.location=i}for(var o=0;o<this.location.length;o++)this.location[o]===R.NONE&&o<n.location.length&&(this.location[o]=n.location[o])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var n=this.location[tt.LEFT];this.location[tt.LEFT]=this.location[tt.RIGHT],this.location[tt.RIGHT]=n}},{key:"toString",value:function(){var n=new Qn;return this.location.length>1&&n.append(R.toLocationSymbol(this.location[tt.LEFT])),n.append(R.toLocationSymbol(this.location[tt.ON])),this.location.length>1&&n.append(R.toLocationSymbol(this.location[tt.RIGHT])),n.toString()}},{key:"setLocations",value:function(n,i,o){this.location[tt.ON]=n,this.location[tt.LEFT]=i,this.location[tt.RIGHT]=o}},{key:"get",value:function(n){return n<this.location.length?this.location[n]:R.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===R.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var n=arguments[0];this.setLocation(tt.ON,n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.location[i]=o}}},{key:"init",value:function(n){this.location=new Array(n).fill(null),this.setAllLocations(R.NONE)}},{key:"isEqualOnSide",value:function(n,i){return this.location[i]===n.location[i]}},{key:"allPositionsEqual",value:function(n){for(var i=0;i<this.location.length;i++)if(this.location[i]!==n)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[tt.ON]=i}else if(arguments[0]instanceof a){var o=arguments[0];if(this.init(o.location.length),o!==null)for(var c=0;c<this.location.length;c++)this.location[c]=o.location[c]}}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this.init(3),this.location[tt.ON]=g,this.location[tt.LEFT]=_,this.location[tt.RIGHT]=x}}}])}(),Ue=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getGeometryCount",value:function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n}},{key:"setAllLocations",value:function(n,i){this.elt[n].setAllLocations(i)}},{key:"isNull",value:function(n){return this.elt[n].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var n=arguments[0];this.setAllLocationsIfNull(0,n),this.setAllLocationsIfNull(1,n)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.elt[i].setAllLocationsIfNull(o)}}},{key:"isLine",value:function(n){return this.elt[n].isLine()}},{key:"merge",value:function(n){for(var i=0;i<2;i++)this.elt[i]===null&&n.elt[i]!==null?this.elt[i]=new je(n.elt[i]):this.elt[i].merge(n.elt[i])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var n=arguments[0];return this.elt[n].get(tt.ON)}if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.elt[i].get(o)}}},{key:"toString",value:function(){var n=new Qn;return this.elt[0]!==null&&(n.append("A:"),n.append(this.elt[0].toString())),this.elt[1]!==null&&(n.append(" B:"),n.append(this.elt[1].toString())),n.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var n=arguments[0];return this.elt[n].isArea()}}},{key:"isAnyNull",value:function(n){return this.elt[n].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this.elt[n].setLocation(tt.ON,i)}else if(arguments.length===3){var o=arguments[0],c=arguments[1],g=arguments[2];this.elt[o].setLocation(c,g)}}},{key:"isEqualOnSide",value:function(n,i){return this.elt[0].isEqualOnSide(n.elt[0],i)&&this.elt[1].isEqualOnSide(n.elt[1],i)}},{key:"allPositionsEqual",value:function(n,i){return this.elt[n].allPositionsEqual(i)}},{key:"toLine",value:function(n){this.elt[n].isArea()&&(this.elt[n]=new je(this.elt[n].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new je(n),this.elt[1]=new je(n)}else if(arguments[0]instanceof a){var i=arguments[0];this.elt[0]=new je(i.elt[0]),this.elt[1]=new je(i.elt[1])}}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this.elt[0]=new je(R.NONE),this.elt[1]=new je(R.NONE),this.elt[o].setLocation(c)}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this.elt[0]=new je(g,_,x),this.elt[1]=new je(g,_,x)}else if(arguments.length===4){var w=arguments[0],P=arguments[1],B=arguments[2],Y=arguments[3];this.elt[0]=new je(R.NONE,R.NONE,R.NONE),this.elt[1]=new je(R.NONE,R.NONE,R.NONE),this.elt[w].setLocations(P,B,Y)}}},{key:"toLineLabel",value:function(n){for(var i=new a(R.NONE),o=0;o<2;o++)i.setLocation(o,n.getLocation(o));return i}}])}(),ns=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var a=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)a[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=It.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(a){this._startDe=a;var n=a,i=!0;do{if(n===null)throw new En("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new En("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var o=n.getLabel();it.isTrue(o.isArea()),this.mergeLabel(o),this.addPoints(n.getEdge(),n.isForward(),i),i=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(a){return this._pts.get(a)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var a=this._startDe;do{var n=a.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(a,n,i){var o=a.getCoordinates();if(n){var c=1;i&&(c=0);for(var g=c;g<o.length;g++)this._pts.add(o[g])}else{var _=o.length-2;i&&(_=o.length-1);for(var x=_;x>=0;x--)this._pts.add(o[x])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var a=this._startDe;do a.getEdge().setInResult(!0),a=a.getNext();while(a!==this._startDe)}},{key:"containsPoint",value:function(a){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(a)||!Bi.isInRing(a,n.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(a))return!1;return!0}},{key:"addHole",value:function(a){this._holes.add(a)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(arguments.length===2){var n=arguments[1],i=arguments[0].getLocation(n,tt.RIGHT);if(i===R.NONE)return null;if(this._label.getLocation(n)===R.NONE)return this._label.setLocation(n,i),null}}},{key:"setShell",value:function(a){this._shell=a,a!==null&&a.addHole(this)}},{key:"toPolygon",value:function(a){for(var n=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)n[i]=this._holes.get(i).getLinearRing();return a.createPolygon(this.getLinearRing(),n)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new kt,this._pts=new kt,this._label=new Ue(R.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new kt,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var a=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(a),this.computeRing()}}}}])}(),Ot=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"setEdgeRing",value:function(i,o){i.setMinEdgeRing(o)}},{key:"getNext",value:function(i){return i.getNextMin()}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];ns.constructor_.call(this,i,o)}}])}(ns),Ln=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"buildMinimalRings",value:function(){var i=new kt,o=this._startDe;do{if(o.getMinEdgeRing()===null){var c=new Ot(o,this._geometryFactory);i.add(c)}o=o.getNext()}while(o!==this._startDe);return i}},{key:"setEdgeRing",value:function(i,o){i.setEdgeRing(o)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var i=this._startDe;do i.getNode().getEdges().linkMinimalDirectedEdges(this),i=i.getNext();while(i!==this._startDe)}},{key:"getNext",value:function(i){return i.getNext()}}],[{key:"constructor_",value:function(){var i=arguments[0],o=arguments[1];ns.constructor_.call(this,i,o)}}])}(ns),jt=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(a){this._isVisited=a}},{key:"setInResult",value:function(a){this._isInResult=a}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(a){this._label=a}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(a){this._isCovered=a,this._isCoveredSet=!0}},{key:"updateIM",value:function(a){it.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._label=a}}}}])}(),xr=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"isIncidentEdgeInResult",value:function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();)if(i.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(i){i.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(i){}},{key:"computeMergedLocation",value:function(i,o){var c=R.NONE;if(c=this._label.getLocation(o),!i.isNull(o)){var g=i.getLocation(o);c!==R.BOUNDARY&&(c=g)}return c}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return M(n,"setLabel",this,1).apply(this,arguments);var i=arguments[0],o=arguments[1];this._label===null?this._label=new Ue(i,o):this._label.setLocation(i,o)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof Ue)for(var o=arguments[0],c=0;c<2;c++){var g=this.computeMergedLocation(o,c);this._label.getLocation(c)===R.NONE&&this._label.setLocation(c,g)}}},{key:"add",value:function(i){this._edges.insert(i),i.setNode(this)}},{key:"setLabelBoundary",value:function(i){if(this._label===null)return null;var o=R.NONE;this._label!==null&&(o=this._label.getLocation(i));var c=null;switch(o){case R.BOUNDARY:c=R.INTERIOR;break;case R.INTERIOR:default:c=R.BOUNDARY}this._label.setLocation(i,c)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var i=arguments[0],o=arguments[1];this._coord=i,this._edges=o,this._label=new Ue(0,R.NONE)}}])}(jt),co=function(a){function n(){return h(this,n),u(this,n,arguments)}return I(n,a),v(n)}(Ca);function is(a){return a==null?0:a.color}function Yt(a){return a==null?null:a.parent}function Le(a,n){a!==null&&(a.color=n)}function kr(a){return a==null?null:a.left}function bi(a){return a==null?null:a.right}var oe=function(a){function n(){var i;return h(this,n),(i=u(this,n)).root_=null,i.size_=0,i}return I(n,a),v(n,[{key:"get",value:function(i){for(var o=this.root_;o!==null;){var c=i.compareTo(o.key);if(c<0)o=o.left;else{if(!(c>0))return o.value;o=o.right}}return null}},{key:"put",value:function(i,o){if(this.root_===null)return this.root_={key:i,value:o,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,g,_=this.root_;do if(c=_,(g=i.compareTo(_.key))<0)_=_.left;else{if(!(g>0)){var x=_.value;return _.value=o,x}_=_.right}while(_!==null);var w={key:i,left:null,right:null,value:o,parent:c,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return g<0?c.left=w:c.right=w,this.fixAfterInsertion(w),this.size_++,null}},{key:"fixAfterInsertion",value:function(i){var o;for(i.color=1;i!=null&&i!==this.root_&&i.parent.color===1;)Yt(i)===kr(Yt(Yt(i)))?is(o=bi(Yt(Yt(i))))===1?(Le(Yt(i),0),Le(o,0),Le(Yt(Yt(i)),1),i=Yt(Yt(i))):(i===bi(Yt(i))&&(i=Yt(i),this.rotateLeft(i)),Le(Yt(i),0),Le(Yt(Yt(i)),1),this.rotateRight(Yt(Yt(i)))):is(o=kr(Yt(Yt(i))))===1?(Le(Yt(i),0),Le(o,0),Le(Yt(Yt(i)),1),i=Yt(Yt(i))):(i===kr(Yt(i))&&(i=Yt(i),this.rotateRight(i)),Le(Yt(i),0),Le(Yt(Yt(i)),1),this.rotateLeft(Yt(Yt(i))));this.root_.color=0}},{key:"values",value:function(){var i=new kt,o=this.getFirstEntry();if(o!==null)for(i.add(o.value);(o=n.successor(o))!==null;)i.add(o.value);return i}},{key:"entrySet",value:function(){var i=new xe,o=this.getFirstEntry();if(o!==null)for(i.add(o);(o=n.successor(o))!==null;)i.add(o);return i}},{key:"rotateLeft",value:function(i){if(i!=null){var o=i.right;i.right=o.left,o.left!=null&&(o.left.parent=i),o.parent=i.parent,i.parent==null?this.root_=o:i.parent.left===i?i.parent.left=o:i.parent.right=o,o.left=i,i.parent=o}}},{key:"rotateRight",value:function(i){if(i!=null){var o=i.left;i.left=o.right,o.right!=null&&(o.right.parent=i),o.parent=i.parent,i.parent==null?this.root_=o:i.parent.right===i?i.parent.right=o:i.parent.left=o,o.right=i,i.parent=o}}},{key:"getFirstEntry",value:function(){var i=this.root_;if(i!=null)for(;i.left!=null;)i=i.left;return i}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(i){for(var o=this.root_;o!==null;){var c=i.compareTo(o.key);if(c<0)o=o.left;else{if(!(c>0))return!0;o=o.right}}return!1}}],[{key:"successor",value:function(i){var o;if(i===null)return null;if(i.right!==null){for(o=i.right;o.left!==null;)o=o.left;return o}o=i.parent;for(var c=i;o!==null&&c===o.right;)c=o,o=o.parent;return o}}])}(co),ei=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"find",value:function(a){return this.nodeMap.get(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof G){var a=arguments[0],n=this.nodeMap.get(a);return n===null&&(n=this.nodeFact.createNode(a),this.nodeMap.put(a,n)),n}if(arguments[0]instanceof xr){var i=arguments[0],o=this.nodeMap.get(i.getCoordinate());return o===null?(this.nodeMap.put(i.getCoordinate(),i),i):(o.mergeLabel(i),o)}}},{key:"print",value:function(a){for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(a){for(var n=new kt,i=this.iterator();i.hasNext();){var o=i.next();o.getLabel().getLocation(a)===R.BOUNDARY&&n.add(o)}return n}},{key:"add",value:function(a){var n=a.getCoordinate();this.addNode(n).add(a)}}],[{key:"constructor_",value:function(){this.nodeMap=new oe,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}}])}(),Te=function(){function a(){h(this,a)}return v(a,null,[{key:"isNorthern",value:function(n){return n===a.NE||n===a.NW}},{key:"isOpposite",value:function(n,i){return n!==i&&(n-i+4)%4===2}},{key:"commonHalfPlane",value:function(n,i){if(n===i)return n;if((n-i+4)%4===2)return-1;var o=n<i?n:i;return o===0&&(n>i?n:i)===3?3:o}},{key:"isInHalfPlane",value:function(n,i){return i===a.SE?n===a.SE||n===a.SW:n===i||n===i+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];if(n===0&&i===0)throw new U("Cannot compute the quadrant for point ( "+n+", "+i+" )");return n>=0?i>=0?a.NE:a.SE:i>=0?a.NW:a.SW}if(arguments[0]instanceof G&&arguments[1]instanceof G){var o=arguments[0],c=arguments[1];if(c.x===o.x&&c.y===o.y)throw new U("Cannot compute the quadrant for two identical points "+o);return c.x>=o.x?c.y>=o.y?a.NE:a.SE:c.y>=o.y?a.NW:a.SW}}}])}();Te.NE=0,Te.NW=1,Te.SW=2,Te.SE=3;var fo=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"compareDirection",value:function(n){return this._dx===n._dx&&this._dy===n._dy?0:this._quadrant>n._quadrant?1:this._quadrant<n._quadrant?-1:It.index(n._p0,n._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(n){this._node=n}},{key:"print",value:function(n){var i=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),c=o.lastIndexOf("."),g=o.substring(c+1);n.print("  "+g+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)}},{key:"compareTo",value:function(n){var i=n;return this.compareDirection(i)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var n=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),o=i.lastIndexOf(".");return"  "+i.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label}},{key:"computeLabel",value:function(n){}},{key:"init",value:function(n,i){this._p0=n,this._p1=i,this._dx=i.x-n.x,this._dy=i.y-n.y,this._quadrant=Te.quadrant(this._dx,this._dy),it.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var n=arguments[0];this._edge=n}else if(arguments.length===3){var i=arguments[0],o=arguments[1],c=arguments[2];a.constructor_.call(this,i,o,c,null)}else if(arguments.length===4){var g=arguments[0],_=arguments[1],x=arguments[2],w=arguments[3];a.constructor_.call(this,g),this.init(_,x),this._label=w}}}])}(),go=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(i){return this._depth[i]}},{key:"setVisited",value:function(i){this._isVisited=i}},{key:"computeDirectedLabel",value:function(){this._label=new Ue(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(i,o){if(this._depth[i]!==-999&&this._depth[i]!==o)throw new En("assigned depths do not match",this.getCoordinate());this._depth[i]=o}},{key:"isInteriorAreaEdge",value:function(){for(var i=!0,o=0;o<2;o++)this._label.isArea(o)&&this._label.getLocation(o,tt.LEFT)===R.INTERIOR&&this._label.getLocation(o,tt.RIGHT)===R.INTERIOR||(i=!1);return i}},{key:"setNextMin",value:function(i){this._nextMin=i}},{key:"print",value:function(i){M(n,"print",this,1).call(this,i),i.print(" "+this._depth[tt.LEFT]+"/"+this._depth[tt.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")}},{key:"setMinEdgeRing",value:function(i){this._minEdgeRing=i}},{key:"isLineEdge",value:function(){var i=this._label.isLine(0)||this._label.isLine(1),o=!this._label.isArea(0)||this._label.allPositionsEqual(0,R.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,R.EXTERIOR);return i&&o&&c}},{key:"setEdgeRing",value:function(i){this._edgeRing=i}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i}},{key:"setInResult",value:function(i){this._isInResult=i}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)}},{key:"setSym",value:function(i){this._sym=i}},{key:"setVisitedEdge",value:function(i){this.setVisited(i),this._sym.setVisited(i)}},{key:"setEdgeDepths",value:function(i,o){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var g=1;i===tt.LEFT&&(g=-1);var _=tt.opposite(i),x=o+c*g;this.setDepth(i,o),this.setDepth(_,x)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(i){this._next=i}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var i=arguments[0],o=arguments[1];if(fo.constructor_.call(this,i),this._isForward=o,o)this.init(i.getCoordinate(0),i.getCoordinate(1));else{var c=i.getNumPoints()-1;this.init(i.getCoordinate(c),i.getCoordinate(c-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(i,o){return i===R.EXTERIOR&&o===R.INTERIOR?1:i===R.INTERIOR&&o===R.EXTERIOR?-1:0}}])}(fo),mo=function(){return v(function a(){h(this,a)},[{key:"createNode",value:function(a){return new xr(a,null)}}])}(),rs=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(a){a.println("Edges:");for(var n=0;n<this._edges.size();n++){a.println("edge "+n+":");var i=this._edges.get(n);i.print(a),i.eiList.print(a)}}},{key:"find",value:function(a){return this._nodes.find(a)}},{key:"addNode",value:function(){if(arguments[0]instanceof xr){var a=arguments[0];return this._nodes.addNode(a)}if(arguments[0]instanceof G){var n=arguments[0];return this._nodes.addNode(n)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(a){nn.out.println(a)}},{key:"isBoundaryNode",value:function(a,n){var i=this._nodes.find(n);if(i===null)return!1;var o=i.getLabel();return o!==null&&o.getLocation(a)===R.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(a,n,i,o){return!!a.equals(i)&&It.index(a,n,o)===It.COLLINEAR&&Te.quadrant(a,n)===Te.quadrant(i,o)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(a){nn.out.print(a)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(a,n){for(var i=0;i<this._edges.size();i++){var o=this._edges.get(i),c=o.getCoordinates();if(this.matchInSameDirection(a,n,c[0],c[1])||this.matchInSameDirection(a,n,c[c.length-1],c[c.length-2]))return o}return null}},{key:"insertEdge",value:function(a){this._edges.add(a)}},{key:"findEdgeEnd",value:function(a){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var i=n.next();if(i.getEdge()===a)return i}return null}},{key:"addEdges",value:function(a){for(var n=a.iterator();n.hasNext();){var i=n.next();this._edges.add(i);var o=new go(i,!0),c=new go(i,!1);o.setSym(c),c.setSym(o),this.add(o),this.add(c)}}},{key:"add",value:function(a){this._nodes.add(a),this._edgeEndList.add(a)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(a,n){for(var i=0;i<this._edges.size();i++){var o=this._edges.get(i),c=o.getCoordinates();if(a.equals(c[0])&&n.equals(c[1]))return o}return null}}],[{key:"constructor_",value:function(){if(this._edges=new kt,this._nodes=null,this._edgeEndList=new kt,arguments.length===0)this._nodes=new ei(new mo);else if(arguments.length===1){var a=arguments[0];this._nodes=new ei(a)}}},{key:"linkResultDirectedEdges",value:function(a){for(var n=a.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()}}])}(),Rl=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"sortShellsAndHoles",value:function(n,i,o){for(var c=n.iterator();c.hasNext();){var g=c.next();g.isHole()?o.add(g):i.add(g)}}},{key:"computePolygons",value:function(n){for(var i=new kt,o=n.iterator();o.hasNext();){var c=o.next().toPolygon(this._geometryFactory);i.add(c)}return i}},{key:"placeFreeHoles",value:function(n,i){for(var o=i.iterator();o.hasNext();){var c=o.next();if(c.getShell()===null){var g=a.findEdgeRingContaining(c,n);if(g===null)throw new En("unable to assign hole to a shell",c.getCoordinate(0));c.setShell(g)}}}},{key:"buildMinimalEdgeRings",value:function(n,i,o){for(var c=new kt,g=n.iterator();g.hasNext();){var _=g.next();if(_.getMaxNodeDegree()>2){_.linkDirectedEdgesForMinimalEdgeRings();var x=_.buildMinimalRings(),w=this.findShell(x);w!==null?(this.placePolygonHoles(w,x),i.add(w)):o.addAll(x)}else c.add(_)}return c}},{key:"buildMaximalEdgeRings",value:function(n){for(var i=new kt,o=n.iterator();o.hasNext();){var c=o.next();if(c.isInResult()&&c.getLabel().isArea()&&c.getEdgeRing()===null){var g=new Ln(c,this._geometryFactory);i.add(g),g.setInResult()}}return i}},{key:"placePolygonHoles",value:function(n,i){for(var o=i.iterator();o.hasNext();){var c=o.next();c.isHole()&&c.setShell(n)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(n){for(var i=0,o=null,c=n.iterator();c.hasNext();){var g=c.next();g.isHole()||(o=g,i++)}return it.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),o}},{key:"add",value:function(){if(arguments.length===1){var n=arguments[0];this.add(n.getEdgeEnds(),n.getNodes())}else if(arguments.length===2){var i=arguments[0],o=arguments[1];rs.linkResultDirectedEdges(o);var c=this.buildMaximalEdgeRings(i),g=new kt,_=this.buildMinimalEdgeRings(c,this._shellList,g);this.sortShellsAndHoles(_,this._shellList,g),this.placeFreeHoles(this._shellList,g)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new kt;var n=arguments[0];this._geometryFactory=n}},{key:"findEdgeRingContaining",value:function(n,i){for(var o=n.getLinearRing(),c=o.getEnvelopeInternal(),g=o.getCoordinateN(0),_=null,x=null,w=i.iterator();w.hasNext();){var P=w.next(),B=P.getLinearRing(),Y=B.getEnvelopeInternal();if(!Y.equals(c)&&Y.contains(c)){g=fe.ptNotInList(o.getCoordinates(),B.getCoordinates());var Q=!1;Bi.isInRing(g,B.getCoordinates())&&(Q=!0),Q&&(_===null||x.contains(Y))&&(x=(_=P).getLinearRing().getEnvelopeInternal())}}return _}}])}(),po=function(){return v(function a(){h(this,a)},[{key:"getBounds",value:function(){}}])}(),Mt=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[po,K]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var a=arguments[0],n=arguments[1];this._bounds=a,this._item=n}}])}(),ss=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(a){for(var n=null,i=this._items.get(a);2*a<=this._size&&((n=2*a)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(i)<0);a=n)this._items.set(a,this._items.get(n));this._items.set(a,i)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(a){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,a)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new kt,this._items.add(null)}}])}(),dn=function(){return v(function a(){h(this,a)},[{key:"insert",value:function(a,n){}},{key:"remove",value:function(a,n){}},{key:"query",value:function(){}}])}(),Ce=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(a){it.isTrue(this._bounds===null),this._childBoundables.add(a)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[po,K]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new kt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this._level=a}}}}])}(),yi={reverseOrder:function(){return{compare:function(a,n){return n.compareTo(a)}}},min:function(a){return yi.sort(a),a.get(0)},sort:function(a,n){var i=a.toArray();n?Ie.sort(i,n):Ie.sort(i);for(var o=a.iterator(),c=0,g=i.length;c<g;c++)o.next(),o.set(i[c])},singletonList:function(a){var n=new kt;return n.add(a),n}},Al=function(){function a(){h(this,a)}return v(a,null,[{key:"maxDistance",value:function(n,i,o,c,g,_,x,w){var P=a.distance(n,i,g,_);return P=Math.max(P,a.distance(n,i,x,w)),P=Math.max(P,a.distance(o,c,g,_)),P=Math.max(P,a.distance(o,c,x,w))}},{key:"distance",value:function(n,i,o,c){var g=o-n,_=c-i;return Math.sqrt(g*g+_*_)}},{key:"maximumDistance",value:function(n,i){var o=Math.min(n.getMinX(),i.getMinX()),c=Math.min(n.getMinY(),i.getMinY()),g=Math.max(n.getMaxX(),i.getMaxX()),_=Math.max(n.getMaxY(),i.getMaxY());return a.distance(o,c,g,_)}},{key:"minMaxDistance",value:function(n,i){var o=n.getMinX(),c=n.getMinY(),g=n.getMaxX(),_=n.getMaxY(),x=i.getMinX(),w=i.getMinY(),P=i.getMaxX(),B=i.getMaxY(),Y=a.maxDistance(o,c,o,_,x,w,x,B);return Y=Math.min(Y,a.maxDistance(o,c,o,_,x,w,P,w)),Y=Math.min(Y,a.maxDistance(o,c,o,_,P,B,x,B)),Y=Math.min(Y,a.maxDistance(o,c,o,_,P,B,P,w)),Y=Math.min(Y,a.maxDistance(o,c,g,c,x,w,x,B)),Y=Math.min(Y,a.maxDistance(o,c,g,c,x,w,P,w)),Y=Math.min(Y,a.maxDistance(o,c,g,c,P,B,x,B)),Y=Math.min(Y,a.maxDistance(o,c,g,c,P,B,P,w)),Y=Math.min(Y,a.maxDistance(g,_,o,_,x,w,x,B)),Y=Math.min(Y,a.maxDistance(g,_,o,_,x,w,P,w)),Y=Math.min(Y,a.maxDistance(g,_,o,_,P,B,x,B)),Y=Math.min(Y,a.maxDistance(g,_,o,_,P,B,P,w)),Y=Math.min(Y,a.maxDistance(g,_,g,c,x,w,x,B)),Y=Math.min(Y,a.maxDistance(g,_,g,c,x,w,P,w)),Y=Math.min(Y,a.maxDistance(g,_,g,c,P,B,x,B)),Y=Math.min(Y,a.maxDistance(g,_,g,c,P,B,P,w))}}])}(),ni=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"maximumDistance",value:function(){return Al.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(n,i){var o=a.isComposite(this._boundable1),c=a.isComposite(this._boundable2);if(o&&c)return a.area(this._boundable1)>a.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,n,i),null):(this.expand(this._boundable2,this._boundable1,!0,n,i),null);if(o)return this.expand(this._boundable1,this._boundable2,!1,n,i),null;if(c)return this.expand(this._boundable2,this._boundable1,!0,n,i),null;throw new U("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(a.isComposite(this._boundable1)||a.isComposite(this._boundable2))}},{key:"compareTo",value:function(n){var i=n;return this._distance<i._distance?-1:this._distance>i._distance?1:0}},{key:"expand",value:function(n,i,o,c,g){for(var _=n.getChildBoundables().iterator();_.hasNext();){var x=_.next(),w=null;(w=o?new a(i,x,this._itemDistance):new a(x,i,this._itemDistance)).getDistance()<g&&c.add(w)}}},{key:"getBoundable",value:function(n){return n===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var n=arguments[0],i=arguments[1],o=arguments[2];this._boundable1=n,this._boundable2=i,this._itemDistance=o,this._distance=this.distance()}},{key:"area",value:function(n){return n.getBounds().getArea()}},{key:"isComposite",value:function(n){return n instanceof Ce}}])}(),Pa=function(){return v(function a(){h(this,a)},[{key:"visitItem",value:function(a){}}])}(),xi=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"queryInternal",value:function(){if(Tt(arguments[2],Pa)&&arguments[0]instanceof Object&&arguments[1]instanceof Ce)for(var n=arguments[0],i=arguments[2],o=arguments[1].getChildBoundables(),c=0;c<o.size();c++){var g=o.get(c);this.getIntersectsOp().intersects(g.getBounds(),n)&&(g instanceof Ce?this.queryInternal(n,g,i):g instanceof Mt?i.visitItem(g.getItem()):it.shouldNeverReachHere())}else if(Tt(arguments[2],kn)&&arguments[0]instanceof Object&&arguments[1]instanceof Ce)for(var _=arguments[0],x=arguments[2],w=arguments[1].getChildBoundables(),P=0;P<w.size();P++){var B=w.get(P);this.getIntersectsOp().intersects(B.getBounds(),_)&&(B instanceof Ce?this.queryInternal(_,B,x):B instanceof Mt?x.add(B.getItem()):it.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(n){return n.get(n.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Ce?n+=this.size(o):o instanceof Mt&&(n+=1)}return n}}},{key:"removeItem",value:function(n,i){for(var o=null,c=n.getChildBoundables().iterator();c.hasNext();){var g=c.next();g instanceof Mt&&g.getItem()===i&&(o=g)}return o!==null&&(n.getChildBoundables().remove(o),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new kt:n}if(arguments.length===1){for(var i=arguments[0],o=new kt,c=i.getChildBoundables().iterator();c.hasNext();){var g=c.next();if(g instanceof Ce){var _=this.itemsTree(g);_!==null&&o.add(_)}else g instanceof Mt?o.add(g.getItem()):it.shouldNeverReachHere()}return o.size()<=0?null:o}}},{key:"insert",value:function(n,i){it.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Mt(n,i))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var n=arguments[0],i=new kt;return this.boundablesAtLevel(n,this._root,i),i}if(arguments.length===3){var o=arguments[0],c=arguments[1],g=arguments[2];if(it.isTrue(o>-2),c.getLevel()===o)return g.add(c),null;for(var _=c.getChildBoundables().iterator();_.hasNext();){var x=_.next();x instanceof Ce?this.boundablesAtLevel(o,x,g):(it.isTrue(x instanceof Mt),o===-1&&g.add(x))}return null}}},{key:"query",value:function(){if(arguments.length===1){var n=arguments[0];this.build();var i=new kt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i),i}if(arguments.length===2){var o=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.queryInternal(o,this._root,c)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,i)}if(arguments.length===3){var o=arguments[0],c=arguments[1],g=arguments[2],_=this.removeItem(c,g);if(_)return!0;for(var x=null,w=c.getChildBoundables().iterator();w.hasNext();){var P=w.next();if(this.getIntersectsOp().intersects(P.getBounds(),o)&&P instanceof Ce&&(_=this.remove(o,P,g))){x=P;break}}return x!==null&&x.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(x),_}}},{key:"createHigherLevels",value:function(n,i){it.isTrue(!n.isEmpty());var o=this.createParentBoundables(n,i+1);return o.size()===1?o.get(0):this.createHigherLevels(o,i+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof Ce){var c=this.depth(o);c>n&&(n=c)}}return n+1}}},{key:"createParentBoundables",value:function(n,i){it.isTrue(!n.isEmpty());var o=new kt;o.add(this.createNode(i));var c=new kt(n);yi.sort(c,this.getComparator());for(var g=c.iterator();g.hasNext();){var _=g.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(i)),this.lastNode(o).addChildBoundable(_)}return o}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new kt,this._nodeCapacity=null,arguments.length===0)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var n=arguments[0];it.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}}},{key:"compareDoubles",value:function(n,i){return n>i?1:n<i?-1:0}}])}();xi.IntersectsOp=function(){},xi.DEFAULT_NODE_CAPACITY=10;var Dl=function(){return v(function a(){h(this,a)},[{key:"distance",value:function(a,n){}}])}(),Tn=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(i,o){it.isTrue(i.length>0);for(var c=new kt,g=0;g<i.length;g++)c.addAll(this.createParentBoundablesFromVerticalSlice(i[g],o));return c}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.nearestNeighbourK(i,F.POSITIVE_INFINITY,o)}if(arguments.length===3){var c=arguments[0],g=arguments[2],_=arguments[1],x=new ss;x.add(c);for(var w=new ss;!x.isEmpty()&&_>=0;){var P=x.poll(),B=P.getDistance();if(B>=_)break;P.isLeaves()?w.size()<g?w.add(P):(w.peek().getDistance()>B&&(w.poll(),w.add(P)),_=w.peek().getDistance()):P.expandToQueue(x,_)}return n.getItems(w)}}},{key:"createNode",value:function(i){return new os(i)}},{key:"size",value:function(){return arguments.length===0?M(n,"size",this,1).call(this):M(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof At))return M(n,"insert",this,1).apply(this,arguments);var i=arguments[0],o=arguments[1];if(i.isNull())return null;M(n,"insert",this,1).call(this,i,o)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(i,o){for(var c=Math.trunc(Math.ceil(i.size()/o)),g=new Array(o).fill(null),_=i.iterator(),x=0;x<o;x++){g[x]=new kt;for(var w=0;_.hasNext()&&w<c;){var P=_.next();g[x].add(P),w++}}return g}},{key:"query",value:function(){if(arguments.length===1){var i=arguments[0];return M(n,"query",this,1).call(this,i)}if(arguments.length===2){var o=arguments[0],c=arguments[1];M(n,"query",this,1).call(this,o,c)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(i,o){return M(n,"createParentBoundables",this,1).call(this,i,o)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof At){var i=arguments[0],o=arguments[1];return M(n,"remove",this,1).call(this,i,o)}return M(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?M(n,"depth",this,1).call(this):M(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(i,o){it.isTrue(!i.isEmpty());var c=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),g=new kt(i);yi.sort(g,n.xComparator);var _=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(_,o)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Tt(arguments[0],Dl)){var i=arguments[0];if(this.isEmpty())return null;var o=new ni(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(o)}if(arguments[0]instanceof ni){var c=arguments[0],g=F.POSITIVE_INFINITY,_=null,x=new ss;for(x.add(c);!x.isEmpty()&&g>0;){var w=x.poll(),P=w.getDistance();if(P>=g)break;w.isLeaves()?(g=P,_=w):w.expandToQueue(x,g)}return _===null?null:[_.getBoundable(0).getItem(),_.getBoundable(1).getItem()]}}else{if(arguments.length===2){var B=arguments[0],Y=arguments[1];if(this.isEmpty()||B.isEmpty())return null;var Q=new ni(this.getRoot(),B.getRoot(),Y);return this.nearestNeighbour(Q)}if(arguments.length===3){var ot=arguments[2],mt=new Mt(arguments[0],arguments[1]),xt=new ni(this.getRoot(),mt,ot);return this.nearestNeighbour(xt)[0]}if(arguments.length===4){var Ut=arguments[2],Dt=arguments[3],Wt=new Mt(arguments[0],arguments[1]),ie=new ni(this.getRoot(),Wt,Ut);return this.nearestNeighbourK(ie,Dt)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var i=arguments[0],o=arguments[1],c=F.POSITIVE_INFINITY,g=new ss;for(g.add(i);!g.isEmpty();){var _=g.poll(),x=_.getDistance();if(x>o)return!1;if(_.maximumDistance()<=o)return!0;if(_.isLeaves()){if((c=x)<=o)return!0}else _.expandToQueue(g,c)}return!1}if(arguments.length===3){var w=arguments[0],P=arguments[1],B=arguments[2],Y=new ni(this.getRoot(),w.getRoot(),P);return this.isWithinDistance(Y,B)}}},{key:"interfaces_",get:function(){return[dn,K]}}],[{key:"constructor_",value:function(){if(arguments.length===0)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var i=arguments[0];xi.constructor_.call(this,i)}}},{key:"centreX",value:function(i){return n.avg(i.getMinX(),i.getMaxX())}},{key:"avg",value:function(i,o){return(i+o)/2}},{key:"getItems",value:function(i){for(var o=new Array(i.size()).fill(null),c=0;!i.isEmpty();){var g=i.poll();o[c]=g.getBoundable(0).getItem(),c++}return o}},{key:"centreY",value:function(i){return n.avg(i.getMinY(),i.getMaxY())}}])}(xi),os=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"computeBounds",value:function(){for(var i=null,o=this.getChildBoundables().iterator();o.hasNext();){var c=o.next();i===null?i=new At(c.getBounds()):i.expandToInclude(c.getBounds())}return i}}],[{key:"constructor_",value:function(){var i=arguments[0];Ce.constructor_.call(this,i)}}])}(Ce);Tn.STRtreeNode=os,Tn.xComparator=new(function(){return v(function a(){h(this,a)},[{key:"interfaces_",get:function(){return[nt]}},{key:"compare",value:function(a,n){return xi.compareDoubles(Tn.centreX(a.getBounds()),Tn.centreX(n.getBounds()))}}])}()),Tn.yComparator=new(function(){return v(function a(){h(this,a)},[{key:"interfaces_",get:function(){return[nt]}},{key:"compare",value:function(a,n){return xi.compareDoubles(Tn.centreY(a.getBounds()),Tn.centreY(n.getBounds()))}}])}()),Tn.intersectsOp=new(function(){return v(function a(){h(this,a)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(a,n){return a.intersects(n)}}])}()),Tn.DEFAULT_NODE_CAPACITY=10;var zl=function(){function a(){h(this,a)}return v(a,null,[{key:"relativeSign",value:function(n,i){return n<i?-1:n>i?1:0}},{key:"compare",value:function(n,i,o){if(i.equals2D(o))return 0;var c=a.relativeSign(i.x,o.x),g=a.relativeSign(i.y,o.y);switch(n){case 0:return a.compareValue(c,g);case 1:return a.compareValue(g,c);case 2:return a.compareValue(g,-c);case 3:return a.compareValue(-c,g);case 4:return a.compareValue(-c,-g);case 5:return a.compareValue(-g,-c);case 6:return a.compareValue(-g,c);case 7:return a.compareValue(c,-g)}return it.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(n,i){return n<0?-1:n>0?1:i<0?-1:i>0?1:0}}])}(),Cn=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(a){var n=a;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:this._isInterior?n._isInterior?zl.compare(this._segmentOctant,this.coord,n.coord):1:-1}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===a}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this._segString=a,this.coord=new G(n),this.segmentIndex=i,this._segmentOctant=o,this._isInterior=!n.equals2D(a.getCoordinate(i))}}])}(),Fl=function(){return v(function a(){h(this,a)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),Oa=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var a=new pr;this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next();this.addEdgeCoordinates(i,o,a),i=o}return a.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var a=new kt;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var n=a.iterator();n.hasNext();){var i=n.next().intValue();this.add(this._edge.getCoordinate(i),i)}}},{key:"createSplitEdgePts",value:function(a,n){var i=n.segmentIndex-a.segmentIndex+2;if(i===2)return[new G(a.coord),new G(n.coord)];var o=this._edge.getCoordinate(n.segmentIndex),c=n.isInterior()||!n.coord.equals2D(o);c||i--;var g=new Array(i).fill(null),_=0;g[_++]=new G(a.coord);for(var x=a.segmentIndex+1;x<=n.segmentIndex;x++)g[_++]=this._edge.getCoordinate(x);return c&&(g[_]=new G(n.coord)),g}},{key:"print",value:function(a){a.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"findCollapsesFromExistingVertices",value:function(a){for(var n=0;n<this._edge.size()-2;n++){var i=this._edge.getCoordinate(n);this._edge.getCoordinate(n+1);var o=this._edge.getCoordinate(n+2);i.equals2D(o)&&a.add(wn.valueOf(n+1))}}},{key:"addEdgeCoordinates",value:function(a,n,i){var o=this.createSplitEdgePts(a,n);i.add(o,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next(),c=this.createSplitEdge(i,o);a.add(c),i=o}}},{key:"findCollapseIndex",value:function(a,n,i){if(!a.coord.equals2D(n.coord))return!1;var o=n.segmentIndex-a.segmentIndex;return n.isInterior()||o--,o===1&&(i[0]=a.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(a){for(var n=new Array(1).fill(null),i=this.iterator(),o=i.next();i.hasNext();){var c=i.next();this.findCollapseIndex(o,c,n)&&a.add(wn.valueOf(n[0])),o=c}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)}},{key:"createSplitEdge",value:function(a,n){var i=this.createSplitEdgePts(a,n);return new Yn(i,this._edge.getData())}},{key:"add",value:function(a,n){var i=new Cn(this._edge,a,n,this._edge.getSegmentOctant(n)),o=this._nodeMap.get(i);return o!==null?(it.isTrue(o.coord.equals2D(a),"Found equal nodes with different coordinates"),o):(this._nodeMap.put(i,i),i)}},{key:"checkSplitEdgesCorrectness",value:function(a){var n=this._edge.getCoordinates(),i=a.get(0).getCoordinate(0);if(!i.equals2D(n[0]))throw new ut("bad split edge start point at "+i);var o=a.get(a.size()-1).getCoordinates(),c=o[o.length-1];if(!c.equals2D(n[n.length-1]))throw new ut("bad split edge end point at "+c)}}],[{key:"constructor_",value:function(){this._nodeMap=new oe,this._edge=null;var a=arguments[0];this._edge=a}}])}(),ii=function(){function a(){h(this,a)}return v(a,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];if(n===0&&i===0)throw new U("Cannot compute the octant for point ( "+n+", "+i+" )");var o=Math.abs(n),c=Math.abs(i);return n>=0?i>=0?o>=c?0:1:o>=c?7:6:i>=0?o>=c?3:2:o>=c?4:5}if(arguments[0]instanceof G&&arguments[1]instanceof G){var g=arguments[0],_=arguments[1],x=_.x-g.x,w=_.y-g.y;if(x===0&&w===0)throw new U("Cannot compute the octant for two identical points "+g);return a.octant(x,w)}}}])}(),Ma=function(){return v(function a(){h(this,a)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(a){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(a){}},{key:"getData",value:function(){}}])}(),Ra=function(){return v(function a(){h(this,a)},[{key:"addIntersection",value:function(a,n){}},{key:"interfaces_",get:function(){return[Ma]}}])}(),Yn=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(n){return this._pts[n]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(n){return n===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))}},{key:"setData",value:function(n){this._data=n}},{key:"safeOctant",value:function(n,i){return n.equals2D(i)?0:ii.octant(n,i)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this.addIntersectionNode(n,i)}else if(arguments.length===4){var o=arguments[1],c=arguments[3],g=new G(arguments[0].getIntersection(c));this.addIntersection(g,o)}}},{key:"toString",value:function(){return yr.toLineString(new vr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(n,i){var o=i,c=o+1;if(c<this._pts.length){var g=this._pts[c];n.equals2D(g)&&(o=c)}return this._nodeList.add(n,o)}},{key:"addIntersections",value:function(n,i,o){for(var c=0;c<n.getIntersectionNum();c++)this.addIntersection(n,i,o,c)}},{key:"interfaces_",get:function(){return[Ra]}}],[{key:"constructor_",value:function(){this._nodeList=new Oa(this),this._pts=null,this._data=null;var n=arguments[0],i=arguments[1];this._pts=n,this._data=i}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var n=arguments[0],i=new kt;return a.getNodedSubstrings(n,i),i}if(arguments.length===2)for(var o=arguments[1],c=arguments[0].iterator();c.hasNext();)c.next().getNodeList().addSplitEdges(o)}}])}(),We=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof a){var n=arguments[0],i=It.index(this.p0,this.p1,n.p0),o=It.index(this.p0,this.p1,n.p1);return i>=0&&o>=0||i<=0&&o<=0?Math.max(i,o):0}if(arguments[0]instanceof G){var c=arguments[0];return It.index(this.p0,this.p1,c)}}},{key:"toGeometry",value:function(n){return n.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(n){if(!(n instanceof a))return!1;var i=n;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)}},{key:"intersection",value:function(n){var i=new Un;return i.computeIntersection(this.p0,this.p1,n.p0,n.p1),i.hasIntersection()?i.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof G){var n=arguments[0];if(n.equals(this.p0)||n.equals(this.p1))return new G(n);var i=this.projectionFactor(n),o=new G;return o.x=this.p0.x+i*(this.p1.x-this.p0.x),o.y=this.p0.y+i*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof a){var c=arguments[0],g=this.projectionFactor(c.p0),_=this.projectionFactor(c.p1);if(g>=1&&_>=1||g<=0&&_<=0)return null;var x=this.project(c.p0);g<0&&(x=this.p0),g>1&&(x=this.p1);var w=this.project(c.p1);return _<0&&(w=this.p0),_>1&&(w=this.p1),new a(x,w)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(n){return n===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(n){return fn.pointToLinePerpendicular(n,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return a.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,c=i*i+o*o;return c<=0?F.NaN:((n.x-this.p0.x)*i+(n.y-this.p0.y)*o)/c}},{key:"closestPoints",value:function(n){var i=this.intersection(n);if(i!==null)return[i,i];var o=new Array(2).fill(null),c=F.MAX_VALUE,g=null,_=this.closestPoint(n.p0);c=_.distance(n.p0),o[0]=_,o[1]=n.p0;var x=this.closestPoint(n.p1);(g=x.distance(n.p1))<c&&(c=g,o[0]=x,o[1]=n.p1);var w=n.closestPoint(this.p0);(g=w.distance(this.p0))<c&&(c=g,o[0]=this.p0,o[1]=w);var P=n.closestPoint(this.p1);return(g=P.distance(this.p1))<c&&(c=g,o[0]=this.p1,o[1]=P),o}},{key:"closestPoint",value:function(n){var i=this.projectionFactor(n);return i>0&&i<1?this.project(n):this.p0.distance(n)<this.p1.distance(n)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(n){var i=n,o=this.p0.compareTo(i.p0);return o!==0?o:this.p1.compareTo(i.p1)}},{key:"reverse",value:function(){var n=this.p0;this.p0=this.p1,this.p1=n}},{key:"equalsTopo",value:function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)}},{key:"lineIntersection",value:function(n){return to.intersection(this.p0,this.p1,n.p0,n.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(n,i){var o=this.p0.x+n*(this.p1.x-this.p0.x),c=this.p0.y+n*(this.p1.y-this.p0.y),g=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,x=Math.sqrt(g*g+_*_),w=0,P=0;if(i!==0){if(x<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");w=i*g/x,P=i*_/x}return new G(o-P,c+w)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var n=arguments[0];this.setCoordinates(n.p0,n.p1)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=o.x,this.p1.y=o.y}}},{key:"segmentFraction",value:function(n){var i=this.projectionFactor(n);return i<0?i=0:(i>1||F.isNaN(i))&&(i=1),i}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(n){var i=this.p1.getY()-this.p0.getY(),o=this.p0.getX()-this.p1.getX(),c=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),g=i*i+o*o,_=i*i-o*o,x=n.getX(),w=n.getY();return new G((-_*x-2*i*o*w-2*i*c)/g,(_*w-2*i*o*x-2*o*c)/g)}},{key:"distance",value:function(){if(arguments[0]instanceof a){var n=arguments[0];return fn.segmentToSegment(this.p0,this.p1,n.p0,n.p1)}if(arguments[0]instanceof G){var i=arguments[0];return fn.pointToSegment(i,this.p0,this.p1)}}},{key:"pointAlong",value:function(n){var i=new G;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}},{key:"hashCode",value:function(){var n=F.doubleToLongBits(this.p0.x);n^=31*F.doubleToLongBits(this.p0.y);var i=Math.trunc(n)^Math.trunc(n>>32),o=F.doubleToLongBits(this.p1.x);return o^=31*F.doubleToLongBits(this.p1.y),i^(Math.trunc(o)^Math.trunc(o>>32))}},{key:"interfaces_",get:function(){return[V,K]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)a.constructor_.call(this,new G,new G);else if(arguments.length===1){var n=arguments[0];a.constructor_.call(this,n.p0,n.p1)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.p0=i,this.p1=o}else if(arguments.length===4){var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3];a.constructor_.call(this,new G(c,g),new G(_,x))}}},{key:"midPoint",value:function(n,i){return new G((n.x+i.x)/2,(n.y+i.y)/2)}}])}(),Aa=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var a=arguments[1],n=arguments[2],i=arguments[3];arguments[0].getLineSegment(a,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new We,this._overlapSeg2=new We}}])}(),vo=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(a,n){n.p0=this._pts[a],n.p1=this._pts[a+1]}},{key:"computeSelect",value:function(a,n,i,o){var c=this._pts[n],g=this._pts[i];if(i-n==1)return o.select(this,n),null;if(!a.intersects(c,g))return null;var _=Math.trunc((n+i)/2);n<_&&this.computeSelect(a,n,_,o),_<i&&this.computeSelect(a,_,i,o)}},{key:"getCoordinates",value:function(){for(var a=new Array(this._end-this._start+1).fill(null),n=0,i=this._start;i<=this._end;i++)a[n++]=this._pts[i];return a}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var a=arguments[0],n=arguments[1];this.computeOverlaps(this._start,this._end,a,a._start,a._end,n)}else if(arguments.length===6){var i=arguments[0],o=arguments[1],c=arguments[2],g=arguments[3],_=arguments[4],x=arguments[5];if(o-i==1&&_-g==1)return x.overlap(this,i,c,g),null;if(!this.overlaps(i,o,c,g,_))return null;var w=Math.trunc((i+o)/2),P=Math.trunc((g+_)/2);i<w&&(g<P&&this.computeOverlaps(i,w,c,g,P,x),P<_&&this.computeOverlaps(i,w,c,P,_,x)),w<o&&(g<P&&this.computeOverlaps(w,o,c,g,P,x),P<_&&this.computeOverlaps(w,o,c,P,_,x))}}},{key:"setId",value:function(a){this._id=a}},{key:"select",value:function(a,n){this.computeSelect(a,this._start,this._end,n)}},{key:"getEnvelope",value:function(){if(this._env===null){var a=this._pts[this._start],n=this._pts[this._end];this._env=new At(a,n)}return this._env}},{key:"overlaps",value:function(a,n,i,o,c){return At.intersects(this._pts[a],this._pts[n],i._pts[o],i._pts[c])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this._pts=a,this._start=n,this._end=i,this._context=o}}])}(),Bl=function(){function a(){h(this,a)}return v(a,null,[{key:"findChainEnd",value:function(n,i){for(var o=i;o<n.length-1&&n[o].equals2D(n[o+1]);)o++;if(o>=n.length-1)return n.length-1;for(var c=Te.quadrant(n[o],n[o+1]),g=i+1;g<n.length&&!(!n[g-1].equals2D(n[g])&&Te.quadrant(n[g-1],n[g])!==c);)g++;return g-1}},{key:"getChains",value:function(){if(arguments.length===1){var n=arguments[0];return a.getChains(n,null)}if(arguments.length===2){var i=arguments[0],o=arguments[1],c=new kt,g=0;do{var _=a.findChainEnd(i,g),x=new vo(i,g,_,o);c.add(x),g=_}while(g<i.length-1);return c}}}])}(),_o=function(){return v(function a(){h(this,a)},[{key:"computeNodes",value:function(a){}},{key:"getNodedSubstrings",value:function(){}}])}(),as=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(a){this._segInt=a}},{key:"interfaces_",get:function(){return[_o]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.setSegmentIntersector(a)}}}}])}(),yo=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Yn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(i){for(var o=Bl.getChains(i.getCoordinates(),i).iterator();o.hasNext();){var c=o.next();c.setId(this._idCounter++),this._index.insert(c.getEnvelope(),c),this._monoChains.add(c)}}},{key:"computeNodes",value:function(i){this._nodedSegStrings=i;for(var o=i.iterator();o.hasNext();)this.add(o.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var i=new xo(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var c=o.next(),g=this._index.query(c.getEnvelope()).iterator();g.hasNext();){var _=g.next();if(_.getId()>c.getId()&&(c.computeOverlaps(_,i),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new kt,this._index=new Tn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var i=arguments[0];as.constructor_.call(this,i)}}}}])}(as),xo=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"overlap",value:function(){if(arguments.length!==4)return M(n,"overlap",this,1).apply(this,arguments);var i=arguments[1],o=arguments[2],c=arguments[3],g=arguments[0].getContext(),_=o.getContext();this._si.processIntersections(g,i,_,c)}}],[{key:"constructor_",value:function(){this._si=null;var i=arguments[0];this._si=i}}])}(Aa);yo.SegmentOverlapAction=xo;var rn=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"isDeletable",value:function(n,i,o,c){var g=this._inputLine[n],_=this._inputLine[i],x=this._inputLine[o];return!!this.isConcave(g,_,x)&&!!this.isShallow(g,_,x,c)&&this.isShallowSampled(g,_,n,o,c)}},{key:"deleteShallowConcavities",value:function(){for(var n=1,i=this.findNextNonDeletedIndex(n),o=this.findNextNonDeletedIndex(i),c=!1;o<this._inputLine.length;){var g=!1;this.isDeletable(n,i,o,this._distanceTol)&&(this._isDeleted[i]=a.DELETE,g=!0,c=!0),n=g?o:i,i=this.findNextNonDeletedIndex(n),o=this.findNextNonDeletedIndex(i)}return c}},{key:"isShallowConcavity",value:function(n,i,o,c){return It.index(n,i,o)===this._angleOrientation&&fn.pointToSegment(i,n,o)<c}},{key:"isShallowSampled",value:function(n,i,o,c,g){var _=Math.trunc((c-o)/a.NUM_PTS_TO_CHECK);_<=0&&(_=1);for(var x=o;x<c;x+=_)if(!this.isShallow(n,i,this._inputLine[x],g))return!1;return!0}},{key:"isConcave",value:function(n,i,o){var c=It.index(n,i,o)===this._angleOrientation;return c}},{key:"simplify",value:function(n){this._distanceTol=Math.abs(n),n<0&&(this._angleOrientation=It.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(n){for(var i=n+1;i<this._inputLine.length&&this._isDeleted[i]===a.DELETE;)i++;return i}},{key:"isShallow",value:function(n,i,o,c){return fn.pointToSegment(i,n,o)<c}},{key:"collapseLine",value:function(){for(var n=new pr,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==a.DELETE&&n.add(this._inputLine[i]);return n.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=It.COUNTERCLOCKWISE;var n=arguments[0];this._inputLine=n}},{key:"simplify",value:function(n,i){return new a(n).simplify(i)}}])}();rn.INIT=0,rn.DELETE=1,rn.KEEP=1,rn.NUM_PTS_TO_CHECK=10;var wr=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getCoordinates",value:function(){return this._ptList.toArray(a.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(n){this._precisionModel=n}},{key:"addPt",value:function(n){var i=new G(n);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(n,i){if(i)for(var o=0;o<n.length;o++)this.addPt(n[o]);else for(var c=n.length-1;c>=0;c--)this.addPt(n[c])}},{key:"isRedundant",value:function(n){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return n.distance(i)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Nn().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var n=new G(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(n.equals(i))return null;this._ptList.add(n)}},{key:"setMinimumVertexDistance",value:function(n){this._minimimVertexDistance=n}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new kt}}])}();wr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var pe=function(){function a(){h(this,a)}return v(a,null,[{key:"toDegrees",value:function(n){return 180*n/Math.PI}},{key:"normalize",value:function(n){for(;n>Math.PI;)n-=a.PI_TIMES_2;for(;n<=-Math.PI;)n+=a.PI_TIMES_2;return n}},{key:"angle",value:function(){if(arguments.length===1){var n=arguments[0];return Math.atan2(n.y,n.x)}if(arguments.length===2){var i=arguments[0],o=arguments[1],c=o.x-i.x,g=o.y-i.y;return Math.atan2(g,c)}}},{key:"isAcute",value:function(n,i,o){var c=n.x-i.x,g=n.y-i.y;return c*(o.x-i.x)+g*(o.y-i.y)>0}},{key:"isObtuse",value:function(n,i,o){var c=n.x-i.x,g=n.y-i.y;return c*(o.x-i.x)+g*(o.y-i.y)<0}},{key:"interiorAngle",value:function(n,i,o){var c=a.angle(i,n),g=a.angle(i,o);return Math.abs(g-c)}},{key:"normalizePositive",value:function(n){if(n<0){for(;n<0;)n+=a.PI_TIMES_2;n>=a.PI_TIMES_2&&(n=0)}else{for(;n>=a.PI_TIMES_2;)n-=a.PI_TIMES_2;n<0&&(n=0)}return n}},{key:"angleBetween",value:function(n,i,o){var c=a.angle(i,n),g=a.angle(i,o);return a.diff(c,g)}},{key:"diff",value:function(n,i){var o=null;return(o=n<i?i-n:n-i)>Math.PI&&(o=2*Math.PI-o),o}},{key:"toRadians",value:function(n){return n*Math.PI/180}},{key:"getTurn",value:function(n,i){var o=Math.sin(i-n);return o>0?a.COUNTERCLOCKWISE:o<0?a.CLOCKWISE:a.NONE}},{key:"angleBetweenOriented",value:function(n,i,o){var c=a.angle(i,n),g=a.angle(i,o)-c;return g<=-Math.PI?g+a.PI_TIMES_2:g>Math.PI?g-a.PI_TIMES_2:g}}])}();pe.PI_TIMES_2=2*Math.PI,pe.PI_OVER_2=Math.PI/2,pe.PI_OVER_4=Math.PI/4,pe.COUNTERCLOCKWISE=It.COUNTERCLOCKWISE,pe.CLOCKWISE=It.CLOCKWISE,pe.NONE=It.COLLINEAR;var Er=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"addNextSegment",value:function(n,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=n,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=It.index(this._s0,this._s1,this._s2),c=o===It.CLOCKWISE&&this._side===tt.LEFT||o===It.COUNTERCLOCKWISE&&this._side===tt.RIGHT;o===0?this.addCollinear(i):c?this.addOutsideTurn(o,i):this.addInsideTurn(o,i)}},{key:"addLineEndCap",value:function(n,i){var o=new We(n,i),c=new We;this.computeOffsetSegment(o,tt.LEFT,this._distance,c);var g=new We;this.computeOffsetSegment(o,tt.RIGHT,this._distance,g);var _=i.x-n.x,x=i.y-n.y,w=Math.atan2(x,_);switch(this._bufParams.getEndCapStyle()){case O.CAP_ROUND:this._segList.addPt(c.p1),this.addDirectedFillet(i,w+Math.PI/2,w-Math.PI/2,It.CLOCKWISE,this._distance),this._segList.addPt(g.p1);break;case O.CAP_FLAT:this._segList.addPt(c.p1),this._segList.addPt(g.p1);break;case O.CAP_SQUARE:var P=new G;P.x=Math.abs(this._distance)*Math.cos(w),P.y=Math.abs(this._distance)*Math.sin(w);var B=new G(c.p1.x+P.x,c.p1.y+P.y),Y=new G(g.p1.x+P.x,g.p1.y+P.y);this._segList.addPt(B),this._segList.addPt(Y)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(n,i,o,c){var g=to.intersection(i.p0,i.p1,o.p0,o.p1);if(g!==null&&(c<=0?1:g.distance(n)/Math.abs(c))<=this._bufParams.getMitreLimit())return this._segList.addPt(g),null;this.addLimitedMitreJoin(i,o,c,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(n,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*a.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===O.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===O.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,n,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(n){this._segList.addPt(new G(n.x+this._distance,n.y+this._distance)),this._segList.addPt(new G(n.x+this._distance,n.y-this._distance)),this._segList.addPt(new G(n.x-this._distance,n.y-this._distance)),this._segList.addPt(new G(n.x-this._distance,n.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(n,i){this._segList.addPts(n,i)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(n,i,o,c,g){var _=i.x-n.x,x=i.y-n.y,w=Math.atan2(x,_),P=o.x-n.x,B=o.y-n.y,Y=Math.atan2(B,P);c===It.CLOCKWISE?w<=Y&&(w+=2*Math.PI):w>=Y&&(w-=2*Math.PI),this._segList.addPt(i),this.addDirectedFillet(n,w,Y,c,g),this._segList.addPt(o)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(n,i,o){this._s1=n,this._s2=i,this._side=o,this._seg1.setCoordinates(n,i),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(n,i,o,c){var g=this._seg0.p1,_=pe.angle(g,this._seg0.p0),x=pe.angleBetweenOriented(this._seg0.p0,g,this._seg1.p1)/2,w=pe.normalize(_+x),P=pe.normalize(w+Math.PI),B=c*o,Y=o-B*Math.abs(Math.sin(x)),Q=g.x+B*Math.cos(P),ot=g.y+B*Math.sin(P),mt=new G(Q,ot),xt=new We(g,mt),Ut=xt.pointAlongOffset(1,Y),Dt=xt.pointAlongOffset(1,-Y);this._side===tt.LEFT?(this._segList.addPt(Ut),this._segList.addPt(Dt)):(this._segList.addPt(Dt),this._segList.addPt(Ut))}},{key:"addDirectedFillet",value:function(n,i,o,c,g){var _=c===It.CLOCKWISE?-1:1,x=Math.abs(i-o),w=Math.trunc(x/this._filletAngleQuantum+.5);if(w<1)return null;for(var P=x/w,B=new G,Y=0;Y<w;Y++){var Q=i+_*Y*P;B.x=n.x+g*Math.cos(Q),B.y=n.y+g*Math.sin(Q),this._segList.addPt(B)}}},{key:"computeOffsetSegment",value:function(n,i,o,c){var g=i===tt.LEFT?1:-1,_=n.p1.x-n.p0.x,x=n.p1.y-n.p0.y,w=Math.sqrt(_*_+x*x),P=g*o*_/w,B=g*o*x/w;c.p0.x=n.p0.x-B,c.p0.y=n.p0.y+P,c.p1.x=n.p1.x-B,c.p1.y=n.p1.y+P}},{key:"addInsideTurn",value:function(n,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*a.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new G((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var c=new G((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(c)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(n){var i=new G(n.x+this._distance,n.y);this._segList.addPt(i),this.addDirectedFillet(n,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(n,i){this._segList.addPt(n.p1),this._segList.addPt(i.p0)}},{key:"init",value:function(n){this._distance=n,this._maxCurveSegmentError=n*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new wr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(n*a.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(n){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===O.JOIN_BEVEL||this._bufParams.getJoinStyle()===O.JOIN_MITRE?(n&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,It.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new We,this._seg1=new We,this._offset0=new We,this._offset1=new We,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],i=arguments[1],o=arguments[2];this._precisionModel=n,this._bufParams=i,this._li=new Un,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===O.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR),this.init(o)}}])}();Er.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Er.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Er.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Er.MAX_CLOSING_SEG_LEN_FACTOR=80;var Sr=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getOffsetCurve",value:function(n,i){if(this._distance=i,i===0)return null;var o=i<0,c=Math.abs(i),g=this.getSegGen(c);n.length<=1?this.computePointCurve(n[0],g):this.computeOffsetCurve(n,o,g);var _=g.getCoordinates();return o&&fe.reverse(_),_}},{key:"computeSingleSidedBufferCurve",value:function(n,i,o){var c=this.simplifyTolerance(this._distance);if(i){o.addSegments(n,!0);var g=rn.simplify(n,-c),_=g.length-1;o.initSideSegments(g[_],g[_-1],tt.LEFT),o.addFirstSegment();for(var x=_-2;x>=0;x--)o.addNextSegment(g[x],!0)}else{o.addSegments(n,!1);var w=rn.simplify(n,c),P=w.length-1;o.initSideSegments(w[0],w[1],tt.LEFT),o.addFirstSegment();for(var B=2;B<=P;B++)o.addNextSegment(w[B],!0)}o.addLastSegment(),o.closeRing()}},{key:"computeRingBufferCurve",value:function(n,i,o){var c=this.simplifyTolerance(this._distance);i===tt.RIGHT&&(c=-c);var g=rn.simplify(n,c),_=g.length-1;o.initSideSegments(g[_-1],g[0],i);for(var x=1;x<=_;x++){var w=x!==1;o.addNextSegment(g[x],w)}o.closeRing()}},{key:"computeLineBufferCurve",value:function(n,i){var o=this.simplifyTolerance(this._distance),c=rn.simplify(n,o),g=c.length-1;i.initSideSegments(c[0],c[1],tt.LEFT);for(var _=2;_<=g;_++)i.addNextSegment(c[_],!0);i.addLastSegment(),i.addLineEndCap(c[g-1],c[g]);var x=rn.simplify(n,-o),w=x.length-1;i.initSideSegments(x[w],x[w-1],tt.LEFT);for(var P=w-2;P>=0;P--)i.addNextSegment(x[P],!0);i.addLastSegment(),i.addLineEndCap(x[1],x[0]),i.closeRing()}},{key:"computePointCurve",value:function(n,i){switch(this._bufParams.getEndCapStyle()){case O.CAP_ROUND:i.createCircle(n);break;case O.CAP_SQUARE:i.createSquare(n)}}},{key:"getLineCurve",value:function(n,i){if(this._distance=i,this.isLineOffsetEmpty(i))return null;var o=Math.abs(i),c=this.getSegGen(o);if(n.length<=1)this.computePointCurve(n[0],c);else if(this._bufParams.isSingleSided()){var g=i<0;this.computeSingleSidedBufferCurve(n,g,c)}else this.computeLineBufferCurve(n,c);return c.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(n){return n*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(n,i,o){if(this._distance=o,n.length<=2)return this.getLineCurve(n,o);if(o===0)return a.copyCoordinates(n);var c=this.getSegGen(o);return this.computeRingBufferCurve(n,i,c),c.getCoordinates()}},{key:"computeOffsetCurve",value:function(n,i,o){var c=this.simplifyTolerance(this._distance);if(i){var g=rn.simplify(n,-c),_=g.length-1;o.initSideSegments(g[_],g[_-1],tt.LEFT),o.addFirstSegment();for(var x=_-2;x>=0;x--)o.addNextSegment(g[x],!0)}else{var w=rn.simplify(n,c),P=w.length-1;o.initSideSegments(w[0],w[1],tt.LEFT),o.addFirstSegment();for(var B=2;B<=P;B++)o.addNextSegment(w[B],!0)}o.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(n){return n===0||n<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(n){return new Er(this._precisionModel,this._bufParams,n)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var n=arguments[0],i=arguments[1];this._precisionModel=n,this._bufParams=i}},{key:"copyCoordinates",value:function(n){for(var i=new Array(n.length).fill(null),o=0;o<i.length;o++)i[o]=new G(n[o]);return i}}])}(),$e=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var a=arguments[0],n=new kt,i=this._subgraphs.iterator();i.hasNext();){var o=i.next(),c=o.getEnvelope();a.y<c.getMinY()||a.y>c.getMaxY()||this.findStabbedSegments(a,o.getDirectedEdges(),n)}return n}if(arguments.length===3){if(Tt(arguments[2],kn)&&arguments[0]instanceof G&&arguments[1]instanceof go){for(var g=arguments[0],_=arguments[1],x=arguments[2],w=_.getEdge().getCoordinates(),P=0;P<w.length-1;P++)if(this._seg.p0=w[P],this._seg.p1=w[P+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<g.x||this._seg.isHorizontal()||g.y<this._seg.p0.y||g.y>this._seg.p1.y||It.index(this._seg.p0,this._seg.p1,g)===It.RIGHT)){var B=_.getDepth(tt.LEFT);this._seg.p0.equals(w[P])||(B=_.getDepth(tt.RIGHT));var Y=new ko(this._seg,B);x.add(Y)}}else if(Tt(arguments[2],kn)&&arguments[0]instanceof G&&Tt(arguments[1],kn))for(var Q=arguments[0],ot=arguments[2],mt=arguments[1].iterator();mt.hasNext();){var xt=mt.next();xt.isForward()&&this.findStabbedSegments(Q,xt,ot)}}}},{key:"getDepth",value:function(a){var n=this.findStabbedSegments(a);return n.size()===0?0:yi.min(n)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new We;var a=arguments[0];this._subgraphs=a}}])}(),ko=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(a){var n=a;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(n._upwardSeg);return i!==0||(i=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!==0?i:this._upwardSeg.compareTo(n._upwardSeg)}},{key:"compareX",value:function(a,n){var i=a.p0.compareTo(n.p0);return i!==0?i:a.p1.compareTo(n.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[0],n=arguments[1];this._upwardSeg=new We(a),this._leftDepth=n}}])}();$e.DepthSegment=ko;var wo=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,null,[{key:"constructor_",value:function(){Z.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(Z),Eo=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getY",value:function(){var n=this.y/this.w;if(F.isNaN(n)||F.isInfinite(n))throw new wo;return n}},{key:"getX",value:function(){var n=this.x/this.w;if(F.isNaN(n)||F.isInfinite(n))throw new wo;return n}},{key:"getCoordinate",value:function(){var n=new G;return n.x=this.getX(),n.y=this.getY(),n}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],o=arguments[1];this.x=i,this.y=o,this.w=1}else if(arguments[0]instanceof a&&arguments[1]instanceof a){var c=arguments[0],g=arguments[1];this.x=c.y*g.w-g.y*c.w,this.y=g.x*c.w-c.x*g.w,this.w=c.x*g.y-g.x*c.y}else if(arguments[0]instanceof G&&arguments[1]instanceof G){var _=arguments[0],x=arguments[1];this.x=_.y-x.y,this.y=x.x-_.x,this.w=_.x*x.y-x.x*_.y}}else if(arguments.length===3){var w=arguments[0],P=arguments[1],B=arguments[2];this.x=w,this.y=P,this.w=B}else if(arguments.length===4){var Y=arguments[0],Q=arguments[1],ot=arguments[2],mt=arguments[3],xt=Y.y-Q.y,Ut=Q.x-Y.x,Dt=Y.x*Q.y-Q.x*Y.y,Wt=ot.y-mt.y,ie=mt.x-ot.x,we=ot.x*mt.y-mt.x*ot.y;this.x=Ut*we-ie*Dt,this.y=Wt*Dt-xt*we,this.w=xt*ie-Wt*Ut}}}])}(),So=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"area",value:function(){return a.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return a.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(n){if(n===null)throw new U("Supplied point is null.");return a.interpolateZ(n,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return a.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return a.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return a.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return a.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return a.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return a.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var n=arguments[0],i=arguments[1],o=arguments[2];this.p0=n,this.p1=i,this.p2=o}},{key:"area",value:function(n,i,o){return Math.abs(((o.x-n.x)*(i.y-n.y)-(i.x-n.x)*(o.y-n.y))/2)}},{key:"signedArea",value:function(n,i,o){return((o.x-n.x)*(i.y-n.y)-(i.x-n.x)*(o.y-n.y))/2}},{key:"det",value:function(n,i,o,c){return n*c-i*o}},{key:"interpolateZ",value:function(n,i,o,c){var g=i.x,_=i.y,x=o.x-g,w=c.x-g,P=o.y-_,B=c.y-_,Y=x*B-w*P,Q=n.x-g,ot=n.y-_,mt=(B*Q-w*ot)/Y,xt=(-P*Q+x*ot)/Y;return i.getZ()+mt*(o.getZ()-i.getZ())+xt*(c.getZ()-i.getZ())}},{key:"longestSideLength",value:function(n,i,o){var c=n.distance(i),g=i.distance(o),_=o.distance(n),x=c;return g>x&&(x=g),_>x&&(x=_),x}},{key:"circumcentreDD",value:function(n,i,o){var c=St.valueOf(n.x).subtract(o.x),g=St.valueOf(n.y).subtract(o.y),_=St.valueOf(i.x).subtract(o.x),x=St.valueOf(i.y).subtract(o.y),w=St.determinant(c,g,_,x).multiply(2),P=c.sqr().add(g.sqr()),B=_.sqr().add(x.sqr()),Y=St.determinant(g,P,x,B),Q=St.determinant(c,P,_,B),ot=St.valueOf(o.x).subtract(Y.divide(w)).doubleValue(),mt=St.valueOf(o.y).add(Q.divide(w)).doubleValue();return new G(ot,mt)}},{key:"isAcute",value:function(n,i,o){return!!pe.isAcute(n,i,o)&&!!pe.isAcute(i,o,n)&&!!pe.isAcute(o,n,i)}},{key:"circumcentre",value:function(n,i,o){var c=o.x,g=o.y,_=n.x-c,x=n.y-g,w=i.x-c,P=i.y-g,B=2*a.det(_,x,w,P),Y=a.det(x,_*_+x*x,P,w*w+P*P),Q=a.det(_,_*_+x*x,w,w*w+P*P);return new G(c-Y/B,g+Q/B)}},{key:"perpendicularBisector",value:function(n,i){var o=i.x-n.x,c=i.y-n.y,g=new Eo(n.x+o/2,n.y+c/2,1),_=new Eo(n.x-c+o/2,n.y+o+c/2,1);return new Eo(g,_)}},{key:"angleBisector",value:function(n,i,o){var c=i.distance(n),g=c/(c+i.distance(o)),_=o.x-n.x,x=o.y-n.y;return new G(n.x+g*_,n.y+g*x)}},{key:"area3D",value:function(n,i,o){var c=i.x-n.x,g=i.y-n.y,_=i.getZ()-n.getZ(),x=o.x-n.x,w=o.y-n.y,P=o.getZ()-n.getZ(),B=g*P-_*w,Y=_*x-c*P,Q=c*w-g*x,ot=B*B+Y*Y+Q*Q,mt=Math.sqrt(ot)/2;return mt}},{key:"centroid",value:function(n,i,o){var c=(n.x+i.x+o.x)/3,g=(n.y+i.y+o.y)/3;return new G(c,g)}},{key:"inCentre",value:function(n,i,o){var c=i.distance(o),g=n.distance(o),_=n.distance(i),x=c+g+_,w=(c*n.x+g*i.x+_*o.x)/x,P=(c*n.y+g*i.y+_*o.y)/x;return new G(w,P)}}])}(),No=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(a,n,i,o,c){if(n===0&&a.length<Sn.MINIMUM_VALID_SIZE)return null;var g=o,_=c;a.length>=Sn.MINIMUM_VALID_SIZE&&It.isCCW(a)&&(g=c,_=o,i=tt.opposite(i));var x=this._curveBuilder.getRingCurve(a,i,n);this.addCurve(x,g,_)}},{key:"addRingBothSides",value:function(a,n){this.addRingSide(a,n,tt.LEFT,R.EXTERIOR,R.INTERIOR),this.addRingSide(a,n,tt.RIGHT,R.INTERIOR,R.EXTERIOR)}},{key:"addPoint",value:function(a){if(this._distance<=0)return null;var n=a.getCoordinates(),i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,R.EXTERIOR,R.INTERIOR)}},{key:"addPolygon",value:function(a){var n=this._distance,i=tt.LEFT;this._distance<0&&(n=-this._distance,i=tt.RIGHT);var o=a.getExteriorRing(),c=fe.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance)||this._distance<=0&&c.length<3)return null;this.addRingSide(c,n,i,R.EXTERIOR,R.INTERIOR);for(var g=0;g<a.getNumInteriorRing();g++){var _=a.getInteriorRingN(g),x=fe.removeRepeatedPoints(_.getCoordinates());this._distance>0&&this.isErodedCompletely(_,-this._distance)||this.addRingSide(x,n,tt.opposite(i),R.INTERIOR,R.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(a,n){var i=new So(a[0],a[1],a[2]),o=i.inCentre();return fn.pointToSegment(o,i.p0,i.p1)<Math.abs(n)}},{key:"addLineString",value:function(a){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var n=fe.removeRepeatedPoints(a.getCoordinates());if(fe.isRing(n)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(n,this._distance);else{var i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,R.EXTERIOR,R.INTERIOR)}}},{key:"addCurve",value:function(a,n,i){if(a===null||a.length<2)return null;var o=new Yn(a,new Ue(0,R.BOUNDARY,n,i));this._curveList.add(o)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(a){if(a.isEmpty())return null;if(a instanceof mr)this.addPolygon(a);else if(a instanceof gr)this.addLineString(a);else if(a instanceof no)this.addPoint(a);else if(a instanceof jr)this.addCollection(a);else if(a instanceof Qr)this.addCollection(a);else if(a instanceof oo)this.addCollection(a);else{if(!(a instanceof De))throw new se(a.getGeometryType());this.addCollection(a)}}},{key:"isErodedCompletely",value:function(a,n){var i=a.getCoordinates();if(i.length<4)return n<0;if(i.length===4)return this.isTriangleErodedCompletely(i,n);var o=a.getEnvelopeInternal(),c=Math.min(o.getHeight(),o.getWidth());return n<0&&2*Math.abs(n)>c}},{key:"addCollection",value:function(a){for(var n=0;n<a.getNumGeometries();n++){var i=a.getGeometryN(n);this.add(i)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new kt;var a=arguments[0],n=arguments[1],i=arguments[2];this._inputGeom=a,this._distance=n,this._curveBuilder=i}}])}(),bl=function(){return v(function a(){h(this,a)},[{key:"locate",value:function(a){}}])}(),Zl=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,a.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Ne;var n=this._parent.getGeometryN(this._index++);return n instanceof De?(this._subcollectionIterator=new a(n),this._subcollectionIterator.next()):n}},{key:"remove",value:function(){throw new se(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Fl]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var n=arguments[0];this._parent=n,this._atStart=!0,this._index=0,this._max=n.getNumGeometries()}},{key:"isAtomic",value:function(n){return!(n instanceof De)}}])}(),Da=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"locate",value:function(n){return a.locate(n,this._geom)}},{key:"interfaces_",get:function(){return[bl]}}],[{key:"constructor_",value:function(){this._geom=null;var n=arguments[0];this._geom=n}},{key:"locatePointInPolygon",value:function(n,i){if(i.isEmpty())return R.EXTERIOR;var o=i.getExteriorRing(),c=a.locatePointInRing(n,o);if(c!==R.INTERIOR)return c;for(var g=0;g<i.getNumInteriorRing();g++){var _=i.getInteriorRingN(g),x=a.locatePointInRing(n,_);if(x===R.BOUNDARY)return R.BOUNDARY;if(x===R.INTERIOR)return R.EXTERIOR}return R.INTERIOR}},{key:"locatePointInRing",value:function(n,i){return i.getEnvelopeInternal().intersects(n)?Bi.locateInRing(n,i.getCoordinates()):R.EXTERIOR}},{key:"containsPointInPolygon",value:function(n,i){return R.EXTERIOR!==a.locatePointInPolygon(n,i)}},{key:"locateInGeometry",value:function(n,i){if(i instanceof mr)return a.locatePointInPolygon(n,i);if(i instanceof De)for(var o=new Zl(i);o.hasNext();){var c=o.next();if(c!==i){var g=a.locateInGeometry(n,c);if(g!==R.EXTERIOR)return g}}return R.EXTERIOR}},{key:"isContained",value:function(n,i){return R.EXTERIOR!==a.locate(n,i)}},{key:"locate",value:function(n,i){return i.isEmpty()?R.EXTERIOR:i.getEnvelopeInternal().intersects(n)?a.locateInGeometry(n,i):R.EXTERIOR}}])}(),Gl=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(a){this.getEdges();var n=this._edgeList.indexOf(a),i=n-1;return n===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)}},{key:"propagateSideLabels",value:function(a){for(var n=R.NONE,i=this.iterator();i.hasNext();){var o=i.next().getLabel();o.isArea(a)&&o.getLocation(a,tt.LEFT)!==R.NONE&&(n=o.getLocation(a,tt.LEFT))}if(n===R.NONE)return null;for(var c=n,g=this.iterator();g.hasNext();){var _=g.next(),x=_.getLabel();if(x.getLocation(a,tt.ON)===R.NONE&&x.setLocation(a,tt.ON,c),x.isArea(a)){var w=x.getLocation(a,tt.LEFT),P=x.getLocation(a,tt.RIGHT);if(P!==R.NONE){if(P!==c)throw new En("side location conflict",_.getCoordinate());w===R.NONE&&it.shouldNeverReachHere("found single null side (at "+_.getCoordinate()+")"),c=w}else it.isTrue(x.getLocation(a,tt.LEFT)===R.NONE,"found single null side"),x.setLocation(a,tt.RIGHT,c),x.setLocation(a,tt.LEFT,c)}}}},{key:"getCoordinate",value:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null}},{key:"print",value:function(a){nn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"isAreaLabelsConsistent",value:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(a){var n=this.getEdges();if(n.size()<=0)return!0;var i=n.size()-1,o=n.get(i).getLabel().getLocation(a,tt.LEFT);it.isTrue(o!==R.NONE,"Found unlabelled area edge");for(var c=o,g=this.iterator();g.hasNext();){var _=g.next().getLabel();it.isTrue(_.isArea(a),"Found non-area edge");var x=_.getLocation(a,tt.LEFT),w=_.getLocation(a,tt.RIGHT);if(x===w||w!==c)return!1;c=x}return!0}},{key:"findIndex",value:function(a){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===a)return n;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new kt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(a,n,i){return this._ptInAreaLocation[a]===R.NONE&&(this._ptInAreaLocation[a]=Da.locate(n,i[a].getGeometry())),this._ptInAreaLocation[a]}},{key:"toString",value:function(){var a=new Qn;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append(`
`);for(var n=this.iterator();n.hasNext();){var i=n.next();a.append(i),a.append(`
`)}return a.toString()}},{key:"computeEdgeEndLabels",value:function(a){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(a)}},{key:"computeLabelling",value:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],i=this.iterator();i.hasNext();)for(var o=i.next().getLabel(),c=0;c<2;c++)o.isLine(c)&&o.getLocation(c)===R.BOUNDARY&&(n[c]=!0);for(var g=this.iterator();g.hasNext();)for(var _=g.next(),x=_.getLabel(),w=0;w<2;w++)if(x.isAnyNull(w)){var P=R.NONE;if(n[w])P=R.EXTERIOR;else{var B=_.getCoordinate();P=this.getLocation(w,B,a)}x.setAllLocationsIfNull(w,P)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(a,n){this._edgeMap.put(a,n),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new oe,this._edgeList=null,this._ptInAreaLocation=[R.NONE,R.NONE]}}])}(),gn=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var i=null,o=null,c=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var _=this._resultAreaEdgeList.get(g),x=_.getSym();if(_.getLabel().isArea())switch(i===null&&_.isInResult()&&(i=_),c){case this._SCANNING_FOR_INCOMING:if(!x.isInResult())continue;o=x,c=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!_.isInResult())continue;o.setNext(_),c=this._SCANNING_FOR_INCOMING}}if(c===this._LINKING_TO_OUTGOING){if(i===null)throw new En("no outgoing dirEdge found",this.getCoordinate());it.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),o.setNext(i)}}},{key:"insert",value:function(i){var o=i;this.insertEdgeEnd(o,o)}},{key:"getRightmostEdge",value:function(){var i=this.getEdges(),o=i.size();if(o<1)return null;var c=i.get(0);if(o===1)return c;var g=i.get(o-1),_=c.getQuadrant(),x=g.getQuadrant();return Te.isNorthern(_)&&Te.isNorthern(x)?c:Te.isNorthern(_)||Te.isNorthern(x)?c.getDy()!==0?c:g.getDy()!==0?g:(it.shouldNeverReachHere("found two horizontal edges incident on node"),null):g}},{key:"print",value:function(i){nn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var o=this.iterator();o.hasNext();){var c=o.next();i.print("out "),c.print(i),i.println(),i.print("in "),c.getSym().print(i),i.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new kt;for(var i=this.iterator();i.hasNext();){var o=i.next();(o.isInResult()||o.getSym().isInResult())&&this._resultAreaEdgeList.add(o)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(i){for(var o=this.iterator();o.hasNext();){var c=o.next().getLabel();c.setAllLocationsIfNull(0,i.getLocation(0)),c.setAllLocationsIfNull(1,i.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var i=null,o=null,c=this._edgeList.size()-1;c>=0;c--){var g=this._edgeList.get(c),_=g.getSym();o===null&&(o=_),i!==null&&_.setNext(i),i=g}o.setNext(i)}},{key:"computeDepths",value:function(){if(arguments.length===1){var i=arguments[0],o=this.findIndex(i),c=i.getDepth(tt.LEFT),g=i.getDepth(tt.RIGHT),_=this.computeDepths(o+1,this._edgeList.size(),c);if(this.computeDepths(0,o,_)!==g)throw new En("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var x=arguments[1],w=arguments[2],P=arguments[0];P<x;P++){var B=this._edgeList.get(P);B.setEdgeDepths(tt.RIGHT,w),w=B.getDepth(tt.LEFT)}return w}}},{key:"mergeSymLabels",value:function(){for(var i=this.iterator();i.hasNext();){var o=i.next();o.getLabel().merge(o.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(i){for(var o=null,c=null,g=this._SCANNING_FOR_INCOMING,_=this._resultAreaEdgeList.size()-1;_>=0;_--){var x=this._resultAreaEdgeList.get(_),w=x.getSym();switch(o===null&&x.getEdgeRing()===i&&(o=x),g){case this._SCANNING_FOR_INCOMING:if(w.getEdgeRing()!==i)continue;c=w,g=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(x.getEdgeRing()!==i)continue;c.setNextMin(x),g=this._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&(it.isTrue(o!==null,"found null for first outgoing dirEdge"),it.isTrue(o.getEdgeRing()===i,"unable to link last incoming dirEdge"),c.setNextMin(o))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var i=0,o=this.iterator();o.hasNext();)o.next().isInResult()&&i++;return i}if(arguments.length===1){for(var c=arguments[0],g=0,_=this.iterator();_.hasNext();)_.next().getEdgeRing()===c&&g++;return g}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var i=R.NONE,o=this.iterator();o.hasNext();){var c=o.next(),g=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){i=R.INTERIOR;break}if(g.isInResult()){i=R.EXTERIOR;break}}}if(i===R.NONE)return null;for(var _=i,x=this.iterator();x.hasNext();){var w=x.next(),P=w.getSym();w.isLineEdge()?w.getEdge().setCovered(_===R.INTERIOR):(w.isInResult()&&(_=R.EXTERIOR),P.isInResult()&&(_=R.INTERIOR))}}},{key:"computeLabelling",value:function(i){M(n,"computeLabelling",this,1).call(this,i),this._label=new Ue(R.NONE);for(var o=this.iterator();o.hasNext();)for(var c=o.next().getEdge().getLabel(),g=0;g<2;g++){var _=c.getLocation(g);_!==R.INTERIOR&&_!==R.BOUNDARY||this._label.setLocation(g,R.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Gl),Zi=function(a){function n(){return h(this,n),u(this,n)}return I(n,a),v(n,[{key:"createNode",value:function(i){return new xr(i,new gn)}}])}(mo),za=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"compareTo",value:function(n){var i=n;return a.compareOriented(this._pts,this._orientation,i._pts,i._orientation)}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=a.orientation(n)}},{key:"orientation",value:function(n){return fe.increasingDirection(n)===1}},{key:"compareOriented",value:function(n,i,o,c){for(var g=i?1:-1,_=c?1:-1,x=i?n.length:-1,w=c?o.length:-1,P=i?0:n.length-1,B=c?0:o.length-1;;){var Y=n[P].compareTo(o[B]);if(Y!==0)return Y;var Q=(P+=g)===x,ot=(B+=_)===w;if(Q&&!ot)return-1;if(!Q&&ot)return 1;if(Q&&ot)return 0}}}])}(),qn=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n);n>0&&a.print(","),a.print("(");for(var o=i.getCoordinates(),c=0;c<o.length;c++)c>0&&a.print(","),a.print(o[c].x+" "+o[c].y);a.println(")")}a.print(")  ")}},{key:"addAll",value:function(a){for(var n=a.iterator();n.hasNext();)this.add(n.next())}},{key:"findEdgeIndex",value:function(a){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(a))return n;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(a){return this._edges.get(a)}},{key:"findEqualEdge",value:function(a){var n=new za(a.getCoordinates());return this._ocaMap.get(n)}},{key:"add",value:function(a){this._edges.add(a);var n=new za(a.getCoordinates());this._ocaMap.put(n,a)}}],[{key:"constructor_",value:function(){this._edges=new kt,this._ocaMap=new oe}}])}(),Fa=function(){return v(function a(){h(this,a)},[{key:"processIntersections",value:function(a,n,i,o){}},{key:"isDone",value:function(){}}])}(),Gi=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"isTrivialIntersection",value:function(n,i,o,c){if(n===o&&this._li.getIntersectionNum()===1){if(a.isAdjacentSegments(i,c))return!0;if(n.isClosed()){var g=n.size()-1;if(i===0&&c===g||c===0&&i===g)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(n,i,o,c){if(n===o&&i===c)return null;this.numTests++;var g=n.getCoordinates()[i],_=n.getCoordinates()[i+1],x=o.getCoordinates()[c],w=o.getCoordinates()[c+1];this._li.computeIntersection(g,_,x,w),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(n,i,o,c)||(this._hasIntersection=!0,n.addIntersections(this._li,i,0),o.addIntersections(this._li,c,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Fa]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var n=arguments[0];this._li=n}},{key:"isAdjacentSegments",value:function(n,i){return Math.abs(n-i)===1}}])}(),Ul=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)}},{key:"compareTo",value:function(a){var n=a;return this.compare(n.segmentIndex,n.dist)}},{key:"isEndPoint",value:function(a){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===a}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(a,n){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<n?-1:this.dist>n?1:0}},{key:"interfaces_",get:function(){return[V]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],n=arguments[1],i=arguments[2];this.coord=new G(a),this.segmentIndex=n,this.dist=i}}])}(),Nr=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"print",value:function(a){a.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(a)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(a){this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next(),c=this.createSplitEdge(i,o);a.add(c),i=o}}},{key:"addEndpoints",value:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)}},{key:"createSplitEdge",value:function(a,n){var i=n.segmentIndex-a.segmentIndex+2,o=this.edge.pts[n.segmentIndex],c=n.dist>0||!n.coord.equals2D(o);c||i--;var g=new Array(i).fill(null),_=0;g[_++]=new G(a.coord);for(var x=a.segmentIndex+1;x<=n.segmentIndex;x++)g[_++]=this.edge.pts[x];return c&&(g[_]=n.coord),new ba(g,new Ue(this.edge._label))}},{key:"add",value:function(a,n,i){var o=new Ul(a,n,i),c=this._nodeMap.get(o);return c!==null?c:(this._nodeMap.put(o,o),o)}},{key:"isIntersection",value:function(a){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(a))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new oe,this.edge=null;var a=arguments[0];this.edge=a}}])}(),Ba=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])||a.isTrue(this._matrix[R.INTERIOR][R.BOUNDARY])||a.isTrue(this._matrix[R.BOUNDARY][R.INTERIOR])||a.isTrue(this._matrix[R.BOUNDARY][R.BOUNDARY]))&&this._matrix[R.EXTERIOR][R.INTERIOR]===st.FALSE&&this._matrix[R.EXTERIOR][R.BOUNDARY]===st.FALSE}},{key:"isCoveredBy",value:function(){return(a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])||a.isTrue(this._matrix[R.INTERIOR][R.BOUNDARY])||a.isTrue(this._matrix[R.BOUNDARY][R.INTERIOR])||a.isTrue(this._matrix[R.BOUNDARY][R.BOUNDARY]))&&this._matrix[R.INTERIOR][R.EXTERIOR]===st.FALSE&&this._matrix[R.BOUNDARY][R.EXTERIOR]===st.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<n.length;i++){var o=Math.trunc(i/3),c=i%3;this._matrix[o][c]=st.toDimensionValue(n.charAt(i))}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this._matrix[g][_]=x}}},{key:"isContains",value:function(){return a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])&&this._matrix[R.EXTERIOR][R.INTERIOR]===st.FALSE&&this._matrix[R.EXTERIOR][R.BOUNDARY]===st.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<n.length;i++){var o=Math.trunc(i/3),c=i%3;this.setAtLeast(o,c,st.toDimensionValue(n.charAt(i)))}else if(arguments.length===3){var g=arguments[0],_=arguments[1],x=arguments[2];this._matrix[g][_]<x&&(this._matrix[g][_]=x)}}},{key:"setAtLeastIfValid",value:function(n,i,o){n>=0&&i>=0&&this.setAtLeast(n,i,o)}},{key:"isWithin",value:function(){return a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])&&this._matrix[R.INTERIOR][R.EXTERIOR]===st.FALSE&&this._matrix[R.BOUNDARY][R.EXTERIOR]===st.FALSE}},{key:"isTouches",value:function(n,i){return n>i?this.isTouches(i,n):(n===st.A&&i===st.A||n===st.L&&i===st.L||n===st.L&&i===st.A||n===st.P&&i===st.A||n===st.P&&i===st.L)&&this._matrix[R.INTERIOR][R.INTERIOR]===st.FALSE&&(a.isTrue(this._matrix[R.INTERIOR][R.BOUNDARY])||a.isTrue(this._matrix[R.BOUNDARY][R.INTERIOR])||a.isTrue(this._matrix[R.BOUNDARY][R.BOUNDARY]))}},{key:"isOverlaps",value:function(n,i){return n===st.P&&i===st.P||n===st.A&&i===st.A?a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])&&a.isTrue(this._matrix[R.INTERIOR][R.EXTERIOR])&&a.isTrue(this._matrix[R.EXTERIOR][R.INTERIOR]):n===st.L&&i===st.L&&this._matrix[R.INTERIOR][R.INTERIOR]===1&&a.isTrue(this._matrix[R.INTERIOR][R.EXTERIOR])&&a.isTrue(this._matrix[R.EXTERIOR][R.INTERIOR])}},{key:"isEquals",value:function(n,i){return n===i&&a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])&&this._matrix[R.INTERIOR][R.EXTERIOR]===st.FALSE&&this._matrix[R.BOUNDARY][R.EXTERIOR]===st.FALSE&&this._matrix[R.EXTERIOR][R.INTERIOR]===st.FALSE&&this._matrix[R.EXTERIOR][R.BOUNDARY]===st.FALSE}},{key:"toString",value:function(){for(var n=new Kr("123456789"),i=0;i<3;i++)for(var o=0;o<3;o++)n.setCharAt(3*i+o,st.toDimensionSymbol(this._matrix[i][o]));return n.toString()}},{key:"setAll",value:function(n){for(var i=0;i<3;i++)for(var o=0;o<3;o++)this._matrix[i][o]=n}},{key:"get",value:function(n,i){return this._matrix[n][i]}},{key:"transpose",value:function(){var n=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=n,n=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=n,n=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=n,this}},{key:"matches",value:function(n){if(n.length!==9)throw new U("Should be length 9: "+n);for(var i=0;i<3;i++)for(var o=0;o<3;o++)if(!a.matches(this._matrix[i][o],n.charAt(3*i+o)))return!1;return!0}},{key:"add",value:function(n){for(var i=0;i<3;i++)for(var o=0;o<3;o++)this.setAtLeast(i,o,n.get(i,o))}},{key:"isDisjoint",value:function(){return this._matrix[R.INTERIOR][R.INTERIOR]===st.FALSE&&this._matrix[R.INTERIOR][R.BOUNDARY]===st.FALSE&&this._matrix[R.BOUNDARY][R.INTERIOR]===st.FALSE&&this._matrix[R.BOUNDARY][R.BOUNDARY]===st.FALSE}},{key:"isCrosses",value:function(n,i){return n===st.P&&i===st.L||n===st.P&&i===st.A||n===st.L&&i===st.A?a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])&&a.isTrue(this._matrix[R.INTERIOR][R.EXTERIOR]):n===st.L&&i===st.P||n===st.A&&i===st.P||n===st.A&&i===st.L?a.isTrue(this._matrix[R.INTERIOR][R.INTERIOR])&&a.isTrue(this._matrix[R.EXTERIOR][R.INTERIOR]):n===st.L&&i===st.L&&this._matrix[R.INTERIOR][R.INTERIOR]===0}},{key:"interfaces_",get:function(){return[W]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(st.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var n=arguments[0];a.constructor_.call(this),this.set(n)}else if(arguments[0]instanceof a){var i=arguments[0];a.constructor_.call(this),this._matrix[R.INTERIOR][R.INTERIOR]=i._matrix[R.INTERIOR][R.INTERIOR],this._matrix[R.INTERIOR][R.BOUNDARY]=i._matrix[R.INTERIOR][R.BOUNDARY],this._matrix[R.INTERIOR][R.EXTERIOR]=i._matrix[R.INTERIOR][R.EXTERIOR],this._matrix[R.BOUNDARY][R.INTERIOR]=i._matrix[R.BOUNDARY][R.INTERIOR],this._matrix[R.BOUNDARY][R.BOUNDARY]=i._matrix[R.BOUNDARY][R.BOUNDARY],this._matrix[R.BOUNDARY][R.EXTERIOR]=i._matrix[R.BOUNDARY][R.EXTERIOR],this._matrix[R.EXTERIOR][R.INTERIOR]=i._matrix[R.EXTERIOR][R.INTERIOR],this._matrix[R.EXTERIOR][R.BOUNDARY]=i._matrix[R.EXTERIOR][R.BOUNDARY],this._matrix[R.EXTERIOR][R.EXTERIOR]=i._matrix[R.EXTERIOR][R.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var n=arguments[0],i=arguments[1];return i===st.SYM_DONTCARE||i===st.SYM_TRUE&&(n>=0||n===st.TRUE)||i===st.SYM_FALSE&&n===st.FALSE||i===st.SYM_P&&n===st.P||i===st.SYM_L&&n===st.L||i===st.SYM_A&&n===st.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var o=arguments[1];return new a(arguments[0]).matches(o)}}},{key:"isTrue",value:function(n){return n>=0||n===st.TRUE}}])}(),us=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(n){return n===null||n.length===0?null:(this.ensureCapacity(this._size+n.length),nn.arraycopy(n,0,this._data,this._size,n.length),void(this._size+=n.length))}},{key:"ensureCapacity",value:function(n){if(n<=this._data.length)return null;var i=Math.max(n,2*this._data.length);this._data=Ie.copyOf(this._data,i)}},{key:"toArray",value:function(){var n=new Array(this._size).fill(null);return nn.arraycopy(this._data,0,n,0,this._size),n}},{key:"add",value:function(n){this.ensureCapacity(this._size+1),this._data[this._size]=n,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)a.constructor_.call(this,10);else if(arguments.length===1){var n=arguments[0];this._data=new Array(n).fill(null)}}}])}(),Yl=function(){function a(){h(this,a)}return v(a,[{key:"getChainStartIndices",value:function(n){var i=0,o=new us(Math.trunc(n.length/2));o.add(i);do{var c=this.findChainEnd(n,i);o.add(c),i=c}while(i<n.length-1);return o.toArray()}},{key:"findChainEnd",value:function(n,i){for(var o=Te.quadrant(n[i],n[i+1]),c=i+1;c<n.length&&Te.quadrant(n[c-1],n[c])===o;)c++;return c-1}},{key:"OLDgetChainStartIndices",value:function(n){var i=0,o=new kt;o.add(i);do{var c=this.findChainEnd(n,i);o.add(c),i=c}while(i<n.length-1);return a.toIntArray(o)}}],[{key:"toIntArray",value:function(n){for(var i=new Array(n.size()).fill(null),o=0;o<i.length;o++)i[o]=n.get(o).intValue();return i}}])}(),ri=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(a){var n=this.pts[this.startIndex[a]].x,i=this.pts[this.startIndex[a+1]].x;return n>i?n:i}},{key:"getMinX",value:function(a){var n=this.pts[this.startIndex[a]].x,i=this.pts[this.startIndex[a+1]].x;return n<i?n:i}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var a=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],n,n.startIndex[i],n.startIndex[i+1],o)}else if(arguments.length===6){var c=arguments[0],g=arguments[1],_=arguments[2],x=arguments[3],w=arguments[4],P=arguments[5];if(g-c==1&&w-x==1)return P.addIntersections(this.e,c,_.e,x),null;if(!this.overlaps(c,g,_,x,w))return null;var B=Math.trunc((c+g)/2),Y=Math.trunc((x+w)/2);c<B&&(x<Y&&this.computeIntersectsForChain(c,B,_,x,Y,P),Y<w&&this.computeIntersectsForChain(c,B,_,Y,w,P)),B<g&&(x<Y&&this.computeIntersectsForChain(B,g,_,x,Y,P),Y<w&&this.computeIntersectsForChain(B,g,_,Y,w,P))}}},{key:"overlaps",value:function(a,n,i,o,c){return At.intersects(this.pts[a],this.pts[n],i.pts[o],i.pts[c])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(a,n){for(var i=0;i<this.startIndex.length-1;i++)for(var o=0;o<a.startIndex.length-1;o++)this.computeIntersectsForChain(i,a,o,n)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var n=new Yl;this.startIndex=n.getChainStartIndices(this.pts)}}])}(),Ir=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"getDepth",value:function(n,i){return this._depth[n][i]}},{key:"setDepth",value:function(n,i,o){this._depth[n][i]=o}},{key:"isNull",value:function(){if(arguments.length===0){for(var n=0;n<2;n++)for(var i=0;i<3;i++)if(this._depth[n][i]!==a.NULL_VALUE)return!1;return!0}if(arguments.length===1){var o=arguments[0];return this._depth[o][1]===a.NULL_VALUE}if(arguments.length===2){var c=arguments[0],g=arguments[1];return this._depth[c][g]===a.NULL_VALUE}}},{key:"normalize",value:function(){for(var n=0;n<2;n++)if(!this.isNull(n)){var i=this._depth[n][1];this._depth[n][2]<i&&(i=this._depth[n][2]),i<0&&(i=0);for(var o=1;o<3;o++){var c=0;this._depth[n][o]>i&&(c=1),this._depth[n][o]=c}}}},{key:"getDelta",value:function(n){return this._depth[n][tt.RIGHT]-this._depth[n][tt.LEFT]}},{key:"getLocation",value:function(n,i){return this._depth[n][i]<=0?R.EXTERIOR:R.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var n=arguments[0],i=0;i<2;i++)for(var o=1;o<3;o++){var c=n.getLocation(i,o);c!==R.EXTERIOR&&c!==R.INTERIOR||(this.isNull(i,o)?this._depth[i][o]=a.depthAtLocation(c):this._depth[i][o]+=a.depthAtLocation(c))}else if(arguments.length===3){var g=arguments[0],_=arguments[1];arguments[2]===R.INTERIOR&&this._depth[g][_]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var i=0;i<3;i++)this._depth[n][i]=a.NULL_VALUE}},{key:"depthAtLocation",value:function(n){return n===R.EXTERIOR?0:n===R.INTERIOR?1:a.NULL_VALUE}}])}();Ir.NULL_VALUE=-1;var ba=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var i=new Array(2).fill(null);return i[0]=this.pts[0],i[1]=this.pts[1],new n(i,Ue.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(i){this._isIsolated=i}},{key:"setName",value:function(i){this._name=i}},{key:"equals",value:function(i){if(!(i instanceof n))return!1;var o=i;if(this.pts.length!==o.pts.length)return!1;for(var c=!0,g=!0,_=this.pts.length,x=0;x<this.pts.length;x++)if(this.pts[x].equals2D(o.pts[x])||(c=!1),this.pts[x].equals2D(o.pts[--_])||(g=!1),!c&&!g)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}}},{key:"print",value:function(i){i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&i.print(","),i.print(this.pts[o].x+" "+this.pts[o].y);i.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(i){n.updateIM(this._label,i)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(i){i.print("edge "+this._name+": ");for(var o=this.pts.length-1;o>=0;o--)i.print(this.pts[o]+" ");i.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new ri(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new At;for(var i=0;i<this.pts.length;i++)this._env.expandToInclude(this.pts[i])}return this._env}},{key:"addIntersection",value:function(i,o,c,g){var _=new G(i.getIntersection(g)),x=o,w=i.getEdgeDistance(c,g),P=x+1;if(P<this.pts.length){var B=this.pts[P];_.equals2D(B)&&(x=P,w=0)}this.eiList.add(_,x,w)}},{key:"toString",value:function(){var i=new Kr;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&i.append(","),i.append(this.pts[o].x+" "+this.pts[o].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()}},{key:"isPointwiseEqual",value:function(i){if(this.pts.length!==i.pts.length)return!1;for(var o=0;o<this.pts.length;o++)if(!this.pts[o].equals2D(i.pts[o]))return!1;return!0}},{key:"setDepthDelta",value:function(i){this._depthDelta=i}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(i,o,c){for(var g=0;g<i.getIntersectionNum();g++)this.addIntersection(i,o,c,g)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Nr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ir,this._depthDelta=0,arguments.length===1){var i=arguments[0];n.constructor_.call(this,i,null)}else if(arguments.length===2){var o=arguments[0],c=arguments[1];this.pts=o,this._label=c}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Ba&&arguments[0]instanceof Ue))return M(n,"updateIM",this).apply(this,arguments);var i=arguments[0],o=arguments[1];o.setAtLeastIfValid(i.getLocation(0,tt.ON),i.getLocation(1,tt.ON),1),i.isArea()&&(o.setAtLeastIfValid(i.getLocation(0,tt.LEFT),i.getLocation(1,tt.LEFT),2),o.setAtLeastIfValid(i.getLocation(0,tt.RIGHT),i.getLocation(1,tt.RIGHT),2))}}])}(jt),ls=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"setWorkingPrecisionModel",value:function(n){this._workingPrecisionModel=n}},{key:"insertUniqueEdge",value:function(n){var i=this._edgeList.findEqualEdge(n);if(i!==null){var o=i.getLabel(),c=n.getLabel();i.isPointwiseEqual(n)||(c=new Ue(n.getLabel())).flip(),o.merge(c);var g=a.depthDelta(c),_=i.getDepthDelta()+g;i.setDepthDelta(_)}else this._edgeList.add(n),n.setDepthDelta(a.depthDelta(n.getLabel()))}},{key:"buildSubgraphs",value:function(n,i){for(var o=new kt,c=n.iterator();c.hasNext();){var g=c.next(),_=g.getRightmostCoordinate(),x=new $e(o).getDepth(_);g.computeDepth(x),g.findResultEdges(),o.add(g),i.add(g.getDirectedEdges(),g.getNodes())}}},{key:"createSubgraphs",value:function(n){for(var i=new kt,o=n.getNodes().iterator();o.hasNext();){var c=o.next();if(!c.isVisited()){var g=new dr;g.create(c),i.add(g)}}return yi.sort(i,yi.reverseOrder()),i}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(n){if(this._workingNoder!==null)return this._workingNoder;var i=new yo,o=new Un;return o.setPrecisionModel(n),i.setSegmentIntersector(new Gi(o)),i}},{key:"buffer",value:function(n,i){var o=this._workingPrecisionModel;o===null&&(o=n.getPrecisionModel()),this._geomFact=n.getFactory();var c=new Sr(o,this._bufParams),g=new No(n,i,c).getCurves();if(g.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(g,o),this._graph=new rs(new Zi),this._graph.addEdges(this._edgeList.getEdges());var _=this.createSubgraphs(this._graph),x=new Rl(this._geomFact);this.buildSubgraphs(_,x);var w=x.getPolygons();return w.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(w)}},{key:"computeNodedEdges",value:function(n,i){var o=this.getNoder(i);o.computeNodes(n);for(var c=o.getNodedSubstrings().iterator();c.hasNext();){var g=c.next(),_=g.getCoordinates();if(_.length!==2||!_[0].equals2D(_[1])){var x=g.getData(),w=new ba(g.getCoordinates(),new Ue(x));this.insertUniqueEdge(w)}}}},{key:"setNoder",value:function(n){this._workingNoder=n}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new qn;var n=arguments[0];this._bufParams=n}},{key:"depthDelta",value:function(n){var i=n.getLocation(0,tt.LEFT),o=n.getLocation(0,tt.RIGHT);return i===R.INTERIOR&&o===R.EXTERIOR?1:i===R.EXTERIOR&&o===R.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(n){for(var i=new Nn,o=new kt;n.hasNext();){var c=n.next(),g=i.createLineString(c.getCoordinates());o.add(g)}return i.buildGeometry(o)}}])}(),ql=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"rescale",value:function(){if(Tt(arguments[0],Kt))for(var n=arguments[0].iterator();n.hasNext();){var i=n.next();this.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],c=0;c<o.length;c++)o[c].x=o[c].x/this._scaleFactor+this._offsetX,o[c].y=o[c].y/this._scaleFactor+this._offsetY;o.length===2&&o[0].equals2D(o[1])&&nn.out.println(o)}}},{key:"scale",value:function(){if(Tt(arguments[0],Kt)){for(var n=arguments[0],i=new kt(n.size()),o=n.iterator();o.hasNext();){var c=o.next();i.add(new Yn(this.scale(c.getCoordinates()),c.getData()))}return i}if(arguments[0]instanceof Array){for(var g=arguments[0],_=new Array(g.length).fill(null),x=0;x<g.length;x++)_[x]=new G(Math.round((g[x].x-this._offsetX)*this._scaleFactor),Math.round((g[x].y-this._offsetY)*this._scaleFactor),g[x].getZ());return fe.removeRepeatedPoints(_)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var n=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(n),n}},{key:"computeNodes",value:function(n){var i=n;this._isScaled&&(i=this.scale(n)),this._noder.computeNodes(i)}},{key:"interfaces_",get:function(){return[_o]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var n=arguments[0],i=arguments[1];a.constructor_.call(this,n,i,0,0)}else if(arguments.length===4){var o=arguments[0],c=arguments[1];this._noder=o,this._scaleFactor=c,this._isScaled=!this.isIntegerPrecision()}}}])}(),Pn=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next().getCoordinates();this.checkEndPtVertexIntersections(i[0],this._segStrings),this.checkEndPtVertexIntersections(i[i.length-1],this._segStrings)}else if(arguments.length===2){for(var o=arguments[0],c=arguments[1].iterator();c.hasNext();)for(var g=c.next().getCoordinates(),_=1;_<g.length-1;_++)if(g[_].equals(o))throw new ut("found endpt/interior pt intersection at index "+_+" :pt "+o)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var i=n.next(),o=this._segStrings.iterator();o.hasNext();){var c=o.next();this.checkInteriorIntersections(i,c)}else if(arguments.length===2)for(var g=arguments[0],_=arguments[1],x=g.getCoordinates(),w=_.getCoordinates(),P=0;P<x.length-1;P++)for(var B=0;B<w.length-1;B++)this.checkInteriorIntersections(g,P,_,B);else if(arguments.length===4){var Y=arguments[0],Q=arguments[1],ot=arguments[2],mt=arguments[3];if(Y===ot&&Q===mt)return null;var xt=Y.getCoordinates()[Q],Ut=Y.getCoordinates()[Q+1],Dt=ot.getCoordinates()[mt],Wt=ot.getCoordinates()[mt+1];if(this._li.computeIntersection(xt,Ut,Dt,Wt),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,xt,Ut)||this.hasInteriorIntersection(this._li,Dt,Wt)))throw new ut("found non-noded intersection at "+xt+"-"+Ut+" and "+Dt+"-"+Wt)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkCollapses(i)}else if(arguments.length===1)for(var o=arguments[0].getCoordinates(),c=0;c<o.length-2;c++)this.checkCollapse(o[c],o[c+1],o[c+2])}},{key:"hasInteriorIntersection",value:function(n,i,o){for(var c=0;c<n.getIntersectionNum();c++){var g=n.getIntersection(c);if(!g.equals(i)&&!g.equals(o))return!0}return!1}},{key:"checkCollapse",value:function(n,i,o){if(n.equals(o))throw new ut("found non-noded collapse at "+a.fact.createLineString([n,i,o]))}}],[{key:"constructor_",value:function(){this._li=new Un,this._segStrings=null;var n=arguments[0];this._segStrings=n}}])}();Pn.fact=new Nn;var Io=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"intersectsScaled",value:function(n,i){var o=Math.min(n.x,i.x),c=Math.max(n.x,i.x),g=Math.min(n.y,i.y),_=Math.max(n.y,i.y),x=this._maxx<o||this._minx>c||this._maxy<g||this._miny>_;if(x)return!1;var w=this.intersectsToleranceSquare(n,i);return it.isTrue(!(x&&w),"Found bad envelope test"),w}},{key:"initCorners",value:function(n){var i=.5;this._minx=n.x-i,this._maxx=n.x+i,this._miny=n.y-i,this._maxy=n.y+i,this._corner[0]=new G(this._maxx,this._maxy),this._corner[1]=new G(this._minx,this._maxy),this._corner[2]=new G(this._minx,this._miny),this._corner[3]=new G(this._maxx,this._miny)}},{key:"intersects",value:function(n,i){return this._scaleFactor===1?this.intersectsScaled(n,i):(this.copyScaled(n,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(n){return Math.round(n*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(n,i){i.x=this.scale(n.x),i.y=this.scale(n.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var n=a.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new At(this._originalPt.x-n,this._originalPt.x+n,this._originalPt.y-n,this._originalPt.y+n)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(n,i){return this._li.computeIntersection(n,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(n,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(n,i){var o=!1,c=!1;return this._li.computeIntersection(n,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(n,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(n,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(c=!0),this._li.computeIntersection(n,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!o||!c)||!!n.equals(this._pt)||!!i.equals(this._pt))))}},{key:"addSnappedNode",value:function(n,i){var o=n.getCoordinate(i),c=n.getCoordinate(i+1);return!!this.intersects(o,c)&&(n.addIntersection(this.getCoordinate(),i),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var n=arguments[0],i=arguments[1],o=arguments[2];if(this._originalPt=n,this._pt=n,this._scaleFactor=i,this._li=o,i<=0)throw new U("Scale factor must be non-zero");i!==1&&(this._pt=new G(this.scale(n.x),this.scale(n.y)),this._p0Scaled=new G,this._p1Scaled=new G),this.initCorners(this._pt)}}])}();Io.SAFE_ENV_EXPANSION_FACTOR=.75;var Ui=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var a=arguments[1];arguments[0].getLineSegment(a,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new We}}])}(),Za=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var a=arguments[0];return this.snap(a,null,-1)}if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2],c=n.getSafeEnvelope(),g=new On(n,i,o);return this._index.query(c,new(function(){return v(function _(){h(this,_)},[{key:"interfaces_",get:function(){return[Pa]}},{key:"visitItem",value:function(_){_.select(c,g)}}])}())),g.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var a=arguments[0];this._index=a}}])}(),On=function(a){function n(){var i;return h(this,n),i=u(this,n),n.constructor_.apply(i,arguments),i}return I(n,a),v(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof vo))return M(n,"select",this,1).apply(this,arguments);var i=arguments[1],o=arguments[0].getContext();if(this._parentEdge===o&&(i===this._hotPixelVertexIndex||i+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(o,i)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var i=arguments[0],o=arguments[1],c=arguments[2];this._hotPixel=i,this._parentEdge=o,this._hotPixelVertexIndex=c}}])}(Ui);Za.HotPixelSnapAction=On;var hs=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(a,n,i,o){if(a===i&&n===o)return null;var c=a.getCoordinates()[n],g=a.getCoordinates()[n+1],_=i.getCoordinates()[o],x=i.getCoordinates()[o+1];if(this._li.computeIntersection(c,g,_,x),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));a.addIntersections(this._li,n,0),i.addIntersections(this._li,o,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Fa]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var a=arguments[0];this._li=a,this._interiorIntersections=new kt}}])}(),Ga=function(){return v(function a(){h(this,a),a.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(a){var n=Yn.getNodedSubstrings(a),i=new Pn(n);try{i.checkValid()}catch(o){if(!(o instanceof Z))throw o;o.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Yn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(a,n){var i=this.findInteriorIntersections(a,n);this.computeIntersectionSnaps(i),this.computeVertexSnaps(a)}},{key:"findInteriorIntersections",value:function(a,n){var i=new hs(n);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(a),i.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Tt(arguments[0],Kt))for(var a=arguments[0].iterator();a.hasNext();){var n=a.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Yn)for(var i=arguments[0],o=i.getCoordinates(),c=0;c<o.length;c++){var g=new Io(o[c],this._scaleFactor,this._li);this._pointSnapper.snap(g,i,c)&&i.addIntersection(o[c],c)}}},{key:"computeNodes",value:function(a){this._nodedSegStrings=a,this._noder=new yo,this._pointSnapper=new Za(this._noder.getIndex()),this.snapRound(a,this._li)}},{key:"computeIntersectionSnaps",value:function(a){for(var n=a.iterator();n.hasNext();){var i=n.next(),o=new Io(i,this._scaleFactor,this._li);this._pointSnapper.snap(o)}}},{key:"interfaces_",get:function(){return[_o]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new Un,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()}}])}(),si=function(){function a(){h(this,a),a.constructor_.apply(this,arguments)}return v(a,[{key:"bufferFixedPrecision",value:function(n){var i=new ql(new Ga(new ze(1)),n.getScale()),o=new ls(this._bufParams);o.setWorkingPrecisionModel(n),o.setNoder(i),this._resultGeometry=o.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var n=a.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision(n)}catch(g){if(!(g instanceof En))throw g;this._saveException=g}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var i=arguments[0],o=a.precisionScaleFactor(this._argGeom,this._distance,i),c=new ze(o);this.bufferFixedPrecision(c)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var n=this._argGeom.getFactory().getPrecisionModel();n.getType()===ze.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(n){this._bufParams.setQuadrantSegments(n)}},{key:"bufferOriginalPrecision",value:function(){try{var n=new ls(this._bufParams);this._resultGeometry=n.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof ut))throw i;this._saveException=i}}},{key:"getResultGeometry",value:function(n){return this._distance=n,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(n){this._bufParams.setEndCapStyle(n)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new O,this._resultGeometry=null,this._saveException=null,arguments.length===1){var n=arguments[0];this._argGeom=n}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this._argGeom=i,this._bufParams=o}}},{key:"bufferOp",value:function(){if(arguments.length===2){var n=arguments[1];return new a(arguments[0]).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&typeof arguments[1]=="number"){var i=arguments[1],o=arguments[2],c=new a(arguments[0]);return c.setQuadrantSegments(o),c.getResultGeometry(i)}if(arguments[2]instanceof O&&arguments[0]instanceof ct&&typeof arguments[1]=="number"){var g=arguments[1];return new a(arguments[0],arguments[2]).getResultGeometry(g)}}else if(arguments.length===4){var _=arguments[1],x=arguments[2],w=arguments[3],P=new a(arguments[0]);return P.setQuadrantSegments(x),P.setEndCapStyle(w),P.getResultGeometry(_)}}},{key:"precisionScaleFactor",value:function(n,i,o){var c=n.getEnvelopeInternal(),g=Ri.max(Math.abs(c.getMaxX()),Math.abs(c.getMaxY()),Math.abs(c.getMinX()),Math.abs(c.getMinY()))+2*(i>0?i:0),_=o-Math.trunc(Math.log(g)/Math.log(10)+1);return Math.pow(10,_)}}])}();si.CAP_ROUND=O.CAP_ROUND,si.CAP_BUTT=O.CAP_FLAT,si.CAP_FLAT=O.CAP_FLAT,si.CAP_SQUARE=O.CAP_SQUARE,si.MAX_PRECISION_DIGITS=12;var cs=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],fs=function(){return v(function a(n){h(this,a),this.geometryFactory=n||new Nn},[{key:"read",value:function(a){var n,i=(n=typeof a=="string"?JSON.parse(a):a).type;if(!Fe[i])throw new Error("Unknown GeoJSON type: "+n.type);return cs.indexOf(i)!==-1?Fe[i].call(this,n.coordinates):i==="GeometryCollection"?Fe[i].call(this,n.geometries):Fe[i].call(this,n)}},{key:"write",value:function(a){var n=a.getGeometryType();if(!Be[n])throw new Error("Geometry is not supported");return Be[n].call(this,a)}}])}(),Fe={Feature:function(a){var n={};for(var i in a)n[i]=a[i];if(a.geometry){var o=a.geometry.type;if(!Fe[o])throw new Error("Unknown GeoJSON type: "+a.type);n.geometry=this.read(a.geometry)}return a.bbox&&(n.bbox=Fe.bbox.call(this,a.bbox)),n},FeatureCollection:function(a){var n={};if(a.features){n.features=[];for(var i=0;i<a.features.length;++i)n.features.push(this.read(a.features[i]))}return a.bbox&&(n.bbox=this.parse.bbox.call(this,a.bbox)),n},coordinates:function(a){for(var n=[],i=0;i<a.length;++i){var o=a[i];n.push(d(G,b(o)))}return n},bbox:function(a){return this.geometryFactory.createLinearRing([new G(a[0],a[1]),new G(a[2],a[1]),new G(a[2],a[3]),new G(a[0],a[3]),new G(a[0],a[1])])},Point:function(a){var n=d(G,b(a));return this.geometryFactory.createPoint(n)},MultiPoint:function(a){for(var n=[],i=0;i<a.length;++i)n.push(Fe.Point.call(this,a[i]));return this.geometryFactory.createMultiPoint(n)},LineString:function(a){var n=Fe.coordinates.call(this,a);return this.geometryFactory.createLineString(n)},MultiLineString:function(a){for(var n=[],i=0;i<a.length;++i)n.push(Fe.LineString.call(this,a[i]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(a){for(var n=Fe.coordinates.call(this,a[0]),i=this.geometryFactory.createLinearRing(n),o=[],c=1;c<a.length;++c){var g=a[c],_=Fe.coordinates.call(this,g),x=this.geometryFactory.createLinearRing(_);o.push(x)}return this.geometryFactory.createPolygon(i,o)},MultiPolygon:function(a){for(var n=[],i=0;i<a.length;++i){var o=a[i];n.push(Fe.Polygon.call(this,o))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(a){for(var n=[],i=0;i<a.length;++i){var o=a[i];n.push(this.read(o))}return this.geometryFactory.createGeometryCollection(n)}},Be={coordinate:function(a){var n=[a.x,a.y];return a.z&&n.push(a.z),a.m&&n.push(a.m),n},Point:function(a){return{type:"Point",coordinates:Be.coordinate.call(this,a.getCoordinate())}},MultiPoint:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],c=Be.Point.call(this,o);n.push(c.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(a){for(var n=[],i=a.getCoordinates(),o=0;o<i.length;++o){var c=i[o];n.push(Be.coordinate.call(this,c))}return{type:"LineString",coordinates:n}},MultiLineString:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],c=Be.LineString.call(this,o);n.push(c.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(a){var n=[],i=Be.LineString.call(this,a._shell);n.push(i.coordinates);for(var o=0;o<a._holes.length;++o){var c=a._holes[o],g=Be.LineString.call(this,c);n.push(g.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],c=Be.Polygon.call(this,o);n.push(c.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(a){for(var n=[],i=0;i<a._geometries.length;++i){var o=a._geometries[i],c=o.getGeometryType();n.push(Be[c].call(this,o))}return{type:"GeometryCollection",geometries:n}}};return{BufferOp:si,GeoJSONReader:function(){return v(function a(n){h(this,a),this.parser=new fs(n||new Nn)},[{key:"read",value:function(a){return this.parser.read(a)}}])}(),GeoJSONWriter:function(){return v(function a(){h(this,a),this.parser=new fs(this.geometryFactory)},[{key:"write",value:function(a){return this.parser.write(a)}}])}()}})})(Up);var S0=Up.exports;const N0=al(S0);function cr(){return new nl}function nl(){this.reset()}nl.prototype={constructor:nl,reset:function(){this.s=this.t=0},add:function(t){Kd(lu,t,this.t),Kd(this,lu.s,this.s),this.s?this.t+=lu.t:this.s=lu.t},valueOf:function(){return this.s}};var lu=new nl;function Kd(t,e,s){var u=t.s=e+s,h=u-e,d=u-h;t.t=e-d+(s-h)}var Qt=1e-6,Xt=Math.PI,hi=Xt/2,Qd=Xt/4,di=Xt*2,Xi=180/Xt,An=Xt/180,Me=Math.abs,I0=Math.atan,qs=Math.atan2,ue=Math.cos,le=Math.sin,Ks=Math.sqrt;function Yp(t){return t>1?0:t<-1?Xt:Math.acos(t)}function Gr(t){return t>1?hi:t<-1?-hi:Math.asin(t)}function qo(){}function il(t,e){t&&tg.hasOwnProperty(t.type)&&tg[t.type](t,e)}var Jd={Feature:function(t,e){il(t.geometry,e)},FeatureCollection:function(t,e){for(var s=t.features,u=-1,h=s.length;++u<h;)il(s[u].geometry,e)}},tg={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var s=t.coordinates,u=-1,h=s.length;++u<h;)t=s[u],e.point(t[0],t[1],t[2])},LineString:function(t,e){xc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var s=t.coordinates,u=-1,h=s.length;++u<h;)xc(s[u],e,0)},Polygon:function(t,e){eg(t.coordinates,e)},MultiPolygon:function(t,e){for(var s=t.coordinates,u=-1,h=s.length;++u<h;)eg(s[u],e)},GeometryCollection:function(t,e){for(var s=t.geometries,u=-1,h=s.length;++u<h;)il(s[u],e)}};function xc(t,e,s){var u=-1,h=t.length-s,d;for(e.lineStart();++u<h;)d=t[u],e.point(d[0],d[1],d[2]);e.lineEnd()}function eg(t,e){var s=-1,u=t.length;for(e.polygonStart();++s<u;)xc(t[s],e,1);e.polygonEnd()}function L0(t,e){t&&Jd.hasOwnProperty(t.type)?Jd[t.type](t,e):il(t,e)}cr();cr();function kc(t){return[qs(t[1],t[0]),Gr(t[2])]}function Xs(t){var e=t[0],s=t[1],u=ue(s);return[u*ue(e),u*le(e),le(s)]}function hu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function rl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function xh(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function wc(t){var e=Ks(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}cr();function qp(t,e){function s(u,h){return u=t(u,h),e(u[0],u[1])}return t.invert&&e.invert&&(s.invert=function(u,h){return u=e.invert(u,h),u&&t.invert(u[0],u[1])}),s}function Ec(t,e){return[t>Xt?t-di:t<-Xt?t+di:t,e]}Ec.invert=Ec;function T0(t,e,s){return(t%=di)?e||s?qp(ig(t),rg(e,s)):ig(t):e||s?rg(e,s):Ec}function ng(t){return function(e,s){return e+=t,[e>Xt?e-di:e<-Xt?e+di:e,s]}}function ig(t){var e=ng(t);return e.invert=ng(-t),e}function rg(t,e){var s=ue(t),u=le(t),h=ue(e),d=le(e);function p(v,k){var N=ue(k),S=ue(v)*N,I=le(v)*N,T=le(k),z=T*s+S*u;return[qs(I*h-z*d,S*s-T*u),Gr(z*h+I*d)]}return p.invert=function(v,k){var N=ue(k),S=ue(v)*N,I=le(v)*N,T=le(k),z=T*h-I*d;return[qs(I*h+T*d,S*s+z*u),Gr(z*s-S*u)]},p}function C0(t,e,s,u,h,d){if(s){var p=ue(e),v=le(e),k=u*s;h==null?(h=e+u*di,d=e-k/2):(h=sg(p,h),d=sg(p,d),(u>0?h<d:h>d)&&(h+=u*di));for(var N,S=h;u>0?S>d:S<d;S-=k)N=kc([p,-v*ue(S),-v*le(S)]),t.point(N[0],N[1])}}function sg(t,e){e=Xs(e),e[0]-=t,wc(e);var s=Yp(-e[1]);return((-e[2]<0?-s:s)+di-Qt)%di}function Xp(){var t=[],e;return{point:function(s,u){e.push([s,u])},lineStart:function(){t.push(e=[])},lineEnd:qo,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var s=t;return t=[],e=null,s}}}function P0(t,e,s,u,h,d){var p=t[0],v=t[1],k=e[0],N=e[1],S=0,I=1,T=k-p,z=N-v,M;if(M=s-p,!(!T&&M>0)){if(M/=T,T<0){if(M<S)return;M<I&&(I=M)}else if(T>0){if(M>I)return;M>S&&(S=M)}if(M=h-p,!(!T&&M<0)){if(M/=T,T<0){if(M>I)return;M>S&&(S=M)}else if(T>0){if(M<S)return;M<I&&(I=M)}if(M=u-v,!(!z&&M>0)){if(M/=z,z<0){if(M<S)return;M<I&&(I=M)}else if(z>0){if(M>I)return;M>S&&(S=M)}if(M=d-v,!(!z&&M<0)){if(M/=z,z<0){if(M>I)return;M>S&&(S=M)}else if(z>0){if(M<S)return;M<I&&(I=M)}return S>0&&(t[0]=p+S*T,t[1]=v+S*z),I<1&&(e[0]=p+I*T,e[1]=v+I*z),!0}}}}}function Lu(t,e){return Me(t[0]-e[0])<Qt&&Me(t[1]-e[1])<Qt}function fu(t,e,s,u){this.x=t,this.z=e,this.o=s,this.e=u,this.v=!1,this.n=this.p=null}function Hp(t,e,s,u,h){var d=[],p=[],v,k;if(t.forEach(function(M){if(!((b=M.length-1)<=0)){var b,$=M[0],A=M[b],C;if(Lu($,A)){for(h.lineStart(),v=0;v<b;++v)h.point(($=M[v])[0],$[1]);h.lineEnd();return}d.push(C=new fu($,M,null,!0)),p.push(C.o=new fu($,null,C,!1)),d.push(C=new fu(A,M,null,!1)),p.push(C.o=new fu(A,null,C,!0))}}),!!d.length){for(p.sort(e),og(d),og(p),v=0,k=p.length;v<k;++v)p[v].e=s=!s;for(var N=d[0],S,I;;){for(var T=N,z=!0;T.v;)if((T=T.n)===N)return;S=T.z,h.lineStart();do{if(T.v=T.o.v=!0,T.e){if(z)for(v=0,k=S.length;v<k;++v)h.point((I=S[v])[0],I[1]);else u(T.x,T.n.x,1,h);T=T.n}else{if(z)for(S=T.p.z,v=S.length-1;v>=0;--v)h.point((I=S[v])[0],I[1]);else u(T.x,T.p.x,-1,h);T=T.p}T=T.o,S=T.z,z=!z}while(!T.v);h.lineEnd()}}}function og(t){if(e=t.length){for(var e,s=0,u=t[0],h;++s<e;)u.n=h=t[s],h.p=u,u=h;u.n=h=t[0],h.p=u}}function Vp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function O0(t){return t.length===1&&(t=M0(t)),{left:function(e,s,u,h){for(u==null&&(u=0),h==null&&(h=e.length);u<h;){var d=u+h>>>1;t(e[d],s)<0?u=d+1:h=d}return u},right:function(e,s,u,h){for(u==null&&(u=0),h==null&&(h=e.length);u<h;){var d=u+h>>>1;t(e[d],s)>0?h=d:u=d+1}return u}}}function M0(t){return function(e,s){return Vp(t(e),s)}}O0(Vp);function jp(t){for(var e=t.length,s,u=-1,h=0,d,p;++u<e;)h+=t[u].length;for(d=new Array(h);--e>=0;)for(p=t[e],s=p.length;--s>=0;)d[--h]=p[s];return d}var Xo=1e9,du=-Xo;function R0(t,e,s,u){function h(N,S){return t<=N&&N<=s&&e<=S&&S<=u}function d(N,S,I,T){var z=0,M=0;if(N==null||(z=p(N,I))!==(M=p(S,I))||k(N,S)<0^I>0)do T.point(z===0||z===3?t:s,z>1?u:e);while((z=(z+I+4)%4)!==M);else T.point(S[0],S[1])}function p(N,S){return Me(N[0]-t)<Qt?S>0?0:3:Me(N[0]-s)<Qt?S>0?2:1:Me(N[1]-e)<Qt?S>0?1:0:S>0?3:2}function v(N,S){return k(N.x,S.x)}function k(N,S){var I=p(N,1),T=p(S,1);return I!==T?I-T:I===0?S[1]-N[1]:I===1?N[0]-S[0]:I===2?N[1]-S[1]:S[0]-N[0]}return function(N){var S=N,I=Xp(),T,z,M,b,$,A,C,O,Z,U,X,V={point:W,lineStart:pt,lineEnd:Bt,polygonStart:at,polygonEnd:ft};function W(Nt,vt){h(Nt,vt)&&S.point(Nt,vt)}function K(){for(var Nt=0,vt=0,Ct=z.length;vt<Ct;++vt)for(var j=z[vt],ht=1,F=j.length,nt=j[0],ut,Et,it=nt[0],_t=nt[1];ht<F;++ht)ut=it,Et=_t,nt=j[ht],it=nt[0],_t=nt[1],Et<=u?_t>u&&(it-ut)*(u-Et)>(_t-Et)*(t-ut)&&++Nt:_t<=u&&(it-ut)*(u-Et)<(_t-Et)*(t-ut)&&--Nt;return Nt}function at(){S=I,T=[],z=[],X=!0}function ft(){var Nt=K(),vt=X&&Nt,Ct=(T=jp(T)).length;(vt||Ct)&&(N.polygonStart(),vt&&(N.lineStart(),d(null,null,1,N),N.lineEnd()),Ct&&Hp(T,v,Nt,d,N),N.polygonEnd()),S=N,T=z=M=null}function pt(){V.point=et,z&&z.push(M=[]),U=!0,Z=!1,C=O=NaN}function Bt(){T&&(et(b,$),A&&Z&&I.rejoin(),T.push(I.result())),V.point=W,Z&&S.lineEnd()}function et(Nt,vt){var Ct=h(Nt,vt);if(z&&M.push([Nt,vt]),U)b=Nt,$=vt,A=Ct,U=!1,Ct&&(S.lineStart(),S.point(Nt,vt));else if(Ct&&Z)S.point(Nt,vt);else{var j=[C=Math.max(du,Math.min(Xo,C)),O=Math.max(du,Math.min(Xo,O))],ht=[Nt=Math.max(du,Math.min(Xo,Nt)),vt=Math.max(du,Math.min(Xo,vt))];P0(j,ht,t,e,s,u)?(Z||(S.lineStart(),S.point(j[0],j[1])),S.point(ht[0],ht[1]),Ct||S.lineEnd(),X=!1):Ct&&(S.lineStart(),S.point(Nt,vt),X=!1)}C=Nt,O=vt,Z=Ct}return V}}var kh=cr();function A0(t,e){var s=e[0],u=e[1],h=[le(s),-ue(s),0],d=0,p=0;kh.reset();for(var v=0,k=t.length;v<k;++v)if(S=(N=t[v]).length)for(var N,S,I=N[S-1],T=I[0],z=I[1]/2+Qd,M=le(z),b=ue(z),$=0;$<S;++$,T=C,M=Z,b=U,I=A){var A=N[$],C=A[0],O=A[1]/2+Qd,Z=le(O),U=ue(O),X=C-T,V=X>=0?1:-1,W=V*X,K=W>Xt,at=M*Z;if(kh.add(qs(at*V*le(W),b*U+at*ue(W))),d+=K?X+V*di:X,K^T>=s^C>=s){var ft=rl(Xs(I),Xs(A));wc(ft);var pt=rl(h,ft);wc(pt);var Bt=(K^X>=0?-1:1)*Gr(pt[2]);(u>Bt||u===Bt&&(ft[0]||ft[1]))&&(p+=K^X>=0?1:-1)}}return(d<-Qt||d<Qt&&kh<-Qt)^p&1}cr();function ag(t){return t}cr();cr();var Hs=1/0,sl=Hs,_a=-Hs,ol=_a,ug={point:D0,lineStart:qo,lineEnd:qo,polygonStart:qo,polygonEnd:qo,result:function(){var t=[[Hs,sl],[_a,ol]];return _a=ol=-(sl=Hs=1/0),t}};function D0(t,e){t<Hs&&(Hs=t),t>_a&&(_a=t),e<sl&&(sl=e),e>ol&&(ol=e)}cr();function Wp(t,e,s,u){return function(h,d){var p=e(d),v=h.invert(u[0],u[1]),k=Xp(),N=e(k),S=!1,I,T,z,M={point:b,lineStart:A,lineEnd:C,polygonStart:function(){M.point=O,M.lineStart=Z,M.lineEnd=U,T=[],I=[]},polygonEnd:function(){M.point=b,M.lineStart=A,M.lineEnd=C,T=jp(T);var X=A0(I,v);T.length?(S||(d.polygonStart(),S=!0),Hp(T,F0,X,s,d)):X&&(S||(d.polygonStart(),S=!0),d.lineStart(),s(null,null,1,d),d.lineEnd()),S&&(d.polygonEnd(),S=!1),T=I=null},sphere:function(){d.polygonStart(),d.lineStart(),s(null,null,1,d),d.lineEnd(),d.polygonEnd()}};function b(X,V){var W=h(X,V);t(X=W[0],V=W[1])&&d.point(X,V)}function $(X,V){var W=h(X,V);p.point(W[0],W[1])}function A(){M.point=$,p.lineStart()}function C(){M.point=b,p.lineEnd()}function O(X,V){z.push([X,V]);var W=h(X,V);N.point(W[0],W[1])}function Z(){N.lineStart(),z=[]}function U(){O(z[0][0],z[0][1]),N.lineEnd();var X=N.clean(),V=k.result(),W,K=V.length,at,ft,pt;if(z.pop(),I.push(z),z=null,!!K){if(X&1){if(ft=V[0],(at=ft.length-1)>0){for(S||(d.polygonStart(),S=!0),d.lineStart(),W=0;W<at;++W)d.point((pt=ft[W])[0],pt[1]);d.lineEnd()}return}K>1&&X&2&&V.push(V.pop().concat(V.shift())),T.push(V.filter(z0))}}return M}}function z0(t){return t.length>1}function F0(t,e){return((t=t.x)[0]<0?t[1]-hi-Qt:hi-t[1])-((e=e.x)[0]<0?e[1]-hi-Qt:hi-e[1])}const lg=Wp(function(){return!0},B0,Z0,[-Xt,-hi]);function B0(t){var e=NaN,s=NaN,u=NaN,h;return{lineStart:function(){t.lineStart(),h=1},point:function(d,p){var v=d>0?Xt:-Xt,k=Me(d-e);Me(k-Xt)<Qt?(t.point(e,s=(s+p)/2>0?hi:-hi),t.point(u,s),t.lineEnd(),t.lineStart(),t.point(v,s),t.point(d,s),h=0):u!==v&&k>=Xt&&(Me(e-u)<Qt&&(e-=u*Qt),Me(d-v)<Qt&&(d-=v*Qt),s=b0(e,s,d,p),t.point(u,s),t.lineEnd(),t.lineStart(),t.point(v,s),h=0),t.point(e=d,s=p),u=v},lineEnd:function(){t.lineEnd(),e=s=NaN},clean:function(){return 2-h}}}function b0(t,e,s,u){var h,d,p=le(t-s);return Me(p)>Qt?I0((le(e)*(d=ue(u))*le(s)-le(u)*(h=ue(e))*le(t))/(h*d*p)):(e+u)/2}function Z0(t,e,s,u){var h;if(t==null)h=s*hi,u.point(-Xt,h),u.point(0,h),u.point(Xt,h),u.point(Xt,0),u.point(Xt,-h),u.point(0,-h),u.point(-Xt,-h),u.point(-Xt,0),u.point(-Xt,h);else if(Me(t[0]-e[0])>Qt){var d=t[0]<e[0]?Xt:-Xt;h=s*d/2,u.point(-d,h),u.point(0,h),u.point(d,h)}else u.point(e[0],e[1])}function G0(t,e){var s=ue(t),u=s>0,h=Me(s)>Qt;function d(S,I,T,z){C0(z,t,e,T,S,I)}function p(S,I){return ue(S)*ue(I)>s}function v(S){var I,T,z,M,b;return{lineStart:function(){M=z=!1,b=1},point:function($,A){var C=[$,A],O,Z=p($,A),U=u?Z?0:N($,A):Z?N($+($<0?Xt:-Xt),A):0;if(!I&&(M=z=Z)&&S.lineStart(),Z!==z&&(O=k(I,C),(!O||Lu(I,O)||Lu(C,O))&&(C[0]+=Qt,C[1]+=Qt,Z=p(C[0],C[1]))),Z!==z)b=0,Z?(S.lineStart(),O=k(C,I),S.point(O[0],O[1])):(O=k(I,C),S.point(O[0],O[1]),S.lineEnd()),I=O;else if(h&&I&&u^Z){var X;!(U&T)&&(X=k(C,I,!0))&&(b=0,u?(S.lineStart(),S.point(X[0][0],X[0][1]),S.point(X[1][0],X[1][1]),S.lineEnd()):(S.point(X[1][0],X[1][1]),S.lineEnd(),S.lineStart(),S.point(X[0][0],X[0][1])))}Z&&(!I||!Lu(I,C))&&S.point(C[0],C[1]),I=C,z=Z,T=U},lineEnd:function(){z&&S.lineEnd(),I=null},clean:function(){return b|(M&&z)<<1}}}function k(S,I,T){var z=Xs(S),M=Xs(I),b=[1,0,0],$=rl(z,M),A=hu($,$),C=$[0],O=A-C*C;if(!O)return!T&&S;var Z=s*A/O,U=-s*C/O,X=rl(b,$),V=cu(b,Z),W=cu($,U);xh(V,W);var K=X,at=hu(V,K),ft=hu(K,K),pt=at*at-ft*(hu(V,V)-1);if(!(pt<0)){var Bt=Ks(pt),et=cu(K,(-at-Bt)/ft);if(xh(et,V),et=kc(et),!T)return et;var Nt=S[0],vt=I[0],Ct=S[1],j=I[1],ht;vt<Nt&&(ht=Nt,Nt=vt,vt=ht);var F=vt-Nt,nt=Me(F-Xt)<Qt,ut=nt||F<Qt;if(!nt&&j<Ct&&(ht=Ct,Ct=j,j=ht),ut?nt?Ct+j>0^et[1]<(Me(et[0]-Nt)<Qt?Ct:j):Ct<=et[1]&&et[1]<=j:F>Xt^(Nt<=et[0]&&et[0]<=vt)){var Et=cu(K,(-at+Bt)/ft);return xh(Et,V),[et,kc(Et)]}}}function N(S,I){var T=u?t:Xt-t,z=0;return S<-T?z|=1:S>T&&(z|=2),I<-T?z|=4:I>T&&(z|=8),z}return Wp(p,v,d,u?[0,-t]:[-Xt,t-Xt])}function $p(t){return function(e){var s=new Sc;for(var u in t)s[u]=t[u];return s.stream=e,s}}function Sc(){}Sc.prototype={constructor:Sc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Kp(t,e,s){var u=e[1][0]-e[0][0],h=e[1][1]-e[0][1],d=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),d!=null&&t.clipExtent(null),L0(s,t.stream(ug));var p=ug.result(),v=Math.min(u/(p[1][0]-p[0][0]),h/(p[1][1]-p[0][1])),k=+e[0][0]+(u-v*(p[1][0]+p[0][0]))/2,N=+e[0][1]+(h-v*(p[1][1]+p[0][1]))/2;return d!=null&&t.clipExtent(d),t.scale(v*150).translate([k,N])}function U0(t,e,s){return Kp(t,[[0,0],e],s)}var hg=16,Y0=ue(30*An);function cg(t,e){return+e?X0(t,e):q0(t)}function q0(t){return $p({point:function(e,s){e=t(e,s),this.stream.point(e[0],e[1])}})}function X0(t,e){function s(u,h,d,p,v,k,N,S,I,T,z,M,b,$){var A=N-u,C=S-h,O=A*A+C*C;if(O>4*e&&b--){var Z=p+T,U=v+z,X=k+M,V=Ks(Z*Z+U*U+X*X),W=Gr(X/=V),K=Me(Me(X)-1)<Qt||Me(d-I)<Qt?(d+I)/2:qs(U,Z),at=t(K,W),ft=at[0],pt=at[1],Bt=ft-u,et=pt-h,Nt=C*Bt-A*et;(Nt*Nt/O>e||Me((A*Bt+C*et)/O-.5)>.3||p*T+v*z+k*M<Y0)&&(s(u,h,d,p,v,k,ft,pt,K,Z/=V,U/=V,X,b,$),$.point(ft,pt),s(ft,pt,K,Z,U,X,N,S,I,T,z,M,b,$))}}return function(u){var h,d,p,v,k,N,S,I,T,z,M,b,$={point:A,lineStart:C,lineEnd:Z,polygonStart:function(){u.polygonStart(),$.lineStart=U},polygonEnd:function(){u.polygonEnd(),$.lineStart=C}};function A(W,K){W=t(W,K),u.point(W[0],W[1])}function C(){I=NaN,$.point=O,u.lineStart()}function O(W,K){var at=Xs([W,K]),ft=t(W,K);s(I,T,S,z,M,b,I=ft[0],T=ft[1],S=W,z=at[0],M=at[1],b=at[2],hg,u),u.point(I,T)}function Z(){$.point=A,u.lineEnd()}function U(){C(),$.point=X,$.lineEnd=V}function X(W,K){O(h=W,K),d=I,p=T,v=z,k=M,N=b,$.point=O}function V(){s(I,T,S,z,M,b,d,p,h,v,k,N,hg,u),$.lineEnd=Z,Z()}return $}}var H0=$p({point:function(t,e){this.stream.point(t*An,e*An)}});function V0(t){return j0(function(){return t})()}function j0(t){var e,s=150,u=480,h=250,d,p,v=0,k=0,N=0,S=0,I=0,T,z,M=null,b=lg,$=null,A,C,O,Z=ag,U=.5,X=cg(ft,U),V,W;function K(et){return et=z(et[0]*An,et[1]*An),[et[0]*s+d,p-et[1]*s]}function at(et){return et=z.invert((et[0]-d)/s,(p-et[1])/s),et&&[et[0]*Xi,et[1]*Xi]}function ft(et,Nt){return et=e(et,Nt),[et[0]*s+d,p-et[1]*s]}K.stream=function(et){return V&&W===et?V:V=H0(b(T,X(Z(W=et))))},K.clipAngle=function(et){return arguments.length?(b=+et?G0(M=et*An,6*An):(M=null,lg),Bt()):M*Xi},K.clipExtent=function(et){return arguments.length?(Z=et==null?($=A=C=O=null,ag):R0($=+et[0][0],A=+et[0][1],C=+et[1][0],O=+et[1][1]),Bt()):$==null?null:[[$,A],[C,O]]},K.scale=function(et){return arguments.length?(s=+et,pt()):s},K.translate=function(et){return arguments.length?(u=+et[0],h=+et[1],pt()):[u,h]},K.center=function(et){return arguments.length?(v=et[0]%360*An,k=et[1]%360*An,pt()):[v*Xi,k*Xi]},K.rotate=function(et){return arguments.length?(N=et[0]%360*An,S=et[1]%360*An,I=et.length>2?et[2]%360*An:0,pt()):[N*Xi,S*Xi,I*Xi]},K.precision=function(et){return arguments.length?(X=cg(ft,U=et*et),Bt()):Ks(U)},K.fitExtent=function(et,Nt){return Kp(K,et,Nt)},K.fitSize=function(et,Nt){return U0(K,et,Nt)};function pt(){z=qp(T=T0(N,S,I),e);var et=e(v,k);return d=u-et[0]*s,p=h+et[1]*s,Bt()}function Bt(){return V=W=null,K}return function(){return e=t.apply(this,arguments),K.invert=e.invert&&at,pt()}}function Qp(t){return function(e,s){var u=ue(e),h=ue(s),d=t(u*h);return[d*h*le(e),d*le(s)]}}function Jp(t){return function(e,s){var u=Ks(e*e+s*s),h=t(u),d=le(h),p=ue(h);return[qs(e*d,u*p),Gr(u&&s*d/u)]}}var W0=Qp(function(t){return Ks(2/(1+t))});W0.invert=Jp(function(t){return 2*Gr(t/2)});var tv=Qp(function(t){return(t=Yp(t))&&t/le(t)});tv.invert=Jp(function(t){return t});function $0(){return V0(tv).scale(79.4188).clipAngle(180-.001)}function fg(t,e){return[t,e]}fg.invert=fg;var{BufferOp:K0,GeoJSONReader:Q0,GeoJSONWriter:J0}=N0;function t1(t,e,s){s=s||{};var u=s.units||"kilometers",h=s.steps||8;if(!t)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof h!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(h<=0)throw new Error("steps must be greater than 0");var d=[];switch(t.type){case"GeometryCollection":return Zp(t,function(p){var v=Tu(p,e,u,h);v&&d.push(v)}),el(d);case"FeatureCollection":return Wd(t,function(p){var v=Tu(p,e,u,h);v&&Wd(v,function(k){k&&d.push(k)})}),el(d)}return Tu(t,e,u,h)}function Tu(t,e,s,u){var h=t.properties||{},d=t.type==="Feature"?t.geometry:t;if(d.type==="GeometryCollection"){var p=[];return Zp(t,function(b){var $=Tu(b,e,s,u);$&&p.push($)}),el(p)}var v=e1(d),k={type:d.type,coordinates:nv(d.coordinates,v)},N=new Q0,S=N.read(k),I=c0(f0(e,s),"meters"),T=K0.bufferOp(S,I,u),z=new J0;if(T=z.write(T),!ev(T.coordinates)){var M={type:T.type,coordinates:iv(T.coordinates,v)};return Il(M,h)}}function ev(t){return Array.isArray(t[0])?ev(t[0]):isNaN(t[0])}function nv(t,e){return typeof t[0]!="object"?e(t):t.map(function(s){return nv(s,e)})}function iv(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(s){return iv(s,e)})}function e1(t){var e=E0(t).geometry.coordinates,s=[-e[0],-e[1]];return $0().rotate(s).scale(on)}var If={exports:{}};const n1=_g(w0);class i1{constructor(e=[],s=r1){if(this.data=e,this.length=this.data.length,this.compare=s,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:s,compare:u}=this,h=s[e];for(;e>0;){const d=e-1>>1,p=s[d];if(u(h,p)>=0)break;s[e]=p,e=d}s[e]=h}_down(e){const{data:s,compare:u}=this,h=this.length>>1,d=s[e];for(;e<h;){let p=(e<<1)+1,v=s[p];const k=p+1;if(k<this.length&&u(s[k],v)<0&&(p=k,v=s[k]),u(v,d)>=0)break;s[e]=v,e=p}s[e]=d}}function r1(t,e){return t<e?-1:t>e?1:0}const s1=Object.freeze(Object.defineProperty({__proto__:null,default:i1},Symbol.toStringTag,{value:"Module"})),o1=_g(s1);var Ll={exports:{}},a1=function(e,s,u,h){var d=e[0],p=e[1],v=!1;u===void 0&&(u=0),h===void 0&&(h=s.length);for(var k=(h-u)/2,N=0,S=k-1;N<k;S=N++){var I=s[u+N*2+0],T=s[u+N*2+1],z=s[u+S*2+0],M=s[u+S*2+1],b=T>p!=M>p&&d<(z-I)*(p-T)/(M-T)+I;b&&(v=!v)}return v},u1=function(e,s,u,h){var d=e[0],p=e[1],v=!1;u===void 0&&(u=0),h===void 0&&(h=s.length);for(var k=h-u,N=0,S=k-1;N<k;S=N++){var I=s[N+u][0],T=s[N+u][1],z=s[S+u][0],M=s[S+u][1],b=T>p!=M>p&&d<(z-I)*(p-T)/(M-T)+I;b&&(v=!v)}return v},rv=a1,sv=u1;Ll.exports=function(e,s,u,h){return s.length>0&&Array.isArray(s[0])?sv(e,s,u,h):rv(e,s,u,h)};Ll.exports.nested=sv;Ll.exports.flat=rv;var l1=Ll.exports,Nc={exports:{}};(function(t,e){(function(s,u){u(e)})(Ic,function(s){const h=33306690738754706e-32;function d(b,$,A,C,O){let Z,U,X,V,W=$[0],K=C[0],at=0,ft=0;K>W==K>-W?(Z=W,W=$[++at]):(Z=K,K=C[++ft]);let pt=0;if(at<b&&ft<A)for(K>W==K>-W?(X=Z-((U=W+Z)-W),W=$[++at]):(X=Z-((U=K+Z)-K),K=C[++ft]),Z=U,X!==0&&(O[pt++]=X);at<b&&ft<A;)K>W==K>-W?(X=Z-((U=Z+W)-(V=U-Z))+(W-V),W=$[++at]):(X=Z-((U=Z+K)-(V=U-Z))+(K-V),K=C[++ft]),Z=U,X!==0&&(O[pt++]=X);for(;at<b;)X=Z-((U=Z+W)-(V=U-Z))+(W-V),W=$[++at],Z=U,X!==0&&(O[pt++]=X);for(;ft<A;)X=Z-((U=Z+K)-(V=U-Z))+(K-V),K=C[++ft],Z=U,X!==0&&(O[pt++]=X);return Z===0&&pt!==0||(O[pt++]=Z),pt}function p(b){return new Float64Array(b)}const v=33306690738754716e-32,k=22204460492503146e-32,N=11093356479670487e-47,S=p(4),I=p(8),T=p(12),z=p(16),M=p(4);s.orient2d=function(b,$,A,C,O,Z){const U=($-Z)*(A-O),X=(b-O)*(C-Z),V=U-X;if(U===0||X===0||U>0!=X>0)return V;const W=Math.abs(U+X);return Math.abs(V)>=v*W?V:-function(K,at,ft,pt,Bt,et,Nt){let vt,Ct,j,ht,F,nt,ut,Et,it,_t,lt,zt,G,me,At,ct,R,Kt;const Ne=K-Bt,se=ft-Bt,Ae=at-et,xe=pt-et;F=(At=(Et=Ne-(ut=(nt=134217729*Ne)-(nt-Ne)))*(_t=xe-(it=(nt=134217729*xe)-(nt-xe)))-((me=Ne*xe)-ut*it-Et*it-ut*_t))-(lt=At-(R=(Et=Ae-(ut=(nt=134217729*Ae)-(nt-Ae)))*(_t=se-(it=(nt=134217729*se)-(nt-se)))-((ct=Ae*se)-ut*it-Et*it-ut*_t))),S[0]=At-(lt+F)+(F-R),F=(G=me-((zt=me+lt)-(F=zt-me))+(lt-F))-(lt=G-ct),S[1]=G-(lt+F)+(F-ct),F=(Kt=zt+lt)-zt,S[2]=zt-(Kt-F)+(lt-F),S[3]=Kt;let Ve=function(qr,Tt){let Qn=Tt[0];for(let wn=1;wn<qr;wn++)Qn+=Tt[wn];return Qn}(4,S),tt=k*Nt;if(Ve>=tt||-Ve>=tt||(vt=K-(Ne+(F=K-Ne))+(F-Bt),j=ft-(se+(F=ft-se))+(F-Bt),Ct=at-(Ae+(F=at-Ae))+(F-et),ht=pt-(xe+(F=pt-xe))+(F-et),vt===0&&Ct===0&&j===0&&ht===0)||(tt=N*Nt+h*Math.abs(Ve),(Ve+=Ne*ht+xe*vt-(Ae*j+se*Ct))>=tt||-Ve>=tt))return Ve;F=(At=(Et=vt-(ut=(nt=134217729*vt)-(nt-vt)))*(_t=xe-(it=(nt=134217729*xe)-(nt-xe)))-((me=vt*xe)-ut*it-Et*it-ut*_t))-(lt=At-(R=(Et=Ct-(ut=(nt=134217729*Ct)-(nt-Ct)))*(_t=se-(it=(nt=134217729*se)-(nt-se)))-((ct=Ct*se)-ut*it-Et*it-ut*_t))),M[0]=At-(lt+F)+(F-R),F=(G=me-((zt=me+lt)-(F=zt-me))+(lt-F))-(lt=G-ct),M[1]=G-(lt+F)+(F-ct),F=(Kt=zt+lt)-zt,M[2]=zt-(Kt-F)+(lt-F),M[3]=Kt;const fr=d(4,S,4,M,I);F=(At=(Et=Ne-(ut=(nt=134217729*Ne)-(nt-Ne)))*(_t=ht-(it=(nt=134217729*ht)-(nt-ht)))-((me=Ne*ht)-ut*it-Et*it-ut*_t))-(lt=At-(R=(Et=Ae-(ut=(nt=134217729*Ae)-(nt-Ae)))*(_t=j-(it=(nt=134217729*j)-(nt-j)))-((ct=Ae*j)-ut*it-Et*it-ut*_t))),M[0]=At-(lt+F)+(F-R),F=(G=me-((zt=me+lt)-(F=zt-me))+(lt-F))-(lt=G-ct),M[1]=G-(lt+F)+(F-ct),F=(Kt=zt+lt)-zt,M[2]=zt-(Kt-F)+(lt-F),M[3]=Kt;const Mi=d(fr,I,4,M,T);F=(At=(Et=vt-(ut=(nt=134217729*vt)-(nt-vt)))*(_t=ht-(it=(nt=134217729*ht)-(nt-ht)))-((me=vt*ht)-ut*it-Et*it-ut*_t))-(lt=At-(R=(Et=Ct-(ut=(nt=134217729*Ct)-(nt-Ct)))*(_t=j-(it=(nt=134217729*j)-(nt-j)))-((ct=Ct*j)-ut*it-Et*it-ut*_t))),M[0]=At-(lt+F)+(F-R),F=(G=me-((zt=me+lt)-(F=zt-me))+(lt-F))-(lt=G-ct),M[1]=G-(lt+F)+(F-ct),F=(Kt=zt+lt)-zt,M[2]=zt-(Kt-F)+(lt-F),M[3]=Kt;const kn=d(Mi,T,4,M,z);return z[kn-1]}(b,$,A,C,O,Z,W)},s.orient2dfast=function(b,$,A,C,O,Z){return($-Z)*(A-O)-(b-O)*(C-Z)},Object.defineProperty(s,"__esModule",{value:!0})})})(Nc,Nc.exports);var h1=Nc.exports,dg=n1,Cu=o1,c1=l1,f1=h1.orient2d;Cu.default&&(Cu=Cu.default);If.exports=ov;If.exports.default=ov;function ov(t,e,s){e=Math.max(0,e===void 0?2:e),s=s||0;var u=v1(t),h=new dg(16);h.toBBox=function(C){return{minX:C[0],minY:C[1],maxX:C[0],maxY:C[1]}},h.compareMinX=function(C,O){return C[0]-O[0]},h.compareMinY=function(C,O){return C[1]-O[1]},h.load(t);for(var d=[],p=0,v;p<u.length;p++){var k=u[p];h.remove(k),v=pg(k,v),d.push(v)}var N=new dg(16);for(p=0;p<d.length;p++)N.insert(wh(d[p]));for(var S=e*e,I=s*s;d.length;){var T=d.shift(),z=T.p,M=T.next.p,b=Eh(z,M);if(!(b<I)){var $=b/S;k=d1(h,T.prev.p,z,M,T.next.next.p,$,N),k&&Math.min(Eh(k,z),Eh(k,M))<=$&&(d.push(T),d.push(pg(k,T)),h.remove(k),N.remove(T),N.insert(wh(T)),N.insert(wh(T.next)))}}T=v;var A=[];do A.push(T.p),T=T.next;while(T!==v);return A.push(T.p),A}function d1(t,e,s,u,h,d,p){for(var v=new Cu([],g1),k=t.data;k;){for(var N=0;N<k.children.length;N++){var S=k.children[N],I=k.leaf?Sh(S,s,u):m1(s,u,S);I>d||v.push({node:S,dist:I})}for(;v.length&&!v.peek().node.children;){var T=v.pop(),z=T.node,M=Sh(z,e,s),b=Sh(z,u,h);if(T.dist<M&&T.dist<b&&mg(s,z,p)&&mg(u,z,p))return z}k=v.pop(),k&&(k=k.node)}return null}function g1(t,e){return t.dist-e.dist}function m1(t,e,s){if(gg(t,s)||gg(e,s))return 0;var u=gu(t[0],t[1],e[0],e[1],s.minX,s.minY,s.maxX,s.minY);if(u===0)return 0;var h=gu(t[0],t[1],e[0],e[1],s.minX,s.minY,s.minX,s.maxY);if(h===0)return 0;var d=gu(t[0],t[1],e[0],e[1],s.maxX,s.minY,s.maxX,s.maxY);if(d===0)return 0;var p=gu(t[0],t[1],e[0],e[1],s.minX,s.maxY,s.maxX,s.maxY);return p===0?0:Math.min(u,h,d,p)}function gg(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function mg(t,e,s){for(var u=Math.min(t[0],e[0]),h=Math.min(t[1],e[1]),d=Math.max(t[0],e[0]),p=Math.max(t[1],e[1]),v=s.search({minX:u,minY:h,maxX:d,maxY:p}),k=0;k<v.length;k++)if(p1(v[k].p,v[k].next.p,t,e))return!1;return!0}function Ps(t,e,s){return f1(t[0],t[1],e[0],e[1],s[0],s[1])}function p1(t,e,s,u){return t!==u&&e!==s&&Ps(t,e,s)>0!=Ps(t,e,u)>0&&Ps(s,u,t)>0!=Ps(s,u,e)>0}function wh(t){var e=t.p,s=t.next.p;return t.minX=Math.min(e[0],s[0]),t.minY=Math.min(e[1],s[1]),t.maxX=Math.max(e[0],s[0]),t.maxY=Math.max(e[1],s[1]),t}function v1(t){for(var e=t[0],s=t[0],u=t[0],h=t[0],d=0;d<t.length;d++){var p=t[d];p[0]<e[0]&&(e=p),p[0]>u[0]&&(u=p),p[1]<s[1]&&(s=p),p[1]>h[1]&&(h=p)}var v=[e,s,u,h],k=v.slice();for(d=0;d<t.length;d++)c1(t[d],v)||k.push(t[d]);return y1(k)}function pg(t,e){var s={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(s.next=e.next,s.prev=e,e.next.prev=s,e.next=s):(s.prev=s,s.next=s),s}function Eh(t,e){var s=t[0]-e[0],u=t[1]-e[1];return s*s+u*u}function Sh(t,e,s){var u=e[0],h=e[1],d=s[0]-u,p=s[1]-h;if(d!==0||p!==0){var v=((t[0]-u)*d+(t[1]-h)*p)/(d*d+p*p);v>1?(u=s[0],h=s[1]):v>0&&(u+=d*v,h+=p*v)}return d=t[0]-u,p=t[1]-h,d*d+p*p}function gu(t,e,s,u,h,d,p,v){var k=s-t,N=u-e,S=p-h,I=v-d,T=t-h,z=e-d,M=k*k+N*N,b=k*S+N*I,$=S*S+I*I,A=k*T+N*z,C=S*T+I*z,O=M*$-b*b,Z,U,X,V,W=O,K=O;O===0?(U=0,W=1,V=C,K=$):(U=b*C-$*A,V=M*C-b*A,U<0?(U=0,V=C,K=$):U>W&&(U=W,V=C+b,K=$)),V<0?(V=0,-A<0?U=0:-A>M?U=W:(U=-A,W=M)):V>K&&(V=K,-A+b<0?U=0:-A+b>M?U=W:(U=-A+b,W=M)),Z=U===0?0:U/W,X=V===0?0:V/K;var at=(1-Z)*t+Z*s,ft=(1-Z)*e+Z*u,pt=(1-X)*h+X*p,Bt=(1-X)*d+X*v,et=pt-at,Nt=Bt-ft;return et*et+Nt*Nt}function _1(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function y1(t){t.sort(_1);for(var e=[],s=0;s<t.length;s++){for(;e.length>=2&&Ps(e[e.length-2],e[e.length-1],t[s])<=0;)e.pop();e.push(t[s])}for(var u=[],h=t.length-1;h>=0;h--){for(;u.length>=2&&Ps(u[u.length-2],u[u.length-1],t[h])<=0;)u.pop();u.push(t[h])}return u.pop(),e.pop(),e.concat(u)}var x1=If.exports;const k1=al(x1);function w1(t,e={}){e.concavity=e.concavity||1/0;const s=[];if(Nf(t,h=>{s.push([h[0],h[1]])}),!s.length)return null;const u=k1(s,e.concavity);return u.length>3?l0([u]):null}function E1(t){const e=t.trim().split(`
`);if(e.length<2)return[];function s(d){const p=[];let v="",k=!1;for(let N=0;N<d.length;N++){const S=d[N];S==='"'?k=!k:S===","&&!k?(p.push(v.trim()),v=""):v+=S}return p.push(v.trim()),p}const u=s(e[0]),h=[];for(let d=1;d<e.length;d++){const p=s(e[d]),v={};u.forEach((k,N)=>{v[k]=p[N]||""}),h.push(v)}return h}function S1(t){if(!t||typeof t!="string")return null;const e=t.split(",").map(h=>h.trim());if(e.length!==2)return null;const s=parseFloat(e[0]),u=parseFloat(e[1]);return isNaN(s)||isNaN(u)||s<-90||s>90||u<-180||u>180?null:[u,s]}async function N1(t,e){try{const s=`https://docs.google.com/spreadsheets/d/${t}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent(e)}`;console.log("[fetchSheetData] Fetching from:",s);const u=await fetch(s);if(!u.ok)throw new Error(`Failed to fetch sheet data: ${u.status} ${u.statusText}`);const h=await u.text();console.log("[fetchSheetData] Received CSV data:",h.substring(0,200));const d=E1(h);console.log("[fetchSheetData] Parsed rows:",d.length);const p=d.map(v=>{const k=S1(v.Latlon),N=parseFloat(v.Poeng);return!k||isNaN(N)||N<0?null:{name:v.Sted||"Unknown",coordinates:k,score:N}}).filter(v=>v!==null);return console.log("[fetchSheetData] Valid places with scores:",p.length),p}catch(s){throw console.error("[fetchSheetData] Error fetching sheet data:",s),s}}function vg(t,e,s=10){if(!t||e<=0)return[];const u=[];try{for(let h=s;h>=0;h--){const d=e*h/s,p=1-h/s;if(d>0){const v=t1(t,d,{units:"kilometers"});v&&u.push({geometry:v.geometry,opacity:p*.3})}else u.push({geometry:t,opacity:.3})}return u}catch(h){return console.error("[createGradientBuffers] Error creating buffers:",h),[]}}const I1="10SnSQIjUFzHz0zXi1TbXbescLkO4ZYqRXJncA7VROZI",L1="Resultater",T1=1e4;function C1(){const[t,e]=Rt.useState([]),[s,u]=Rt.useState(null),[h,d]=Rt.useState([]),[p,v]=Rt.useState(100),[k,N]=Rt.useState(!0),[S,I]=Rt.useState(null),[T,z]=Rt.useState(null),M=async()=>{try{N(!0),I(null),console.log("[PlacesVisualization] Fetching data...");const b=await N1(I1,L1);if(console.log("[PlacesVisualization] Loaded places:",b.length),e(b),z(new Date),b.length>0)if(b.length>=3){const $=el(b.map(O=>bp(O.coordinates))),A=w1($);console.log("[PlacesVisualization] Convex hull:",A?"created":"failed");const C=A?A.geometry:null;if(u(C),C){const O=vg(C,p);console.log("[PlacesVisualization] Created",O.length,"gradient buffers"),d(O)}}else if(b.length===2){const $=h0(b.map(A=>A.coordinates));u($.geometry),d([])}else u(null),d([]);else u(null),d([]);N(!1)}catch(b){console.error("[PlacesVisualization] Error loading data:",b),I(b.message),N(!1)}};return Rt.useEffect(()=>{M();const b=setInterval(()=>{console.log("[PlacesVisualization] Auto-refreshing data..."),M()},T1);return()=>clearInterval(b)},[]),Rt.useEffect(()=>{if(s&&s.type==="Polygon"){const b=vg(s,p);console.log("[PlacesVisualization] Recalculated gradient buffers:",b.length),d(b)}},[p,s]),k&&t.length===0?wt.jsx("div",{className:"visualization-container",children:wt.jsxs("div",{className:"loading-message",children:[wt.jsx("h2",{children:"Laster data..."}),wt.jsx("p",{children:"Henter resultater fra Google Sheets"})]})}):S&&t.length===0?wt.jsx("div",{className:"visualization-container",children:wt.jsxs("div",{className:"error-message",children:[wt.jsx("h2",{children:"Feil ved lasting av data"}),wt.jsx("p",{children:S}),wt.jsx("button",{onClick:M,className:"btn-retry",children:"Prv igjen"})]})}):wt.jsxs("div",{className:"visualization-container",children:[wt.jsxs("div",{className:"control-panel",children:[wt.jsxs("div",{className:"header",children:[wt.jsx("h1",{children:"Resultatvisualisering"}),wt.jsx("p",{className:"description",children:"Geografisk fordeling av poeng"})]}),wt.jsxs("div",{className:"stats",children:[wt.jsxs("div",{className:"stat-item",children:[wt.jsx("span",{className:"stat-label",children:"Antall steder:"}),wt.jsx("span",{className:"stat-value",children:t.length})]}),wt.jsxs("div",{className:"stat-item",children:[wt.jsx("span",{className:"stat-label",children:"Totalt poeng:"}),wt.jsx("span",{className:"stat-value",children:t.reduce((b,$)=>b+$.score,0).toFixed(0)})]}),T&&wt.jsxs("div",{className:"stat-item",children:[wt.jsx("span",{className:"stat-label",children:"Sist oppdatert:"}),wt.jsx("span",{className:"stat-value",children:T.toLocaleTimeString("nb-NO")})]})]}),wt.jsxs("div",{className:"radius-control",children:[wt.jsxs("label",{htmlFor:"gradient-slider",children:["Gradientbredde: ",wt.jsxs("strong",{children:[p," km"]})]}),wt.jsx("input",{id:"gradient-slider",type:"range",min:"10",max:"300",step:"10",value:p,onChange:b=>v(Number(b.target.value)),className:"radius-slider"})]}),wt.jsxs("div",{className:"places-list",children:[wt.jsx("h3",{children:"Steder med poeng:"}),wt.jsx("div",{className:"places-scroll",children:t.sort((b,$)=>$.score-b.score).map((b,$)=>wt.jsxs("div",{className:"place-item",children:[wt.jsx("span",{className:"place-name",children:b.name}),wt.jsxs("span",{className:"place-score",children:[b.score," poeng"]})]},$))})]}),S&&wt.jsx("div",{className:"warning-message",children:wt.jsxs("small",{children:["Advarsel: ",S]})})]}),wt.jsx("div",{className:"map-panel",children:wt.jsx(u0,{places:t,convexHull:s,gradientBuffers:h})})]})}function P1(){return wt.jsx("div",{className:"app",children:wt.jsx(C1,{})})}Nh.createRoot(document.getElementById("root")).render(wt.jsx(Pu.StrictMode,{children:wt.jsx(P1,{})}));
